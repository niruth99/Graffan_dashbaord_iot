/*! For license information please see module.js.LICENSE.txt */
define(["@grafana/data","@grafana/ui","@grafana/runtime","react","@emotion/css","@emotion/react","rxjs","react-dom","redux","react-redux"],((e,t,n,r,a,o,i,l,s,d)=>(()=>{var c={774:(e,t,n)=>{"use strict";var r=n(7),a=n(959),o=n(89),i=n(470);const l=e=>({rootOutline:o.css`
      border: 1px solid ${e.colors.border.weak};
      background-color: ${e.colors.background.primary};
    `,header:o.css`
      padding: ${e.spacing(.5,.5)};
      min-height: ${e.spacing(4)};
      display: flex;
      align-items: center;
      justify-content: flex-start;
      white-space: nowrap;

      &:focus {
        outline: none;
      }
    `,headerSolid:o.css`
      border-radius: ${e.shape.radius?.default};
      background: ${e.colors.background.secondary};
    `,title:o.css`
      font-weight: ${e.typography.fontWeightBold};
      margin: ${e.spacing(0,.5)};
      overflow: hidden;
      text-overflow: ellipsis;
    `,collapseIcon:o.css`
      margin-left: ${e.spacing(.5)};
      color: ${e.colors.text.disabled};
    `,actions:o.css`
      margin-left: auto;
      display: flex;
      align-items: center;
    `});var s=(e=>(e.SELECT="select",e.SLIDER="slider",e.GROUP="group",e.CUSTOM="custom",e.COLOR="color",e.RADIO="radio",e.HIDDEN="hidden",e.INPUT="input",e.NUMBER_INPUT="numberInput",e))(s||{});const d=({value:e,onChange:t,min:n,max:o,step:i,...l})=>{const s=a.useRef(null),[d,c]=a.useState(e?.toString()??"0"),u=a.useCallback((e=>{c(e.currentTarget.value)}),[]),p=a.useCallback((()=>{let e=Number(d);Number.isNaN(e)&&(e=0),void 0!==i&&1e3*e%(1e3*i)!=0&&(e=0),void 0!==o&&e>o?e=o:void 0!==n&&e<n&&(e=n),t?.(e),c(e.toString())}),[d,o,n,t,i]),m=a.useCallback((e=>{"Enter"===e.key&&s.current?.blur()}),[p]);return a.useEffect((()=>{c(e?.toString()||"0")}),[e]),a.createElement(r.Input,{ref:s,...l,type:"text",value:d,onChange:u,onBlur:p,onKeyDown:m})},{default:c}=(r.stylesFactory(((e,t,n=!1)=>{const{spacing:r}=e,a=e.colors.border.strong,l=e.colors.primary.main,s=e.colors.primary.main,d=`box-shadow: 0px 0px 0px 6px ${e.colors.primary.transparent}`;return{container:o.css({width:"100%",margin:t?"inherit":r(1,3,1,1),paddingBottom:t&&n?e.spacing(1):"inherit",height:t?"auto":"100%"}),slider:o.css`
      .rc-slider {
        display: flex;
        flex-grow: 1;
        margin-left: 7px; // half the size of the handle to align handle to the left on 0 value
      }
      .rc-slider-mark {
        top: ${e.spacing(1.75)};
      }
      .rc-slider-mark-text {
        color: ${e.colors.text.disabled};
        font-size: ${e.typography.bodySmall.fontSize};
      }
      .rc-slider-mark-text-active {
        color: ${e.colors.text.primary};
      }
      .rc-slider-handle {
        border: none;
        background-color: ${s};
        box-shadow: ${e.shadows.z1};
        cursor: pointer;
        opacity: 1;
      }

      .rc-slider-handle:hover,
      .rc-slider-handle:active,
      .rc-slider-handle-click-focused:focus {
        ${d};
      }

      // The triple class names is needed because that's the specificity used in the source css :(
      .rc-slider-handle-dragging.rc-slider-handle-dragging.rc-slider-handle-dragging,
      .rc-slider-handle:focus-visible {
        box-shadow: 0 0 0 5px ${e.colors.text.primary};
      }

      .rc-slider-dot,
      .rc-slider-dot-active {
        background-color: ${e.colors.text.primary};
        border-color: ${e.colors.text.primary};
      }

      .rc-slider-track {
        background-color: ${l};
      }
      .rc-slider-rail {
        background-color: ${a};
        cursor: pointer;
      }
    `,tooltip:i.css`
      body {
        .rc-slider-tooltip {
          cursor: grab;
          user-select: none;
          z-index: ${e.zIndex.tooltip};
        }

        .rc-slider-tooltip-inner {
          color: ${e.colors.text.primary};
          background-color: transparent !important;
          border-radius: 0;
          box-shadow: none;
        }

        .rc-slider-tooltip-placement-top .rc-slider-tooltip-arrow {
          display: none;
        }

        .rc-slider-tooltip-placement-top {
          padding: 0;
        }
      }
    `,sliderInput:o.css({display:"flex",flexDirection:"row",alignItems:"center",width:"100%"}),sliderInputVertical:o.css({flexDirection:"column",height:"100%",".rc-slider":{margin:0,order:2}}),sliderInputField:o.css({marginLeft:e.spacing(3),input:{textAlign:"center"}}),sliderInputFieldVertical:o.css({margin:`0 0 ${e.spacing(3)} 0`,order:1})}})),n(339));t.OA=class{constructor(e,t=r.CodeEditorSuggestionItemKind.Property){this.detail=e,this.kind=t,this.value={}}},t.Fn=class{constructor(e,t="context"){this.suggestions=[],this.suggestions.push({label:t,kind:r.CodeEditorSuggestionItemKind.Constant,detail:e.detail}),this.addSuggestions(t,e)}addSuggestions(e,t){Object.entries(t.items).forEach((([t,n])=>{const a=`${e}.${t}`;if("items"in n)return this.suggestions.push({label:a,detail:n.detail,kind:r.CodeEditorSuggestionItemKind.Property}),void this.addSuggestions(a,n);this.suggestions.push({label:a,detail:n.detail,kind:n.kind})}))}create(e){return e}},t.SD=({title:e,actions:t,children:n,isOpen:i=!1,onToggle:s,headerTestId:d,contentTestId:c,fill:u="outline",isInlineContent:p=!1})=>{const m=r.useTheme2(),f=r.useStyles2(l),g="solid"===u,b="outline"===u;return a.createElement("div",{className:o.cx({[f.rootOutline]:b})},a.createElement("div",{className:o.cx(f.header,{[f.headerSolid]:g}),"data-testid":d,onClick:()=>s?.(!i)},a.createElement(r.IconButton,{name:i?"angle-down":"angle-right",tooltip:i?"Collapse":"Expand",className:f.collapseIcon,"aria-expanded":i}),a.createElement("div",{className:f.title},e),t&&a.createElement("div",{className:f.actions,onClick:e=>e.stopPropagation()},t)),i&&a.createElement("div",{style:{padding:p?0:m.spacing(.5)},"data-testid":c},n))},t.Q7=d},997:(e,t)=>{"use strict";t.B=(e,t=[])=>n=>Object.entries(e).reduce(((e,[r,a])=>({...e,[r]:(e=!1,...o)=>{const i="function"==typeof a?a(...o):a;return i.startsWith("data-testid")||t.includes(r)?e?n.queryByTestId(i):n.getByTestId(i):e?n.queryByLabelText(i):n.getByLabelText(i)}})),{})},339:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t,n){return a=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==r(a)?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;var a}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function d(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],s=!0,d=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){d=!0,a=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(d)throw a}}return l}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.r(t),n.d(t,{default:()=>H});var u=n(452),p=n.n(u),m=n(959);function f(e){var t=m.useRef();t.current=e;var n=m.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return n}var g="undefined"!=typeof window&&window.document&&window.document.createElement?m.useLayoutEffect:m.useEffect,b=function(e,t){!function(e,t){var n=m.useRef(!0);g((function(){return e(n.current)}),t),g((function(){return n.current=!1,function(){n.current=!0}}),[])}((function(t){if(!t)return e()}),t)};function h(e){var t=m.useRef(!1),n=c(m.useState(e),2),r=n[0],a=n[1];return m.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[r,function(e,n){n&&t.current||a(e)}]}function v(e){return void 0!==e}var y={},E=[];function I(e,t){}function O(e,t){}function S(e,t,n){t||y[n]||(e(!1,n),y[n]=!0)}function w(e,t){S(I,e,t)}w.preMessage=function(e){E.push(e)},w.resetWarned=function(){y={}},w.noteOnce=function(e,t){S(O,e,t)};const C=w,D=m.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}});var A=n(102);function x(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var T={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=T.F1&&t<=T.F12)return!1;switch(t){case T.ALT:case T.CAPS_LOCK:case T.CONTEXT_MENU:case T.CTRL:case T.DOWN:case T.END:case T.ESC:case T.HOME:case T.INSERT:case T.LEFT:case T.MAC_FF_META:case T.META:case T.NUMLOCK:case T.NUM_CENTER:case T.PAGE_DOWN:case T.PAGE_UP:case T.PAUSE:case T.PRINT_SCREEN:case T.RIGHT:case T.SHIFT:case T.UP:case T.WIN_KEY:case T.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=T.ZERO&&e<=T.NINE)return!0;if(e>=T.NUM_ZERO&&e<=T.NUM_MULTIPLY)return!0;if(e>=T.A&&e<=T.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case T.SPACE:case T.QUESTION_MARK:case T.NUM_PLUS:case T.NUM_MINUS:case T.NUM_PERIOD:case T.NUM_DIVISION:case T.SEMICOLON:case T.DASH:case T.EQUALS:case T.COMMA:case T.PERIOD:case T.SLASH:case T.APOSTROPHE:case T.SINGLE_QUOTE:case T.OPEN_SQUARE_BRACKET:case T.BACKSLASH:case T.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const P=T;function R(e,t,n){return(e-t)/(n-t)}function N(e,t,n,r){var a=R(t,n,r),o={};switch(e){case"rtl":o.right="".concat(100*a,"%"),o.transform="translateX(50%)";break;case"btt":o.bottom="".concat(100*a,"%"),o.transform="translateY(50%)";break;case"ttb":o.top="".concat(100*a,"%"),o.transform="translateY(-50%)";break;default:o.left="".concat(100*a,"%"),o.transform="translateX(-50%)"}return o}function M(e,t){return Array.isArray(e)?e[t]:e}var L=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange","onChangeComplete"];const B=m.forwardRef((function(e,t){var n,r,o=e.prefixCls,l=e.value,s=e.valueIndex,d=e.onStartMove,c=e.style,u=e.render,f=e.dragging,g=e.onOffsetChange,b=e.onChangeComplete,h=x(e,L),v=m.useContext(D),y=v.min,E=v.max,I=v.direction,O=v.disabled,S=v.keyboard,w=v.range,C=v.tabIndex,T=v.ariaLabelForHandle,R=v.ariaLabelledByForHandle,B=v.ariaValueTextFormatterForHandle,k=v.styles,F=v.classNames,j="".concat(o,"-handle"),U=function(e){O||d(e,s)},V=N(I,l,y,E),G=m.createElement("div",(0,A.A)({ref:t,className:p()(j,(n={},a(n,"".concat(j,"-").concat(s+1),w),a(n,"".concat(j,"-dragging"),f),n),F.handle),style:i(i(i({},V),c),k.handle),onMouseDown:U,onTouchStart:U,onKeyDown:function(e){if(!O&&S){var t=null;switch(e.which||e.keyCode){case P.LEFT:t="ltr"===I||"btt"===I?-1:1;break;case P.RIGHT:t="ltr"===I||"btt"===I?1:-1;break;case P.UP:t="ttb"!==I?1:-1;break;case P.DOWN:t="ttb"!==I?-1:1;break;case P.HOME:t="min";break;case P.END:t="max";break;case P.PAGE_UP:t=2;break;case P.PAGE_DOWN:t=-2}null!==t&&(e.preventDefault(),g(t,s))}},onKeyUp:function(e){switch(e.which||e.keyCode){case P.LEFT:case P.RIGHT:case P.UP:case P.DOWN:case P.HOME:case P.END:case P.PAGE_UP:case P.PAGE_DOWN:null==b||b()}},tabIndex:O?null:M(C,s),role:"slider","aria-valuemin":y,"aria-valuemax":E,"aria-valuenow":l,"aria-disabled":O,"aria-label":M(T,s),"aria-labelledby":M(R,s),"aria-valuetext":null===(r=M(B,s))||void 0===r?void 0:r(l),"aria-orientation":"ltr"===I||"rtl"===I?"horizontal":"vertical"},h));return u&&(G=u(G,{index:s,prefixCls:o,value:l,dragging:f})),G}));var k=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","draggingIndex"];const F=m.forwardRef((function(e,t){var n=e.prefixCls,r=e.style,a=e.onStartMove,o=e.onOffsetChange,i=e.values,l=e.handleRender,s=e.draggingIndex,d=x(e,k),c=m.useRef({});return m.useImperativeHandle(t,(function(){return{focus:function(e){var t;null===(t=c.current[e])||void 0===t||t.focus()}}})),m.createElement(m.Fragment,null,i.map((function(e,t){return m.createElement(B,(0,A.A)({ref:function(e){e?c.current[t]=e:delete c.current[t]},dragging:s===t,prefixCls:n,style:M(r,t),key:t,value:e,valueIndex:t,onStartMove:a,onOffsetChange:o,render:l},d))})))}));function j(e){var t="touches"in e?e.touches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function U(e){var t=e.prefixCls,n=e.style,r=e.children,o=e.value,l=e.onClick,s=m.useContext(D),d=s.min,c=s.max,u=s.direction,f=s.includedStart,g=s.includedEnd,b=s.included,h="".concat(t,"-text"),v=N(u,o,d,c);return m.createElement("span",{className:p()(h,a({},"".concat(h,"-active"),b&&f<=o&&o<=g)),style:i(i({},v),n),onMouseDown:function(e){e.stopPropagation()},onClick:function(){l(o)}},r)}function V(e){var t=e.prefixCls,n=e.marks,r=e.onClick,a="".concat(t,"-mark");return n.length?m.createElement("div",{className:a},n.map((function(e){var t=e.value,n=e.style,o=e.label;return m.createElement(U,{key:t,prefixCls:a,style:n,value:t,onClick:r},o)}))):null}function G(e){var t=e.prefixCls,n=e.value,r=e.style,o=e.activeStyle,l=m.useContext(D),s=l.min,d=l.max,c=l.direction,u=l.included,f=l.includedStart,g=l.includedEnd,b="".concat(t,"-dot"),h=u&&f<=n&&n<=g,v=i(i({},N(c,n,s,d)),"function"==typeof r?r(n):r);return h&&(v=i(i({},v),"function"==typeof o?o(n):o)),m.createElement("span",{className:p()(b,a({},"".concat(b,"-active"),h)),style:v})}function _(e){var t=e.prefixCls,n=e.marks,r=e.dots,a=e.style,o=e.activeStyle,i=m.useContext(D),l=i.min,s=i.max,d=i.step,c=m.useMemo((function(){var e=new Set;if(n.forEach((function(t){e.add(t.value)})),r&&null!==d)for(var t=l;t<=s;)e.add(t),t+=d;return Array.from(e)}),[l,s,d,r,n]);return m.createElement("div",{className:"".concat(t,"-step")},c.map((function(e){return m.createElement(G,{prefixCls:t,key:e,value:e,style:a,activeStyle:o})})))}function W(e){var t,n=e.prefixCls,r=e.style,o=e.start,l=e.end,s=e.index,d=e.onStartMove,c=e.replaceCls,u=m.useContext(D),f=u.direction,g=u.min,b=u.max,h=u.disabled,v=u.range,y=u.classNames,E="".concat(n,"-track"),I=R(o,g,b),O=R(l,g,b),S=function(e){!h&&d&&d(e,-1)},w={};switch(f){case"rtl":w.right="".concat(100*I,"%"),w.width="".concat(100*O-100*I,"%");break;case"btt":w.bottom="".concat(100*I,"%"),w.height="".concat(100*O-100*I,"%");break;case"ttb":w.top="".concat(100*I,"%"),w.height="".concat(100*O-100*I,"%");break;default:w.left="".concat(100*I,"%"),w.width="".concat(100*O-100*I,"%")}var C=c||p()(E,(a(t={},"".concat(E,"-").concat(s+1),null!==s&&v),a(t,"".concat(n,"-track-draggable"),d),t),y.track);return m.createElement("div",{className:C,style:i(i({},w),r),onMouseDown:S,onTouchStart:S})}function $(e){var t=e.prefixCls,n=e.style,r=e.values,a=e.startPoint,o=e.onStartMove,l=m.useContext(D),s=l.included,d=l.range,c=l.min,u=l.styles,f=l.classNames,g=m.useMemo((function(){if(!d){if(0===r.length)return[];var e=null!=a?a:c,t=r[0];return[{start:Math.min(e,t),end:Math.max(e,t)}]}for(var n=[],o=0;o<r.length-1;o+=1)n.push({start:r[o],end:r[o+1]});return n}),[r,d,a,c]),b=null;return(f.tracks||u.tracks)&&(b=m.createElement(W,{index:null,prefixCls:t,start:g[0].start,end:g[g.length-1].end,replaceCls:p()(f.tracks,"".concat(t,"-tracks")),style:u.tracks})),s?m.createElement(m.Fragment,null,b,g.map((function(e,r){var a=e.start,l=e.end;return m.createElement(W,{index:r,prefixCls:t,style:i(i({},M(n,r)),u.track),start:a,end:l,key:r,onStartMove:o})}))):null}const H=m.forwardRef((function(e,t){var n,o=e.prefixCls,l=void 0===o?"rc-slider":o,s=e.className,u=e.style,g=e.classNames,y=e.styles,E=e.disabled,I=void 0!==E&&E,O=e.keyboard,S=void 0===O||O,w=e.autoFocus,A=e.onFocus,x=e.onBlur,T=e.min,P=void 0===T?0:T,R=e.max,N=void 0===R?100:R,M=e.step,L=void 0===M?1:M,B=e.value,k=e.defaultValue,U=e.range,G=e.count,W=e.onChange,H=e.onBeforeChange,q=e.onAfterChange,K=e.onChangeComplete,Q=e.allowCross,z=void 0===Q||Q,Y=e.pushable,J=void 0!==Y&&Y,X=e.draggableTrack,Z=e.reverse,ee=e.vertical,te=e.included,ne=void 0===te||te,re=e.startPoint,ae=e.trackStyle,oe=e.handleStyle,ie=e.railStyle,le=e.dotStyle,se=e.activeDotStyle,de=e.marks,ce=e.dots,ue=e.handleRender,pe=e.tabIndex,me=void 0===pe?0:pe,fe=e.ariaLabelForHandle,ge=e.ariaLabelledByForHandle,be=e.ariaValueTextFormatterForHandle,he=m.useRef(),ve=m.useRef(),ye=m.useMemo((function(){return ee?Z?"ttb":"btt":Z?"rtl":"ltr"}),[Z,ee]),Ee=m.useMemo((function(){return isFinite(P)?P:0}),[P]),Ie=m.useMemo((function(){return isFinite(N)?N:100}),[N]),Oe=m.useMemo((function(){return null!==L&&L<=0?1:L}),[L]),Se=m.useMemo((function(){return"boolean"==typeof J?!!J&&Oe:J>=0&&J}),[J,Oe]),we=m.useMemo((function(){return Object.keys(de||{}).map((function(e){var t=de[e],n={value:Number(e)};return t&&"object"===r(t)&&!m.isValidElement(t)&&("label"in t||"style"in t)?(n.style=t.style,n.label=t.label):n.label=t,n})).filter((function(e){var t=e.label;return t||"number"==typeof t})).sort((function(e,t){return e.value-t.value}))}),[de]),Ce=function(e,t,n,r,a,o){var i=m.useCallback((function(n){var r=isFinite(n);return r=Math.min(t,n),Math.max(e,r)}),[e,t]),l=m.useCallback((function(r){if(null!==n){var a=e+Math.round((i(r)-e)/n)*n,o=function(e){return(String(e).split(".")[1]||"").length},l=Math.max(o(n),o(t),o(e)),s=Number(a.toFixed(l));return e<=s&&s<=t?s:null}return null}),[n,e,t,i]),s=m.useCallback((function(a){var o=i(a),s=r.map((function(e){return e.value}));null!==n&&s.push(l(a)),s.push(e,t);var d=s[0],c=t-e;return s.forEach((function(e){var t=Math.abs(o-e);t<=c&&(d=e,c=t)})),d}),[e,t,r,n,i,l]),c=function a(o,i,s){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit";if("number"==typeof i){var u,p=o[s],m=p+i,f=[];r.forEach((function(e){f.push(e.value)})),f.push(e,t),f.push(l(p));var g=i>0?1:-1;"unit"===c?f.push(l(p+g*n)):f.push(l(m)),f=f.filter((function(e){return null!==e})).filter((function(e){return i<0?e<=p:e>=p})),"unit"===c&&(f=f.filter((function(e){return e!==p})));var b="unit"===c?p:m;u=f[0];var h=Math.abs(u-b);if(f.forEach((function(e){var t=Math.abs(e-b);t<h&&(u=e,h=t)})),void 0===u)return i<0?e:t;if("dist"===c)return u;if(Math.abs(i)>1){var v=d(o);return v[s]=u,a(v,i-g,s,c)}return u}return"min"===i?e:"max"===i?t:void 0},u=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",a=e[n],o=c(e,t,n,r);return{value:o,changed:o!==a}},p=function(e){return null===o&&0===e||"number"==typeof o&&e<o};return[s,function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",i=e.map(s),l=i[n],d=c(i,t,n,r);if(i[n]=d,!1===a){var m=o||0;n>0&&i[n-1]!==l&&(i[n]=Math.max(i[n],i[n-1]+m)),n<i.length-1&&i[n+1]!==l&&(i[n]=Math.min(i[n],i[n+1]-m))}else if("number"==typeof o||null===o){for(var f=n+1;f<i.length;f+=1)for(var g=!0;p(i[f]-i[f-1])&&g;){var b=u(i,1,f);i[f]=b.value,g=b.changed}for(var h=n;h>0;h-=1)for(var v=!0;p(i[h]-i[h-1])&&v;){var y=u(i,-1,h-1);i[h-1]=y.value,v=y.changed}for(var E=i.length-1;E>0;E-=1)for(var I=!0;p(i[E]-i[E-1])&&I;){var O=u(i,-1,E-1);i[E-1]=O.value,I=O.changed}for(var S=0;S<i.length-1;S+=1)for(var w=!0;p(i[S+1]-i[S])&&w;){var C=u(i,1,S+1);i[S+1]=C.value,w=C.changed}}return{value:i[n],values:i}}]}(Ee,Ie,Oe,we,z,Se),De=c(Ce,2),Ae=De[0],xe=De[1],Te=function(e,t){var n=t||{},r=n.defaultValue,a=n.value,o=n.onChange,i=n.postState,l=c(h((function(){return v(a)?a:v(r)?"function"==typeof r?r():r:"function"==typeof e?e():e})),2),s=l[0],d=l[1],u=void 0!==a?a:s,p=i?i(u):u,m=f(o),g=c(h([u]),2),y=g[0],E=g[1];return b((function(){var e=y[0];s!==e&&m(s,e)}),[y]),b((function(){v(a)||d(a)}),[a]),[p,f((function(e,t){d(e,t),E([u],t)}))]}(k,{value:B}),Pe=c(Te,2),Re=Pe[0],Ne=Pe[1],Me=m.useMemo((function(){var e=null==Re?[]:Array.isArray(Re)?Re:[Re],t=c(e,1)[0],n=null===Re?[]:[void 0===t?Ee:t];if(U){if(n=d(e),G||void 0===Re){var r=G>=0?G+1:2;for(n=n.slice(0,r);n.length<r;){var a;n.push(null!==(a=n[n.length-1])&&void 0!==a?a:Ee)}}n.sort((function(e,t){return e-t}))}return n.forEach((function(e,t){n[t]=Ae(e)})),n}),[Re,U,Ee,G,Ae]),Le=m.useRef(Me);Le.current=Me;var Be=function(e){return U?e:e[0]},ke=function(e){var t=d(e).sort((function(e,t){return e-t}));W&&!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=new Set;return function e(t,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,l=a.has(t);if(C(!l,"Warning: There may be circular references"),l)return!1;if(t===o)return!0;if(n&&i>1)return!1;a.add(t);var s=i+1;if(Array.isArray(t)){if(!Array.isArray(o)||t.length!==o.length)return!1;for(var d=0;d<t.length;d++)if(!e(t[d],o[d],s))return!1;return!0}if(t&&o&&"object"===r(t)&&"object"===r(o)){var c=Object.keys(t);return c.length===Object.keys(o).length&&c.every((function(n){return e(t[n],o[n],s)}))}return!1}(e,t)}(t,Le.current,!0)&&W(Be(t)),Ne(t)},Fe=function(){null==q||q(Be(Le.current)),C(!q,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),null==K||K(Be(Le.current))},je=function(e,t,n,r,a,o,i,l,s){var u=c(m.useState(null),2),p=u[0],f=u[1],g=c(m.useState(-1),2),b=g[0],h=g[1],v=c(m.useState(n),2),y=v[0],E=v[1],I=c(m.useState(n),2),O=I[0],S=I[1],w=m.useRef(null),C=m.useRef(null);m.useEffect((function(){-1===b&&E(n)}),[n,b]),m.useEffect((function(){return function(){document.removeEventListener("mousemove",w.current),document.removeEventListener("mouseup",C.current),document.removeEventListener("touchmove",w.current),document.removeEventListener("touchend",C.current)}}),[]);var D=function(e,t){y.some((function(t,n){return t!==e[n]}))&&(void 0!==t&&f(t),E(e),i(e))},A=function(e,t){if(-1===e){var n=O[0],i=O[O.length-1],l=r-n,c=a-i,u=t*(a-r);u=Math.max(u,l),u=Math.min(u,c);var p=o(n+u);u=p-n;var m=O.map((function(e){return e+u}));D(m)}else{var f=(a-r)*t,g=d(y);g[e]=O[e];var b=s(g,f,e,"dist");D(b.values,b.value)}},x=m.useRef(A);x.current=A;var T=m.useMemo((function(){var e=d(n).sort((function(e,t){return e-t})),t=d(y).sort((function(e,t){return e-t}));return e.every((function(e,n){return e===t[n]}))?y:n}),[n,y]);return[b,p,T,function(r,a,o){r.stopPropagation();var i=o||n,s=i[a];h(a),f(s),S(i);var d=j(r),c=d.pageX,u=d.pageY,p=function(n){n.preventDefault();var r,o=j(n),i=o.pageX,l=o.pageY,s=i-c,d=l-u,p=e.current.getBoundingClientRect(),m=p.width,f=p.height;switch(t){case"btt":r=-d/f;break;case"ttb":r=d/f;break;case"rtl":r=-s/m;break;default:r=s/m}x.current(a,r)},m=function e(t){t.preventDefault(),document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",p),document.removeEventListener("touchend",e),document.removeEventListener("touchmove",p),w.current=null,C.current=null,h(-1),l()};document.addEventListener("mouseup",m),document.addEventListener("mousemove",p),document.addEventListener("touchend",m),document.addEventListener("touchmove",p),w.current=p,C.current=m}]}(ve,ye,Me,Ee,Ie,Ae,ke,Fe,xe),Ue=c(je,4),Ve=Ue[0],Ge=Ue[1],_e=Ue[2],We=Ue[3],$e=function(e,t){if(!I){var n=0,r=Ie-Ee;Me.forEach((function(t,a){var o=Math.abs(e-t);o<=r&&(r=o,n=a)}));var a=d(Me);a[n]=e,U&&!Me.length&&void 0===G&&a.push(e),null==H||H(Be(a)),ke(a),t&&We(t,n,a)}},He=c(m.useState(null),2),qe=He[0],Ke=He[1];m.useEffect((function(){if(null!==qe){var e=Me.indexOf(qe);e>=0&&he.current.focus(e)}Ke(null)}),[qe]);var Qe=m.useMemo((function(){return(!X||null!==Oe)&&X}),[X,Oe]),ze=function(e,t){We(e,t),null==H||H(Be(Le.current))},Ye=-1!==Ve;m.useEffect((function(){if(!Ye){var e=Me.lastIndexOf(Ge);he.current.focus(e)}}),[Ye]);var Je=m.useMemo((function(){return d(_e).sort((function(e,t){return e-t}))}),[_e]),Xe=c(m.useMemo((function(){return U?[Je[0],Je[Je.length-1]]:[Ee,Je[0]]}),[Je,U,Ee]),2),Ze=Xe[0],et=Xe[1];m.useImperativeHandle(t,(function(){return{focus:function(){he.current.focus(0)},blur:function(){var e=document.activeElement;ve.current.contains(e)&&(null==e||e.blur())}}})),m.useEffect((function(){w&&he.current.focus(0)}),[]);var tt=m.useMemo((function(){return{min:Ee,max:Ie,direction:ye,disabled:I,keyboard:S,step:Oe,included:ne,includedStart:Ze,includedEnd:et,range:U,tabIndex:me,ariaLabelForHandle:fe,ariaLabelledByForHandle:ge,ariaValueTextFormatterForHandle:be,styles:y||{},classNames:g||{}}}),[Ee,Ie,ye,I,S,Oe,ne,Ze,et,U,me,fe,ge,be,y,g]);return m.createElement(D.Provider,{value:tt},m.createElement("div",{ref:ve,className:p()(l,s,(n={},a(n,"".concat(l,"-disabled"),I),a(n,"".concat(l,"-vertical"),ee),a(n,"".concat(l,"-horizontal"),!ee),a(n,"".concat(l,"-with-marks"),we.length),n)),style:u,onMouseDown:function(e){e.preventDefault();var t,n=ve.current.getBoundingClientRect(),r=n.width,a=n.height,o=n.left,i=n.top,l=n.bottom,s=n.right,d=e.clientX,c=e.clientY;switch(ye){case"btt":t=(l-c)/a;break;case"ttb":t=(c-i)/a;break;case"rtl":t=(s-d)/r;break;default:t=(d-o)/r}$e(Ae(Ee+t*(Ie-Ee)),e)}},m.createElement("div",{className:p()("".concat(l,"-rail"),null==g?void 0:g.rail),style:i(i({},ie),null==y?void 0:y.rail)}),m.createElement($,{prefixCls:l,style:ae,values:Je,startPoint:re,onStartMove:Qe?ze:null}),m.createElement(_,{prefixCls:l,marks:we,dots:ce,style:le,activeStyle:se}),m.createElement(F,{ref:he,prefixCls:l,style:oe,values:_e,draggingIndex:Ve,onStartMove:ze,onOffsetChange:function(e,t){if(!I){var n=xe(Me,e,t);null==H||H(Be(Me)),ke(n.values),Ke(n.value)}},onFocus:A,onBlur:x,handleRender:ue,onChangeComplete:Fe}),m.createElement(V,{prefixCls:l,marks:we,onClick:$e})))}))},89:e=>{"use strict";e.exports=a},470:e=>{"use strict";e.exports=o},781:t=>{"use strict";t.exports=e},531:e=>{"use strict";e.exports=n},7:e=>{"use strict";e.exports=t},959:e=>{"use strict";e.exports=r},398:e=>{"use strict";e.exports=l},200:e=>{"use strict";e.exports=d},694:e=>{"use strict";e.exports=s},269:e=>{"use strict";e.exports=i},452:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=i(e,o(n)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=i(t,n));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},102:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{A:()=>r})}},u={};function p(e){var t=u[e];if(void 0!==t)return t.exports;var n=u[e]={exports:{}};return c[e](n,n.exports,p),n.exports}p.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return p.d(t,{a:t}),t},p.d=(e,t)=>{for(var n in t)p.o(t,n)&&!p.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},p.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),p.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var m={};return(()=>{"use strict";p.r(m),p.d(m,{plugin:()=>al});var e,t,n,r,a,o,i,l,s=p(781),d=p(7),c=p(531),u=p(959),f=p.n(u);!function(e){e.LEFT="left",e.CENTER="center",e.RIGHT="right"}(e||(e={})),function(e){e.SMALL="sm",e.MEDIUM="md",e.LARGE="lg"}(t||(t={})),function(e){e.CUSTOM="custom",e.DESTRUCTIVE="destructive",e.HIDDEN="hidden",e.PRIMARY="primary",e.SECONDARY="secondary"}(n||(n={})),function(e){e.JAVASCRIPT="javascript",e.JSON="json"}(r||(r={})),function(e){e.REQUEST="request",e.GET_PAYLOAD="getPayload",e.ELEMENT_VALUE_CHANGED="elementValueChanged",e.ELEMENT_SHOW_IF="elementShowIf",e.ELEMENT_DISABLE_IF="elementDisableIf",e.ELEMENT_GET_OPTIONS="elementGetOptions"}(a||(a={})),function(e){e.NEW_TAB="_blank",e.SELF_TAB="_self"}(o||(o={})),function(e){e.NAME="name",e.OLD_VALUE="oldValue",e.NEW_VALUE="newValue"}(i||(i={})),function(e){e.DISABLED="disabled",e.AUTO="auto",e.MANUAL="manual"}(l||(l={}));const g=[{value:n.HIDDEN,label:"Hidden"}],b=[{value:n.PRIMARY,label:"Primary"},{value:n.SECONDARY,label:"Secondary"},{value:n.DESTRUCTIVE,label:"Destructive"},{value:n.CUSTOM,label:"Custom"}],h=[{value:e.LEFT,label:"Left",icon:"horizontal-align-left"},{value:e.CENTER,label:"Center",icon:"horizontal-align-center"},{value:e.RIGHT,label:"Right",icon:"horizontal-align-right"}],v=[{value:t.SMALL,label:"Small"},{value:t.MEDIUM,label:"Medium"},{value:t.LARGE,label:"Large"}];var y=p(774);const E=new y.Fn({detail:"All properties and methods.",items:{panel:{detail:"Panel instance properties.",items:{data:new y.OA("Panel data."),options:new y.OA("Panel options."),onOptionsChange:new y.OA("Update panel options on dashboard.",d.CodeEditorSuggestionItemKind.Method),elements:new y.OA("Panel elements."),onChangeElements:new y.OA("Update panel elements.",d.CodeEditorSuggestionItemKind.Method),initial:new y.OA("Initial values."),setInitial:new y.OA("Allows to specify the initial values.",d.CodeEditorSuggestionItemKind.Method),initialRequest:new y.OA("Run Initial Request.",d.CodeEditorSuggestionItemKind.Method),enableSubmit:new y.OA("Enable submit button.",d.CodeEditorSuggestionItemKind.Method),disableSubmit:new y.OA("Disable submit button.",d.CodeEditorSuggestionItemKind.Method),response:new y.OA("Response object.")}},grafana:{detail:"Grafana properties and methods.",items:{backendService:new y.OA("Backend service."),locationService:new y.OA("Location service."),templateService:new y.OA("Template variables service."),notifyError:new y.OA("Show error notification.",d.CodeEditorSuggestionItemKind.Method),notifySuccess:new y.OA("Show success notification.",d.CodeEditorSuggestionItemKind.Method),notifyWarning:new y.OA("Show warning notification.",d.CodeEditorSuggestionItemKind.Method),eventBus:new y.OA("Panels events."),appEvents:new y.OA("Application events."),refresh:new y.OA("Refresh dashboard.",d.CodeEditorSuggestionItemKind.Method)}},utils:{detail:"Utils and helpers functions.",items:{toDataQueryResponse:new y.OA("Parse the results from /api/ds/query.",d.CodeEditorSuggestionItemKind.Method),fileToBase64:new y.OA("Converts File to Base64 string.",d.CodeEditorSuggestionItemKind.Method)}}}}),I=new y.Fn({detail:"All properties and methods.",items:{panel:{detail:"Panel instance properties.",items:{data:new y.OA("Panel data."),options:new y.OA("Panel options."),onOptionsChange:new y.OA("Update panel options on dashboard.",d.CodeEditorSuggestionItemKind.Method),elements:new y.OA("Panel elements."),onChangeElements:new y.OA("Update panel elements.",d.CodeEditorSuggestionItemKind.Method),initial:new y.OA("Initial values."),initialRequest:new y.OA("Run Initial Request.",d.CodeEditorSuggestionItemKind.Method),enableSubmit:new y.OA("Enable submit button.",d.CodeEditorSuggestionItemKind.Method),disableSubmit:new y.OA("Disable submit button.",d.CodeEditorSuggestionItemKind.Method),setError:new y.OA("Set panel error.",d.CodeEditorSuggestionItemKind.Method),enableReset:new y.OA("Enable reset button.",d.CodeEditorSuggestionItemKind.Method),disableReset:new y.OA("Disable reset button.",d.CodeEditorSuggestionItemKind.Method),enableSaveDefault:new y.OA("Enable save default button.",d.CodeEditorSuggestionItemKind.Method),disableSaveDefault:new y.OA("Disable save default button.",d.CodeEditorSuggestionItemKind.Method)}},grafana:{detail:"Grafana properties and methods.",items:{locationService:new y.OA("Location service."),templateService:new y.OA("Template variables service."),notifyError:new y.OA("Show error notification.",d.CodeEditorSuggestionItemKind.Method),notifySuccess:new y.OA("Show success notification.",d.CodeEditorSuggestionItemKind.Method),notifyWarning:new y.OA("Show warning notification.",d.CodeEditorSuggestionItemKind.Method),eventBus:new y.OA("Panels events."),appEvents:new y.OA("Application events."),refresh:new y.OA("Refresh dashboard.",d.CodeEditorSuggestionItemKind.Method)}},utils:{detail:"Utils and helpers functions.",items:{toDataQueryResponse:new y.OA("Parse the results from /api/ds/query.",d.CodeEditorSuggestionItemKind.Method)}},element:new y.OA("Form Element which value has been changed.")}}),O=new y.Fn({detail:"All properties and methods.",items:{panel:{detail:"Panel instance properties.",items:{elements:new y.OA("Panel elements.")}},grafana:{detail:"Grafana properties and methods.",items:{replaceVariables:new y.OA("Interpolate variables.",d.CodeEditorSuggestionItemKind.Method)}}}}),S=new y.Fn({detail:"All properties and methods.",items:{panel:{detail:"Panel instance properties.",items:{elements:new y.OA("Panel elements.")}},grafana:{detail:"Grafana properties and methods.",items:{replaceVariables:new y.OA("Interpolate variables.",d.CodeEditorSuggestionItemKind.Method)}}}}),w=new y.Fn({detail:"All properties and methods.",items:{panel:{detail:"Panel instance properties.",items:{data:new y.OA("Panel data."),elements:new y.OA("Panel elements.")}},grafana:{detail:"Grafana properties and methods.",items:{replaceVariables:new y.OA("Interpolate variables.",d.CodeEditorSuggestionItemKind.Method)}}}}),C=new y.Fn({detail:"All properties and methods.",items:{panel:{detail:"Panel instance properties.",items:{initial:new y.OA("Initial values."),elements:new y.OA("Panel elements.")}},utils:{detail:"Utils and helpers functions.",items:{fileToBase64:new y.OA("Converts File to Base64 string.",d.CodeEditorSuggestionItemKind.Method)}}}}),D=200,A=1e3,x=[{value:r.JAVASCRIPT,label:"Javascript"},{value:r.JSON,label:"JSON"}],T=[{label:"options",kind:d.CodeEditorSuggestionItemKind.Property,detail:"Panels' options."},{label:"data",kind:d.CodeEditorSuggestionItemKind.Property,detail:"Result set of panel queries."},{label:"response",kind:d.CodeEditorSuggestionItemKind.Property,detail:"Request's response"},{label:"initial",kind:d.CodeEditorSuggestionItemKind.Property,detail:"Parsed values from the Initial Request."},{label:"elements",kind:d.CodeEditorSuggestionItemKind.Property,detail:"Form Elements."},{label:"locationService",kind:d.CodeEditorSuggestionItemKind.Property,detail:"Allows to work with browser location and history."},{label:"templateService",kind:d.CodeEditorSuggestionItemKind.Property,detail:"Provides access to variables and allows to update Time Range."},{label:"onOptionsChange",kind:d.CodeEditorSuggestionItemKind.Method,detail:"Change handler to refresh panel."},{label:"initialRequest",kind:d.CodeEditorSuggestionItemKind.Method,detail:"Perform the Initial Request to reload panel."},{label:"setInitial",kind:d.CodeEditorSuggestionItemKind.Method,detail:"Allows to specify the initial values."},{label:"notifySuccess",kind:d.CodeEditorSuggestionItemKind.Method,detail:"Display successful notification."},{label:"notifyError",kind:d.CodeEditorSuggestionItemKind.Method,detail:"Display error notification."},{label:"notifyWarning",kind:d.CodeEditorSuggestionItemKind.Method,detail:"Display warning notification."},{label:"toDataQueryResponse",kind:d.CodeEditorSuggestionItemKind.Method,detail:"Parse the results from /api/ds/query."}],P={[a.REQUEST]:[...T,...E.suggestions],[a.GET_PAYLOAD]:[{label:"elements",kind:d.CodeEditorSuggestionItemKind.Property,detail:"Form Elements."},{label:"initial",kind:d.CodeEditorSuggestionItemKind.Property,detail:"Parsed values from the Initial Request."},...C.suggestions],[a.ELEMENT_VALUE_CHANGED]:I.suggestions,[a.ELEMENT_DISABLE_IF]:[{label:"elements",kind:d.CodeEditorSuggestionItemKind.Property,detail:"Form Elements."},{label:"replaceVariables",kind:d.CodeEditorSuggestionItemKind.Method,detail:"Interpolate variables."},...S.suggestions],[a.ELEMENT_SHOW_IF]:[{label:"elements",kind:d.CodeEditorSuggestionItemKind.Property,detail:"Form Elements."},{label:"replaceVariables",kind:d.CodeEditorSuggestionItemKind.Method,detail:"Interpolate variables."},...O.suggestions],[a.ELEMENT_GET_OPTIONS]:[{label:"data",kind:d.CodeEditorSuggestionItemKind.Property,detail:"Result set of panel queries."},{label:"elements",kind:d.CodeEditorSuggestionItemKind.Property,detail:"Form Elements."},{label:"replaceVariables",kind:d.CodeEditorSuggestionItemKind.Method,detail:"Interpolate variables."},...w.suggestions]},R=[{value:i.NAME,label:"Name"},{value:i.OLD_VALUE,label:"Old Value"},{value:i.NEW_VALUE,label:"New Value"}],N=[{value:!0,label:"Enabled",icon:"sync"},{value:!1,label:"Disabled",icon:"sync-slash"}],M={RadioButton:{container:"data-testid radio-button"},Breadcrumbs:{breadcrumb:e=>`data-testid ${e} breadcrumb`},TimePicker:{openButton:"data-testid TimePicker Open Button",overlayContent:"data-testid TimePicker Overlay Content",fromField:"data-testid Time Range from field",toField:"data-testid Time Range to field",applyTimeRange:"data-testid TimePicker submit button",copyTimeRange:"data-testid TimePicker copy button",pasteTimeRange:"data-testid TimePicker paste button",calendar:{label:"data-testid Time Range calendar",openButton:"data-testid Open time range calendar",closeButton:"data-testid Close time range Calendar"},absoluteTimeRangeTitle:"data-testid-absolute-time-range-narrow"},DataSourcePermissions:{form:()=>'form[name="addPermission"]',roleType:"Role to add new permission to",rolePicker:"Built-in role picker",permissionLevel:"Permission Level"},DateTimePicker:{input:"data-testid date-time-input"},DataSource:{TestData:{QueryTab:{scenarioSelectContainer:"Test Data Query scenario select container",scenarioSelect:"Test Data Query scenario select",max:"TestData max",min:"TestData min",noise:"TestData noise",seriesCount:"TestData series count",spread:"TestData spread",startValue:"TestData start value",drop:"TestData drop values"}},DataSourceHttpSettings:{urlInput:"data-testid Datasource HTTP settings url"},Jaeger:{traceIDInput:"Trace ID"},Prometheus:{configPage:{connectionSettings:"Data source connection URL",manageAlerts:"prometheus-alerts-manager",scrapeInterval:"data-testid scrape interval",queryTimeout:"data-testid query timeout",defaultEditor:"data-testid default editor",disableMetricLookup:"disable-metric-lookup",prometheusType:"data-testid prometheus type",prometheusVersion:"data-testid prometheus version",cacheLevel:"data-testid cache level",incrementalQuerying:"prometheus-incremental-querying",queryOverlapWindow:"data-testid query overlap window",disableRecordingRules:"disable-recording-rules",customQueryParameters:"data-testid custom query parameters",httpMethod:"data-testid http method",exemplarsAddButton:"data-testid Add exemplar config button",internalLinkSwitch:"data-testid Internal link switch"},queryEditor:{explain:"data-testid prometheus explain switch wrapper",editorToggle:"data-testid QueryEditorModeToggle",options:"data-testid prometheus options",legend:"data-testid prometheus legend wrapper",format:"data-testid prometheus format",step:"prometheus-step",type:"data-testid prometheus type",exemplars:"prometheus-exemplars",builder:{metricSelect:"data-testid metric select",hints:"data-testid prometheus hints",metricsExplorer:"data-testid metrics explorer",queryAdvisor:"data-testid query advisor"},code:{queryField:"data-testid prometheus query field",metricsBrowser:{openButton:"data-testid open metrics browser",selectMetric:"data-testid select a metric",metricList:"data-testid metric list",labelNamesFilter:"data-testid label names filter",labelValuesFilter:"data-testid label values filter",useQuery:"data-testid use query",useAsRateQuery:"data-testid use as rate query",validateSelector:"data-testid validate selector",clear:"data-testid clear"}}},exemplarMarker:"data-testid Exemplar marker",variableQueryEditor:{queryType:"data-testid query type",labelnames:{metricRegex:"data-testid label names metric regex"},labelValues:{labelSelect:"data-testid label values label select"},metricNames:{metricRegex:"data-testid metric names metric regex"},varQueryResult:"data-testid variable query result",seriesQuery:"data-testid prometheus series query",classicQuery:"data-testid prometheus classic query"},annotations:{minStep:"prometheus-annotation-min-step",title:"data-testid prometheus annotation title",tags:"data-testid prometheus annotation tags",text:"data-testid prometheus annotation text",seriesValueAsTimestamp:"data-testid prometheus annotation series value as timestamp"}}},Menu:{MenuComponent:e=>`${e} menu`,MenuGroup:e=>`${e} menu group`,MenuItem:e=>`${e} menu item`,SubMenu:{container:"data-testid SubMenu container",icon:"data-testid SubMenu icon"}},Panels:{Panel:{title:e=>`data-testid Panel header ${e}`,headerItems:e=>`data-testid Panel header item ${e}`,menuItems:e=>`data-testid Panel menu item ${e}`,menu:e=>`data-testid Panel menu ${e}`,containerByTitle:e=>`${e} panel`,headerCornerInfo:e=>`Panel header ${e}`,status:e=>`data-testid Panel status ${e}`,loadingBar:()=>"Panel loading bar",HoverWidget:{container:"data-testid hover-header-container",dragIcon:"data-testid drag-icon"},PanelDataErrorMessage:"data-testid Panel data error message"},Visualization:{Graph:{container:"Graph container",VisualizationTab:{legendSection:"Legend section"},Legend:{legendItemAlias:e=>`gpl alias ${e}`,showLegendSwitch:"gpl show legend"},xAxis:{labels:()=>"div.flot-x-axis > div.flot-tick-label"}},BarGauge:{value:"Bar gauge value",valueV2:"data-testid Bar gauge value"},PieChart:{svgSlice:"data testid Pie Chart Slice"},Text:{container:()=>".markdown-html"},Table:{header:"table header",footer:"table-footer",body:"data-testid table body"}}},VizLegend:{seriesName:e=>`data-testid VizLegend series ${e}`},Drawer:{General:{title:e=>`Drawer title ${e}`,expand:"Drawer expand",contract:"Drawer contract",close:"data-testid Drawer close",rcContentWrapper:()=>".rc-drawer-content-wrapper",subtitle:"data-testid drawer subtitle"}},PanelEditor:{General:{content:"Panel editor content"},OptionsPane:{content:"Panel editor option pane content",select:"Panel editor option pane select",fieldLabel:e=>`${e} field property editor`},DataPane:{content:"Panel editor data pane content"},applyButton:"data-testid Apply changes and go back to dashboard",toggleVizPicker:"data-testid toggle-viz-picker",toggleVizOptions:"data-testid toggle-viz-options",toggleTableView:"toggle-table-view",showZoomField:"Map controls Show zoom control field property editor",showAttributionField:"Map controls Show attribution field property editor",showScaleField:"Map controls Show scale field property editor",showMeasureField:"Map controls Show measure tools field property editor",showDebugField:"Map controls Show debug field property editor",measureButton:"show measure tools"},PanelInspector:{Data:{content:"Panel inspector Data content"},Stats:{content:"Panel inspector Stats content"},Json:{content:"Panel inspector Json content"},Query:{content:"Panel inspector Query content",refreshButton:"Panel inspector Query refresh button",jsonObjectKeys:()=>".json-formatter-key"}},Tab:{title:e=>`Tab ${e}`,active:()=>'[class*="-activeTabStyle"]'},RefreshPicker:{runButton:"RefreshPicker run button",intervalButton:"RefreshPicker interval button",runButtonV2:"data-testid RefreshPicker run button",intervalButtonV2:"data-testid RefreshPicker interval button"},QueryTab:{content:"Query editor tab content",queryInspectorButton:"Query inspector button",queryHistoryButton:"data-testid query-history-button",addQuery:"data-testid query-tab-add-query"},QueryHistory:{queryText:"Query text"},QueryEditorRows:{rows:"Query editor row"},QueryEditorRow:{actionButton:e=>`data-testid ${e}`,title:e=>`Query editor row title ${e}`,container:e=>`Query editor row ${e}`},AlertTab:{content:"data-testid Alert editor tab content"},Alert:{alert:e=>`Alert ${e}`,alertV2:e=>`data-testid Alert ${e}`},TransformTab:{content:"data-testid Transform editor tab content",newTransform:e=>`data-testid New transform ${e}`,transformationEditor:e=>`data-testid Transformation editor ${e}`,transformationEditorDebugger:e=>`data-testid Transformation editor debugger ${e}`},Transforms:{card:e=>`data-testid New transform ${e}`,disableTransformationButton:"data-testid Disable transformation button",Reduce:{modeLabel:"data-testid Transform mode label",calculationsLabel:"data-testid Transform calculations label"},SpatialOperations:{actionLabel:"root Action field property editor",locationLabel:"root Location Mode field property editor",location:{autoOption:"Auto location option",coords:{option:"Coords location option",latitudeFieldLabel:"root Latitude field field property editor",longitudeFieldLabel:"root Longitude field field property editor"},geohash:{option:"Geohash location option",geohashFieldLabel:"root Geohash field field property editor"},lookup:{option:"Lookup location option",lookupFieldLabel:"root Lookup field field property editor",gazetteerFieldLabel:"root Gazetteer field property editor"}}},searchInput:"data-testid search transformations",noTransformationsMessage:"data-testid no transformations message",addTransformationButton:"data-testid add transformation button",removeAllTransformationsButton:"data-testid remove all transformations button"},NavBar:{Configuration:{button:"Configuration"},Toggle:{button:"data-testid Toggle menu"},Reporting:{button:"Reporting"}},NavMenu:{Menu:"data-testid navigation mega-menu",item:"data-testid Nav menu item"},NavToolbar:{container:"data-testid Nav toolbar"},PageToolbar:{container:()=>".page-toolbar",item:e=>`${e}`,itemButton:e=>`data-testid ${e}`},QueryEditorToolbarItem:{button:e=>`QueryEditor toolbar item button ${e}`},BackButton:{backArrow:"data-testid Go Back"},OptionsGroup:{group:e=>e?`Options group ${e}`:"Options group",toggle:e=>e?`Options group ${e} toggle`:"Options group toggle"},PluginVisualization:{item:e=>`Plugin visualization item ${e}`,current:()=>'[class*="-currentVisualizationItem"]'},Select:{option:"Select option",input:()=>'input[id*="time-options-input"]',singleValue:()=>'div[class*="-singleValue"]'},FieldConfigEditor:{content:"Field config editor content"},OverridesConfigEditor:{content:"Field overrides editor content"},FolderPicker:{container:"Folder picker select container",containerV2:"data-testid Folder picker select container",input:"data-testid folder-picker-input"},ReadonlyFolderPicker:{container:"data-testid Readonly folder picker select container"},DataSourcePicker:{container:"data-testid Data source picker select container",input:()=>'input[id="data-source-picker"]',inputV2:"data-testid Select a data source",dataSourceList:"data-testid Data source list dropdown",advancedModal:{dataSourceList:"data-testid Data source list",builtInDataSourceList:"data-testid Built in data source list"}},TimeZonePicker:{container:"Time zone picker select container",containerV2:"data-testid Time zone picker select container"},WeekStartPicker:{container:"Choose starting day of the week",containerV2:"data-testid Choose starting day of the week",placeholder:"Choose starting day of the week"},TraceViewer:{spanBar:"data-testid SpanBar--wrapper"},QueryField:{container:"data-testid Query field"},QueryBuilder:{queryPatterns:"data-testid Query patterns",labelSelect:"data-testid Select label",valueSelect:"data-testid Select value",matchOperatorSelect:"data-testid Select match operator"},ValuePicker:{button:e=>`data-testid Value picker button ${e}`,select:e=>`data-testid Value picker select ${e}`},Search:{section:"Search section",sectionV2:"data-testid Search section",items:"Search items",itemsV2:"data-testid Search items",cards:"data-testid Search cards",collapseFolder:e=>`data-testid Collapse folder ${e}`,expandFolder:e=>`data-testid Expand folder ${e}`,dashboardItem:e=>`${M.Search.dashboardItems} ${e}`,dashboardCard:e=>`data-testid Search card ${e}`,folderHeader:e=>`data-testid Folder header ${e}`,folderContent:e=>`data-testid Folder content ${e}`,dashboardItems:"data-testid Dashboard search item"},DashboardLinks:{container:"data-testid Dashboard link container",dropDown:"data-testid Dashboard link dropdown",link:"data-testid Dashboard link"},LoadingIndicator:{icon:"data-testid Loading indicator"},CallToActionCard:{button:e=>`Call to action button ${e}`,buttonV2:e=>`data-testid Call to action button ${e}`},DataLinksContextMenu:{singleLink:"data-testid Data link"},CodeEditor:{container:"data-testid Code editor container"},DashboardImportPage:{textarea:"data-testid-import-dashboard-textarea",submit:"data-testid-load-dashboard"},ImportDashboardForm:{name:"data-testid-import-dashboard-title",submit:"data-testid-import-dashboard-submit"},PanelAlertTabContent:{content:"data-testid Unified alert editor tab content"},VisualizationPreview:{card:e=>`data-testid suggestion-${e}`},ColorSwatch:{name:"data-testid-colorswatch"},DashboardRow:{title:e=>`data-testid dashboard-row-title-${e}`},UserProfile:{profileSaveButton:"data-testid-user-profile-save",preferencesSaveButton:"data-testid-shared-prefs-save",orgsTable:"data-testid-user-orgs-table",sessionsTable:"data-testid-user-sessions-table",extensionPointTabs:"data-testid-extension-point-tabs",extensionPointTab:e=>`data-testid-extension-point-tab-${e}`},FileUpload:{inputField:"data-testid-file-upload-input-field",fileNameSpan:"data-testid-file-upload-file-name"},DebugOverlay:{wrapper:"debug-overlay"},OrgRolePicker:{input:"Role"},AnalyticsToolbarButton:{button:"Dashboard insights"},Variables:{variableOption:"data-testid variable-option"},Annotations:{annotationsTypeInput:"annotations-type-input",annotationsChoosePanelInput:"choose-panels-input"},Tooltip:{container:"data-testid tooltip"}},L={delete:"data-testid Confirm Modal Danger Button"},B=(M.CallToActionCard.button("Add annotation query"),M.CallToActionCard.buttonV2("Add annotation query"),M.CallToActionCard.button("Add variable"),M.CallToActionCard.buttonV2("Add variable"),M.DataSourcePicker.inputV2,M.DataSourcePicker.inputV2,M.DataSourcePicker.inputV2,{panel:{root:"data-testid panel",loadingBar:"data-testid panel loading-bar",infoMessage:"data-testid panel info-message",singleLayoutContent:"data-testid panel single-layout-content",splitLayoutContent:e=>`data-testid panel split-layout-content-${e}`,buttonSubmit:"data-testid panel button-submit",buttonReset:"data-testid panel button-reset",buttonSaveDefault:"data-testid panel button-save-default",errorMessage:"data-testid panel error-message",buttonConfirmUpdate:L.delete,confirmModalContent:"data-testid panel confirm-modal-content",confirmModalField:e=>`data-testid panel confirm-modal-content field-${e}`,confirmModalFieldTitle:"data-testid panel confirm-modal-content field field-title",confirmModalFieldPreviousValue:"data-testid panel confirm-modal-content field field-previous-value",confirmModalFieldValue:"data-testid panel confirm-modal-content field field-value",resetConfirmModal:"data-testid panel reset-confirm-modal",buttonConfirmReset:L.delete},customCodeEditor:{root:"data-testid custom-code-editor"},formElements:{root:"data-testid form-elements",element:(e,t)=>`data-testid form-elements element-${e}-${t}`,fieldNumber:"data-testid form-elements field-number",fieldString:"data-testid form-elements field-string",fieldFile:"data-testid form-elements field-file",fieldPassword:"data-testid form-elements field-password",fieldDisabled:"data-testid form-elements field-disabled",fieldTextarea:"data-testid form-elements field-textarea",fieldDisabledTextarea:"data-testid form-elements field-disabled-textarea",fieldCode:"Code editor container",fieldBooleanContainer:"data-testid form-elements field-boolean-container",fieldDateTime:"date-time-input",fieldSlider:"form-elements field-slider",fieldSliderInput:"data-testid form-elements field-slider-input",fieldRadioContainer:"data-testid form-elements field-radio-container",fieldSelect:"form-elements field-select-container",booleanOption:e=>`form-elements boolean-${e}`,unit:"data-testid form-elements unit",link:"data-testid form elements link"},formElementsEditor:{addElementError:"data-testid form-elements-editor add-element-error",buttonAddElement:"data-testid form-elements-editor button-add-element",buttonAddOption:"data-testid form-elements-editor button-add-option",buttonRemoveElement:"data-testid form-elements-editor button-remove-element",buttonRemoveOption:"data-testid form-elements-editor button-remove-option",buttonSaveChanges:"data-testid form-elements-editor button-save-changes",fieldCodeHeight:"data-testid form-elements-editor field-code-height",fieldCodeLanguage:"form-elements-editor field-code-language",fieldId:"data-testid form-elements-editor field-id",fieldLabel:"data-testid form-elements-editor field-label",fieldLabelWidth:"data-testid form-elements-editor field-label-width",fieldNumberMax:"data-testid form-elements-editor field-number-max",fieldNumberMin:"data-testid form-elements-editor field-number-min",options:"data-testid form-elements-editor options",optionLabel:e=>`data-testid form-elements-editor option-label-${e}`,optionContent:e=>`data-testid form-elements-editor option-content-${e}`,fieldOptionLabel:"data-testid form-elements-editor field-option-label",fieldOptionIcon:"form-elements-editor field-option-icon",fieldOptionType:"form-elements-editor field-option-type",fieldOptionValue:"data-testid form-elements-editor field-option-value",fieldSection:"form-elements-editor field-section",fieldSliderMax:"data-testid form-elements-editor field-slider-max",fieldSliderMin:"data-testid form-elements-editor field-slider-min",fieldSliderStep:"data-testid form-elements-editor field-slider-step",fieldTextareaRows:"data-testid form-elements-editor field-textarea-rows",fieldTooltip:"data-testid form-elements-editor field-tooltip",fieldType:"form-elements-editor field-type",fieldShowIf:"form-elements-editor field-show-if",fieldDisableIf:"form-elements-editor field-disable-if",fieldUnit:"data-testid form-elements-editor field-unit",fieldVisibility:"data-testid form-elements-editor field-visibility",fieldWidth:"data-testid form-elements-editor field-width",fieldNamePicker:"data-testid form-elements-editor field-name-picker",fieldAccept:"data-testid form-elements-editor field-accept",fieldFromQueryPicker:"form-elements-editor field-from-query-picker",fieldDateTime:"date-time-input",fieldMinDate:"data-testid form-elements-editor field-min-date",fieldMaxDate:"data-testid form-elements-editor field-max-date",optionsSourceOption:e=>`form-elements-editor options-source-option-${e}`,linkTargetOption:e=>`form-elements-editor link-target-option-${e}`,fieldQueryOptionsValue:"form-elements-editor field-query-options-value",fieldQueryOptionsLabel:"form-elements-editor field-query-options-label",newElementId:"data-testid form-elements-editor new-element-id",newElementLabel:"data-testid form-elements-editor new-element-label",newElementType:"form-elements-editor new-element-type",radioOption:e=>`form-elements-editor option-${e}`,root:"data-testid form-elements-editor",sectionContent:(e,t)=>`data-testid form-elements-editor section-content-${e}-${t}`,sectionLabel:(e,t)=>`data-testid form-elements-editor section-label-${e}-${t}`,sectionNewContent:"data-testid form-elements-editor section-new-content",sectionNewLabel:"data-testid form-elements-editor section-new-label",buttonSetDate:"data-testid form-elements-editor button-set-date",buttonRemoveDate:"data-testid form-elements-editor button-remove-date",fieldLinkText:"data-testid form-elements-editor field-link-text",fieldGetOptions:"form-elements-editor field-get-options",fileMultipleOption:e=>`form-elements-editor file-multiple-option-${e}`},headerParametersEditor:{buttonAdd:"data-testid header-parameters-editor button-add",buttonRemove:"data-testid header-parameters-editor button-remove",fieldName:"data-testid header-parameters-editor field-name",fieldValue:"data-testid header-parameters-editor field-value",parameter:e=>`data-testid header-parameters-editor root parameter-${e}`,root:"data-testid header-parameters-editor"},layoutSectionsEditor:{buttonAdd:"data-testid layout-sections-editor button-add",buttonRemove:"data-testid layout-sections-editor button-remove",fieldId:"data-testid layout-sections-editor field-id",fieldName:"data-testid layout-sections-editor field-name",root:"data-testid layout-sections-editor",section:e=>`data-testid layout-sections-editor section-${e}`},datasourceEditor:{fieldSelect:"select-datasource-editor field-select"}});var k;!function(e){e.BOOLEAN="boolean",e.CODE="code",e.DATETIME="datetime",e.DISABLED="disabled",e.DISABLED_TEXTAREA="disabledTextarea",e.FILE="file",e.LINK="link",e.MULTISELECT="multiselect",e.NUMBER="number",e.PASSWORD="password",e.RADIO="radio",e.SECRET="secret",e.SELECT="select",e.SLIDER="slider",e.STRING="string",e.TEXTAREA="textarea"}(k||(k={}));const F=[{value:"code",label:"Code Editor"},{value:"datetime",label:"Date and Time"},{value:"file",label:"File"},{value:"link",label:"Link"},{value:"multiselect",label:"Multi Select with Custom options"},{value:"number",label:"Number Input"},{value:"slider",label:"Number Slider"},{value:"password",label:"Password Input"},{value:"boolean",label:"Radio Group with Boolean options"},{value:"radio",label:"Radio Group with Custom options"},{value:"disabled",label:"Read-only"},{value:"disabledTextarea",label:"Read-only Text Area"},{value:"select",label:"Select with Custom options"},{value:"string",label:"String Input"},{value:"textarea",label:"Text Area"}],j=[{ariaLabel:B.formElements.booleanOption("true"),value:!0,label:"True"},{ariaLabel:B.formElements.booleanOption("false"),value:!1,label:"False"}],U=[{value:"number",label:"Number"},{value:"string",label:"String"}],V=[{ariaLabel:B.formElementsEditor.radioOption("visibility-display"),description:"Display",icon:"eye",value:!1},{ariaLabel:B.formElementsEditor.radioOption("visibility-hidden"),description:"Hidden",icon:"eye-slash",value:!0}];var G;!function(e){e.NONE="",e.INITIAL="initial",e.UPDATE="update",e.RESET="reset"}(G||(G={}));const _=(0,d.getAvailableIcons)().map((e=>({label:e,value:e,icon:e})));var W;!function(e){e.QUERY="Query",e.CUSTOM="Custom",e.CODE="Code"}(W||(W={}));const $=[{label:"Query",value:"Query",ariaLabel:B.formElementsEditor.optionsSourceOption("Query")},{label:"Custom",value:"Custom",ariaLabel:B.formElementsEditor.optionsSourceOption("Custom"),icon:"keyboard"},{label:"Code",value:"Code",ariaLabel:B.formElementsEditor.optionsSourceOption("Code"),icon:"calculator-alt"}],H=[{label:"Same Tab",value:o.SELF_TAB,ariaLabel:B.formElementsEditor.linkTargetOption(o.SELF_TAB)},{label:"New Tab",value:o.NEW_TAB,ariaLabel:B.formElementsEditor.linkTargetOption(o.NEW_TAB),icon:"external-link-alt"}],q="console.log(data, response, initial, elements);\n\nreturn;\n\n/**\n * Data Source\n * Requires form elements to be defined\n */\nconst dataQuery = toDataQueryResponse(response);\nconsole.log(dataQuery);",K="if (response && response.ok) {\n  notifySuccess(['Update', 'Values updated successfully.']);\n  locationService.reload();\n} else {\n  notifyError(['Update', 'An error occured updating values.']);\n}",Q="return {\n  rawSql: '',\n  format: 'table',\n}",z={icon:"cloud-upload",backgroundColor:"purple",foregroundColor:"yellow",text:"Submit",variant:n.PRIMARY},Y={icon:"process",backgroundColor:"purple",foregroundColor:"yellow",text:"Reset",variant:n.HIDDEN},J={icon:"save",backgroundColor:"purple",foregroundColor:"yellow",text:"Save Default",variant:n.HIDDEN},X={value:0},Z={min:0,max:10,step:1,value:0},ee={height:D,language:r.JAVASCRIPT,value:""},te={rows:10,value:""},ne={options:[],optionsSource:W.CUSTOM},re={uid:"",id:"",title:"",type:k.STRING,width:null,labelWidth:10,tooltip:"",section:"",hidden:!1,unit:"",value:""},ae={id:"_",type:k.NUMBER,label:"",value:""},oe={title:"Confirm update request",body:"Please confirm to update changed values",columns:{include:[i.NAME,i.OLD_VALUE,i.NEW_VALUE],name:"Label",oldValue:"Old Value",newValue:"New Value"},confirm:"Confirm",cancel:"Cancel"};var ie,le;!function(e){e.NONE="none",e.SINGLE="single",e.SPLIT="split"}(ie||(ie={})),function(e){e.VERTICAL="vertical",e.HORIZONTAL="horizontal"}(le||(le={}));const se=[{value:"single",description:"All elements together.",label:"Basic",icon:"bars"},{value:"none",description:"Buttons only.",label:"Buttons only",icon:"apps"},{value:"split",description:"Elements split in separate sections.",label:"Sections",icon:"columns"}],de=[{value:"horizontal",description:"Horizontal Orientation",label:"Horizontal",icon:"horizontal-align-center"},{value:"vertical",description:"Vertical Orientation",label:"Vertical",icon:"vertical-align-center"}],ce=[{value:!0,label:"Enabled"},{value:!1,label:"Disabled"}];var ue;!function(e){e.DATASOURCE="datasource",e.DELETE="DELETE",e.GET="GET",e.NONE="-",e.PATCH="PATCH",e.POST="POST",e.PUT="PUT",e.QUERY="query"}(ue||(ue={}));const pe=[{value:"-",label:"Code",icon:"calculator-alt"},{value:"datasource",label:"Data Source",icon:"database"},{value:"query",label:"Query"},{value:"GET",label:"GET"}],me=[{value:"-",label:"Code",icon:"calculator-alt"},{value:"datasource",label:"Data Source",icon:"database"},{value:"DELETE",label:"DELETE"},{value:"PATCH",label:"PATCH"},{value:"POST",label:"POST"},{value:"PUT",label:"PUT"}];var fe;!function(e){e.FORMDATA="multipart/form-data",e.JSON="application/json",e.PLAIN="text/plain"}(fe||(fe={}));const ge=[{label:"Application/json",value:"application/json"},{label:"Text/plain",value:"text/plain"},{label:"Multipart/form-data",value:"multipart/form-data"}];var be;!function(e){e.ALL="all",e.UPDATED="updated",e.CUSTOM="custom"}(be||(be={}));const he=[{label:"All Elements",value:"all"},{label:"Updated Only",value:"updated"},{label:"Code",value:"custom",icon:"calculator-alt"}];var ve;!function(e){e.INITIAL="initial",e.CUSTOM="custom",e.DATASOURCE="datasource"}(ve||(ve={}));const ye=[{label:"Code",value:"custom",icon:"calculator-alt"},{label:"Initial Request",value:"initial"},{label:"Data Source",value:"datasource",icon:"database"}],Ee=[{value:l.DISABLED,label:"Disabled"},{value:l.AUTO,label:"If Changed",description:"Enabled if value is changed from initial."},{value:l.MANUAL,label:"Manual",description:"Disabled by default. Control through the code."}];function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Oe=e=>{const t=18*e.split("\n").length;return t<D?D:t>A?A:t},Se=e=>{var{value:t,onChange:n,height:r}=e,a=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["value","onChange","height"]);const[o,i]=(0,u.useState)(Oe(t));return(0,u.useEffect)((()=>{i(Oe(t))}),[t]),f().createElement(d.CodeEditor,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ie(e,t,n[t])}))}return e}({value:t,onChange:e=>{null==n||n(e),i(Oe(e))},height:null!=r?r:o},a))},we=({value:e,item:t,onChange:n})=>{var a;const o=(null===(a=t.settings)||void 0===a?void 0:a.language)||r.JAVASCRIPT,i=(0,c.getTemplateSrv)(),l=(0,u.useCallback)((()=>{var e,n;const r=(null===(e=t.settings)||void 0===e?void 0:e.variablesSuggestions)?i.getVariables().map((e=>({label:`\${${e.name}}`,kind:d.CodeEditorSuggestionItemKind.Property,detail:e.description?e.description:e.label}))):[];return(null===(n=t.settings)||void 0===n?void 0:n.type)?P[t.settings.type].concat(r):r}),[t.settings,i]);return f().createElement("div",{"data-testid":B.customCodeEditor.root},f().createElement(Se,{language:o,showLineNumbers:!0,showMiniMap:!!e&&e.length>100,value:e,onBlur:n,onSave:n,monacoOptions:{formatOnPaste:!0,formatOnType:!0,scrollBeyondLastLine:!1},onEditorDidMount:e=>{setTimeout((()=>{e.getAction("editor.action.formatDocument").run()}),100)},getSuggestions:l}))};var Ce=p(269);function De(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ae(e,t,n[t])}))}return e}const Te=()=>{return(0,u.useCallback)((e=function*({query:e,datasource:t,replaceVariables:n}){const r=yield(0,c.getDataSourceSrv)().get(t),a=JSON.parse(n(JSON.stringify(e)));return(0,Ce.lastValueFrom)((0,c.getBackendSrv)().fetch({method:"POST",url:"api/ds/query",data:{queries:[xe({datasourceId:r.id,refId:"A"},a)]}}))},t=function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){De(o,r,a,i,l,"next",e)}function l(e){De(o,r,a,i,l,"throw",e)}i(void 0)}))},function(e){return t.apply(this,arguments)}),[]);var e,t};function Pe(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}const Re=()=>{const[e,t]=(0,u.useState)([]);return(0,u.useEffect)((()=>{var e,n;(e=function*(){const e=yield(0,c.getBackendSrv)().get("/api/datasources");t(e)},n=function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Pe(o,r,a,i,l,"next",e)}function l(e){Pe(o,r,a,i,l,"throw",e)}i(void 0)}))},function(){return n.apply(this,arguments)})()}),[]),e},Ne={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Me;const Le=new Uint8Array(16);function Be(){if(!Me&&(Me="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Me))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Me(Le)}const ke=[];for(let e=0;e<256;++e)ke.push((e+256).toString(16).slice(1));const Fe=function(e,t,n){if(Ne.randomUUID&&!t&&!e)return Ne.randomUUID();const r=(e=e||{}).random||(e.rng||Be)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return ke[e[t+0]]+ke[e[t+1]]+ke[e[t+2]]+ke[e[t+3]]+"-"+ke[e[t+4]]+ke[e[t+5]]+"-"+ke[e[t+6]]+ke[e[t+7]]+"-"+ke[e[t+8]]+ke[e[t+9]]+"-"+ke[e[t+10]]+ke[e[t+11]]+ke[e[t+12]]+ke[e[t+13]]+ke[e[t+14]]+ke[e[t+15]]}(r)},je=e=>e?e.values.toArray?e.values.toArray():e.values:[];function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ue(e,t,n[t])}))}return e}function Ge(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const _e=(e,t,n)=>{const r=Array.from(e),[a]=r.splice(t,1);return r.splice(n,0,a),r},We=(e,t)=>{const n={uid:e.uid,id:e.id,type:t,labelWidth:e.labelWidth,width:e.width,value:e.value,title:e.title,tooltip:e.tooltip,section:e.section,unit:e.unit,helpers:e.helpers};switch(t){case k.STRING:return Ge(Ve({},n),{hidden:!1,value:"",type:t});case k.SLIDER:return Ge(Ve({},n,Z),{type:t});case k.NUMBER:return Ge(Ve({},n,X),{type:t});case k.CODE:return Ge(Ve({},n,ee),{type:t});case k.TEXTAREA:case k.DISABLED_TEXTAREA:return Ge(Ve({},n,te),{type:t});case k.SELECT:case k.MULTISELECT:case k.DISABLED:case k.RADIO:return Ge(Ve({},n),{options:"options"in e&&e.options||[],optionsSource:"optionsSource"in e&&e.optionsSource||ne.optionsSource,queryOptions:"queryOptions"in e?e.queryOptions:void 0,type:t});case k.FILE:return Ge(Ve({},n),{value:[],accept:"",type:t,multiple:!0});case k.DATETIME:case k.PASSWORD:case k.SECRET:return Ge(Ve({},n),{value:"",type:t});case k.BOOLEAN:return Ge(Ve({},n),{value:!1,type:t});case k.LINK:return Ge(Ve({},n),{value:"",target:o.SELF_TAB,linkText:"",type:t})}},$e=(e,t)=>e.some((e=>e.id===t.id&&e.type===t.type)),He=e=>e.trim().length>0?Number(e):null,qe=e=>"number"==typeof e?e:"",Ke=e=>"number"==typeof e?e:void 0,Qe=e=>e.uid||Fe(),ze=e=>void 0!==e.id?e.id:e.value,Ye=e=>{var t;const n=e.showIf;let r=()=>!0;if(n||(null==n?void 0:n.trim())){const e=new Function("elements","replaceVariables","context",n);r=({elements:t,replaceVariables:n})=>e(t,n,O.create({panel:{elements:t},grafana:{replaceVariables:n}}))}const a=e.disableIf;let o=()=>!1;if(a||(null==a?void 0:a.trim())){const e=new Function("elements","replaceVariables","context",a);o=({elements:t,replaceVariables:n})=>e(t,n,S.create({panel:{elements:t},grafana:{replaceVariables:n}}))}let i=()=>[];if(e.type===k.DISABLED||e.type===k.SELECT||e.type===k.MULTISELECT||e.type===k.RADIO)if(e.optionsSource===W.QUERY)i=({data:t})=>{const{queryOptions:n}=e;if(!n||!n.value)return[];const r=t.series.find((e=>e.refId===n.source)),a=null==r?void 0:r.fields.find((e=>e.name===n.value));if(!r||!a)return[];const o=je((null==r?void 0:r.fields.find((e=>e.name===n.label)))||a);return je(a).map(((e,t)=>({value:e,label:o[t]})))};else if(e.optionsSource===W.CODE){const t=new Function("data","elements","replaceVariables","context",e.getOptions||"return []");i=({data:e,elements:n,replaceVariables:r})=>t(e,n,r,w.create({panel:{data:e,elements:n},grafana:{replaceVariables:r}}))}else i=()=>e.options||[];return Ge(Ve({},e,"options"in e?{options:null===(t=e.options)||void 0===t?void 0:t.map((e=>Ge(Ve({},e),{id:ze(e)})))}:{}),{helpers:{showIf:r,disableIf:o,getOptions:i},uid:Qe(e)})},Je=e=>e&&Array.isArray(e)?e.map((e=>Ye(e))):[],Xe=e=>{switch(e){case n.DESTRUCTIVE:case n.PRIMARY:case n.SECONDARY:return e;default:return}},Ze=(e,t)=>e.type===t,et=(e,t)=>{switch(e.type){case k.STRING:case k.DISABLED_TEXTAREA:case k.CODE:case k.PASSWORD:case k.SECRET:case k.TEXTAREA:case k.LINK:var n;return Ge(Ve({},e),{value:"string"==typeof t?t:null!==(n=null==t?void 0:t.toString())&&void 0!==n?n:""});case k.NUMBER:case k.SLIDER:{let n="number"==typeof t?t:0;return"string"==typeof t&&(n=Number(t),Number.isNaN(n)&&(n=0)),Ge(Ve({},e),{value:n})}case k.FILE:return Ge(Ve({},e),{value:[]});case k.BOOLEAN:return Ge(Ve({},e),{value:!!t});case k.DATETIME:return Ge(Ve({},e),{value:"string"==typeof t?t:void 0});default:return Ge(Ve({},e),{value:t})}};class tt extends s.BusEventBase{constructor(e){super(),Ue(this,"payload",void 0),this.payload=e}}function nt(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function rt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){nt(o,r,a,i,l,"next",e)}function l(e){nt(o,r,a,i,l,"throw",e)}i(void 0)}))}}Ue(tt,"type","value-changed");const at=(ot=rt((function*({request:e,elements:t,initial:n,replaceVariables:r}){if(e.payloadMode===be.CUSTOM)return new Function("elements","initial","context",r(e.getPayload))(t,n,C.create({panel:{elements:t,initial:n},utils:{fileToBase64:it}}));const a=e.payloadMode===be.UPDATED,o={};return t.forEach((e=>{e.helpers.showIf({elements:t,replaceVariables:r})&&(a?e.value!==n[e.id]&&e.type!==k.DISABLED&&(o[e.id]=e.value):o[e.id]=e.value)})),o})),function(e){return ot.apply(this,arguments)});var ot;const it=e=>new Promise((t=>{const n=new FileReader;n.addEventListener("load",(e=>{var n;"string"==typeof(null===(n=e.target)||void 0===n?void 0:n.result)&&t(e.target.result)})),n.readAsDataURL(e)})),lt=function(){var e=rt((function*(e,t){if("object"!=typeof e||Array.isArray(e)||null===e)return t(JSON.stringify(e));const n={};for(const[t,r]of Object.entries(e))Array.isArray(r)&&r[0]instanceof File?n[t]=yield Promise.all(r.map((e=>it(e)))):n[t]=r;return t(JSON.stringify(n))}));return function(t,n){return e.apply(this,arguments)}}(),st=(e,t)=>"string"==typeof e?t(e):e instanceof File?e:`${e}`;var dt=p(997);function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(0,dt.B)(B.customCodeEditor),(0,dt.B)(B.formElements,["fieldDateTime"]),(0,dt.B)(B.formElementsEditor,["fieldDateTime"]),(0,dt.B)(B.panel),(0,dt.B)(B.headerParametersEditor),(0,dt.B)(B.layoutSectionsEditor);const ut=(e,t)=>e.map((e=>{return n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ct(e,t,n[t])}))}return e}({},e),r=null!=(r={ariaLabel:t(e.value)})?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))})),n;var n,r})),pt=e=>{const[t,n]=(0,u.useState)(e),r=(0,u.useRef)(t),a=(0,u.useCallback)((e=>{n(e),r.current=e}),[]);return[t,a,r]};function mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ft=({onChange:e,value:t,isAutoSave:n=!0})=>{const r=(0,u.useRef)(new s.EventBusSrv),[a,o,i]=pt(Je(t)),[l,d]=(0,u.useState)(!1),{startTimer:c,removeTimer:p}=(()=>{const e=(0,u.useRef)(null),t=(0,u.useCallback)((()=>{e.current&&(clearTimeout(e.current),e.current=null)}),[]);return{startTimer:(0,u.useCallback)((n=>{t(),e.current=setTimeout((()=>{n(),e.current=null}),1e3)}),[t]),removeTimer:t}})(),m=(0,u.useCallback)((()=>{e((e=>e.map((e=>{var{helpers:t}=e;return function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["helpers"])})))(a)),d(!1)}),[a,e]),f=(0,u.useCallback)((e=>{o(e),d(!0)}),[o]),g=(0,u.useCallback)(((e,t=!1)=>{const n=i.current;if(t&&$e(n,e))return void alert("Element with the same id and type exists.");let a=!1;const o=n.map((t=>t.uid===e.uid?(a=e.value!==t.value,e):t));f(o),a&&r.current.publish(new tt({elements:o,element:e}))}),[i,f]),b=(0,u.useCallback)(((e,t,{value:n=t.value}={},r=!1)=>{var a,o,i,l,s;return!(!("options"in e)||!e.options||(r&&(o=e.options,i=t,o.some((e=>e.value.toString()===i.value.toString())))?(alert("Option with the same value exists"),1):(g((l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){mt(e,t,n[t])}))}return e}({},e),s={options:null===(a=e.options)||void 0===a?void 0:a.map((e=>e.value===n?t:e))},s=null!=s?s:{},Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(s)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(s)).forEach((function(e){Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(s,e))})),l)),0)))}),[g]),h=(0,u.useCallback)((e=>{const t=i.current.filter((t=>t.uid!==e));f(t)}),[i,f]);return(0,u.useEffect)((()=>{o(Je(t)),d(!1)}),[o,t]),(0,u.useEffect)((()=>(n&&l?c(m):p(),()=>{p()})),[c,l,m,p,n]),{elements:a,isChanged:l,onSaveUpdates:m,onChangeElements:f,onChangeElement:g,onChangeElementOption:b,onElementRemove:h,eventBus:r.current,elementsRef:i}},gt=({value:e,onChange:t})=>{const n=Re(),r=(0,u.useMemo)((()=>n.map((e=>({label:e.name,value:e.name})))),[n]);return f().createElement(d.Select,{onChange:e=>{t(e.value)},options:r,value:e,"aria-label":B.datasourceEditor.fieldSelect})};const bt=e=>{var{value:t,onChange:n,label:r}=e,a=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["value","onChange","label"]);return f().createElement(d.InlineFieldRow,a,t?f().createElement(f().Fragment,null,f().createElement(d.InlineField,{label:r,labelWidth:8},f().createElement(d.DateTimePicker,{onChange:e=>{n(e.toISOString())},date:(0,s.dateTime)(t),"data-testid":B.formElementsEditor.fieldDateTime})),f().createElement(d.Button,{icon:"minus",onClick:()=>{n("")},variant:"secondary","data-testid":B.formElementsEditor.buttonRemoveDate})):f().createElement(d.InlineField,{label:r,labelWidth:8},f().createElement(d.Button,{icon:"plus",onClick:()=>{n((new Date).toISOString())},variant:"secondary","data-testid":B.formElementsEditor.buttonSetDate},"Set ",r," Date")))};var ht=p(398),vt=p.n(ht),yt=p(694),Et=p(200);function It(e,t){var n=(0,u.useState)((function(){return{inputs:t,result:e()}}))[0],r=(0,u.useRef)(!0),a=(0,u.useRef)(n),o=r.current||Boolean(t&&a.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,a.current.inputs))?a.current:{inputs:t,result:e()};return(0,u.useEffect)((function(){r.current=!1,a.current=o}),[o]),o.result}var Ot=It,St=function(e,t){return It((function(){return e}),t)},wt=function(e){var t=e.top,n=e.right,r=e.bottom,a=e.left;return{top:t,right:n,bottom:r,left:a,width:n-a,height:r-t,x:a,y:t,center:{x:(n+a)/2,y:(r+t)/2}}},Ct=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},Dt=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},At={top:0,right:0,bottom:0,left:0},xt=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?At:n,a=e.border,o=void 0===a?At:a,i=e.padding,l=void 0===i?At:i,s=wt(Ct(t,r)),d=wt(Dt(t,o)),c=wt(Dt(d,l));return{marginBox:s,borderBox:wt(t),paddingBox:d,contentBox:c,margin:r,border:o,padding:l}},Tt=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(e,t){throw new Error("Invariant failed")}(),n},Pt=function(e,t){var n,r,a=e.borderBox,o=e.border,i=e.margin,l=e.padding,s=(r=t,{top:(n=a).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return xt({borderBox:s,border:o,margin:i,padding:l})},Rt=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),Pt(e,t)},Nt=function(e,t){var n={top:Tt(t.marginTop),right:Tt(t.marginRight),bottom:Tt(t.marginBottom),left:Tt(t.marginLeft)},r={top:Tt(t.paddingTop),right:Tt(t.paddingRight),bottom:Tt(t.paddingBottom),left:Tt(t.paddingLeft)},a={top:Tt(t.borderTopWidth),right:Tt(t.borderRightWidth),bottom:Tt(t.borderBottomWidth),left:Tt(t.borderLeftWidth)};return xt({borderBox:e,margin:n,padding:r,border:a})},Mt=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return Nt(t,n)},Lt=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function Bt(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!((r=e[n])===(a=t[n])||Lt(r)&&Lt(a)))return!1;var r,a;return!0}function kt(e,t){void 0===t&&(t=Bt);var n=null;function r(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var o=e.apply(this,r);return n={lastResult:o,lastArgs:r,lastThis:this},o}return r.clear=function(){n=null},r}const Ft=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];t=a,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};var jt=p(102);function Ut(e,t){}function Vt(){}function Gt(e,t,n){const r=t.map((t=>{const r=(a=n,o=t.options,{...a,...o});var a,o;return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}}));return function(){r.forEach((e=>{e()}))}}Ut.bind(null,"warn"),Ut.bind(null,"error");const _t=!0,Wt="Invariant failed";class $t extends Error{}function Ht(e,t){if(!e)throw new $t(_t?Wt:`${Wt}: ${t||""}`)}$t.prototype.toString=function(){return this.message};class qt extends f().Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=Vt,this.onWindowError=e=>{const t=this.getCallbacks();t.isDragging()&&t.tryAbort(),e.error instanceof $t&&e.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=e=>{this.callbacks=e}}componentDidMount(){this.unbind=Gt(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(!(e instanceof $t))throw e;this.setState({})}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const Kt=e=>e+1,Qt=(e,t)=>{const n=e.droppableId===t.droppableId,r=Kt(e.index),a=Kt(t.index);return n?`\n      You have moved the item from position ${r}\n      to position ${a}\n    `:`\n    You have moved the item from position ${r}\n    in list ${e.droppableId}\n    to list ${t.droppableId}\n    in position ${a}\n  `},zt=(e,t,n)=>t.droppableId===n.droppableId?`\n      The item ${e}\n      has been combined with ${n.draggableId}`:`\n      The item ${e}\n      in list ${t.droppableId}\n      has been combined with ${n.draggableId}\n      in list ${n.droppableId}\n    `,Yt=e=>`\n  The item has returned to its starting position\n  of ${Kt(e.index)}\n`,Jt={dragHandleUsageInstructions:"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",onDragStart:e=>`\n  You have lifted an item in position ${Kt(e.source.index)}\n`,onDragUpdate:e=>{const t=e.destination;if(t)return Qt(e.source,t);const n=e.combine;return n?zt(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},onDragEnd:e=>{if("CANCEL"===e.reason)return`\n      Movement cancelled.\n      ${Yt(e.source)}\n    `;const t=e.destination,n=e.combine;return t?`\n      You have dropped the item.\n      ${Qt(e.source,t)}\n    `:n?`\n      You have dropped the item.\n      ${zt(e.draggableId,e.source,n)}\n    `:`\n    The item has been dropped while not over a drop area.\n    ${Yt(e.source)}\n  `}};var Xt=Jt;const Zt={x:0,y:0},en=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),tn=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),nn=(e,t)=>e.x===t.x&&e.y===t.y,rn=e=>({x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}),an=(e,t,n=0)=>"x"===e?{x:t,y:n}:{x:n,y:t},on=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),ln=(e,t)=>Math.min(...t.map((t=>on(e,t)))),sn=e=>t=>({x:e(t.x),y:e(t.y)}),dn=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),cn=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],un=(e,t)=>t&&t.shouldClipSubject?((e,t)=>{const n=wt({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n})(t.pageMarginBox,e):wt(e);var pn=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const a=((e,t)=>t?dn(e,t.scroll.diff.displacement):e)(e.marginBox,r),o=((e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e)(a,n,t);return{page:e,withPlaceholder:t,active:un(o,r)}},mn=(e,t)=>{e.frame||Ht(!1);const n=e.frame,r=tn(t,n.scroll.initial),a=rn(r),o={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:a},max:n.scroll.max}},i=pn({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return{...e,frame:o,subject:i}};const fn=kt((e=>e.reduce(((e,t)=>(e[t.descriptor.id]=t,e)),{}))),gn=kt((e=>e.reduce(((e,t)=>(e[t.descriptor.id]=t,e)),{}))),bn=kt((e=>Object.values(e))),hn=kt((e=>Object.values(e)));var vn=kt(((e,t)=>{const n=hn(t).filter((t=>e===t.descriptor.droppableId)).sort(((e,t)=>e.descriptor.index-t.descriptor.index));return n}));function yn(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function En(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var In=kt(((e,t)=>t.filter((t=>t.descriptor.id!==e.descriptor.id)))),On=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const Sn={point:Zt,value:0},wn={invisible:{},visible:{},all:[]};var Cn={displaced:wn,displacedBy:Sn,at:null},Dn=(e,t)=>n=>e<=n&&n<=t,An=e=>{const t=Dn(e.top,e.bottom),n=Dn(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const a=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(a&&o)return!0;const i=r.top<e.top&&r.bottom>e.bottom,l=r.left<e.left&&r.right>e.right;return!(!i||!l)||(i&&o||l&&a)}},xn=e=>{const t=Dn(e.top,e.bottom),n=Dn(e.left,e.right);return e=>t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)};const Tn={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Pn={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Rn=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:a})=>{const o=r?((e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:Zt;return dn(e,n)})(e,t):e;return((e,t,n)=>!!t.subject.active&&n(t.subject.active)(e))(o,t,a)&&((e,t,n)=>n(t)(e))(o,n,a)},Nn=e=>Rn({...e,isVisibleThroughFrameFn:An}),Mn=e=>Rn({...e,isVisibleThroughFrameFn:xn}),Ln=(e,t,n)=>{if("boolean"==typeof n)return n;if(!t)return!0;const{invisible:r,visible:a}=t;if(r[e])return!1;const o=a[e];return!o||o.shouldAnimate};function Bn({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:a,last:o}){return e.reduce((function(e,i){const l=function(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return wt(Ct(n,r))}(i,n),s=i.descriptor.id;if(e.all.push(s),!Nn({target:l,destination:t,viewport:r,withDroppableDisplacement:!0}))return e.invisible[i.descriptor.id]=!0,e;const d={draggableId:s,shouldAnimate:Ln(s,o,a)};return e.visible[s]=d,e}),{all:[],visible:{},invisible:{}})}function kn({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const a=function(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(e,{inHomeList:t});return{displaced:wn,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:a}}}}function Fn({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:a,last:o,index:i,forceShouldAnimate:l}){const s=On(e,n);if(null==i)return kn({insideDestination:t,inHomeList:s,displacedBy:a,destination:n});const d=t.find((e=>e.descriptor.index===i));if(!d)return kn({insideDestination:t,inHomeList:s,displacedBy:a,destination:n});const c=In(e,t),u=t.indexOf(d);return{displaced:Bn({afterDragging:c.slice(u),destination:n,displacedBy:a,last:o,viewport:r.frame,forceShouldAnimate:l}),displacedBy:a,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:i}}}}function jn(e,t){return Boolean(t.effected[e])}const Un=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,Vn=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,Gn=({axis:e,moveRelativeTo:t,isMoving:n})=>an(e.line,t.marginBox[e.end]+Un(e,n),Vn(e,t.marginBox,n)),_n=({axis:e,moveRelativeTo:t,isMoving:n})=>an(e.line,t.marginBox[e.start]-((e,t)=>t.margin[e.end]+t.borderBox[e.size]/2)(e,n),Vn(e,t.marginBox,n));var Wn=(e,t)=>{const n=e.frame;return n?en(t,n.scroll.diff.displacement):t},$n=e=>{const t=(({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:a})=>{const o=t.page.borderBox.center,i=e.at;return n&&i?"REORDER"===i.type?(({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:a})=>{const o=vn(r.descriptor.id,n),i=t.page,l=r.axis;if(!o.length)return(({axis:e,moveInto:t,isMoving:n})=>an(e.line,t.contentBox[e.start]+Un(e,n),Vn(e,t.contentBox,n)))({axis:l,moveInto:r.page,isMoving:i});const{displaced:s,displacedBy:d}=e,c=s.all[0];if(c){const e=n[c];if(jn(c,a))return _n({axis:l,moveRelativeTo:e.page,isMoving:i});const t=Pt(e.page,d.point);return _n({axis:l,moveRelativeTo:t,isMoving:i})}const u=o[o.length-1];if(u.descriptor.id===t.descriptor.id)return i.borderBox.center;if(jn(u.descriptor.id,a)){const e=Pt(u.page,rn(a.displacedBy.point));return Gn({axis:l,moveRelativeTo:e,isMoving:i})}return Gn({axis:l,moveRelativeTo:u.page,isMoving:i})})({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a}):(({afterCritical:e,impact:t,draggables:n})=>{const r=En(t);r||Ht(!1);const a=r.draggableId,o=n[a].page.borderBox.center,i=(({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const a=Boolean(e.visible[n]||e.invisible[n]);return jn(n,t)?a?Zt:rn(r.point):a?r.point:Zt})({displaced:t.displaced,afterCritical:e,combineWith:a,displacedBy:t.displacedBy});return en(o,i)})({impact:e,draggables:r,afterCritical:a}):o})(e),n=e.droppable;return n?Wn(n,t):t},Hn=(e,t)=>{const n=tn(t,e.scroll.initial),r=rn(n);return{frame:wt({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function qn(e,t){return e.map((e=>t[e]))}var Kn=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=((e,t)=>en(e.scroll.diff.displacement,t))(n,e),a=tn(r,t.page.borderBox.center);return en(t.client.borderBox.center,a)},Qn=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:a,onlyOnMainAxis:o=!1})=>{const i=tn(n,e.page.borderBox.center),l={target:dn(e.page.borderBox,i),destination:t,withDroppableDisplacement:a,viewport:r};return o?(e=>{return Rn({...e,isVisibleThroughFrameFn:(t=e.destination.axis,e=>{const n=Dn(e.top,e.bottom),r=Dn(e.left,e.right);return e=>t===Tn?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)})});var t})(l):Mn(l)},zn=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:a,viewport:o,previousPageBorderBoxCenter:i,previousClientSelection:l,afterCritical:s})=>{if(!n.isEnabled)return null;const d=vn(n.descriptor.id,r),c=On(t,n),u=(({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:a})=>{if(!n.isCombineEnabled)return null;if(!yn(a))return null;function o(e){const t={type:"COMBINE",combine:{draggableId:e,droppableId:n.descriptor.id}};return{...a,at:t}}const i=a.displaced.all,l=i.length?i[0]:null;if(e)return l?o(l):null;const s=In(t,r);if(!l)return s.length?o(s[s.length-1].descriptor.id):null;const d=s.findIndex((e=>e.descriptor.id===l));-1===d&&Ht(!1);const c=d-1;return c<0?null:o(s[c].descriptor.id)})({isMovingForward:e,draggable:t,destination:n,insideDestination:d,previousImpact:a})||(({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:a,insideDestination:o,previousImpact:i,viewport:l,afterCritical:s})=>{const d=i.at;if(d||Ht(!1),"REORDER"===d.type){const r=(({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const a=r.index,o=e?a+1:a-1,i=n[0].descriptor.index,l=n[n.length-1].descriptor.index;return o<i||o>(t?l:l+1)?null:o})({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:o});return null==r?null:Fn({draggable:n,insideDestination:o,destination:a,viewport:l,last:i.displaced,displacedBy:i.displacedBy,index:r})}const c=(({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:a})=>{if(!t.isCombineEnabled)return null;const o=r.draggableId,i=n[o].descriptor.index;return jn(o,a)?e?i:i-1:e?i+1:i})({isMovingForward:e,destination:a,displaced:i.displaced,draggables:r,combine:d.combine,afterCritical:s});return null==c?null:Fn({draggable:n,insideDestination:o,destination:a,viewport:l,last:i.displaced,displacedBy:i.displacedBy,index:c})})({isMovingForward:e,isInHomeList:c,draggable:t,draggables:r,destination:n,insideDestination:d,previousImpact:a,viewport:o,afterCritical:s});if(!u)return null;const p=$n({impact:u,draggable:t,droppable:n,draggables:r,afterCritical:s});if(Qn({draggable:t,destination:n,newPageBorderBoxCenter:p,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Kn({pageBorderBoxCenter:p,draggable:t,viewport:o}),impact:u,scrollJumpRequest:null};const m=tn(p,i),f=(({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:a})=>{const o=Hn(t,en(t.scroll.current,a)),i=n.frame?mn(n,en(n.frame.scroll.current,a)):n,l=e.displaced,s=Bn({afterDragging:qn(l.all,r),destination:n,displacedBy:e.displacedBy,viewport:o.frame,last:l,forceShouldAnimate:!1}),d=Bn({afterDragging:qn(l.all,r),destination:i,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),c={},u={},p=[l,s,d];return l.all.forEach((e=>{const t=function(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}(e,p);t?u[e]=t:c[e]=!0})),{...e,displaced:{all:l.all,invisible:c,visible:u}}})({impact:u,viewport:o,destination:n,draggables:r,maxScrollChange:m});return{clientSelection:l,impact:f,scrollJumpRequest:m}};const Yn=e=>{const t=e.subject.active;return t||Ht(!1),t},Jn=(e,t)=>{const n=e.page.borderBox.center;return jn(e.descriptor.id,t)?tn(n,t.displacedBy.point):n},Xn=(e,t)=>{const n=e.page.borderBox;return jn(e.descriptor.id,t)?dn(n,rn(t.displacedBy.point)):n};var Zn=kt((function(e,t){const n=t[e.line];return{value:n,point:an(e.line,n)}}));const er=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),tr=(e,t,n)=>{const r=e.frame;On(t,e)&&Ht(!1),e.subject.withPlaceholder&&Ht(!1);const a=Zn(e.axis,t.displaceBy).point,o=((e,t,n)=>{const r=e.axis;if("virtual"===e.descriptor.mode)return an(r.line,t[r.line]);const a=e.subject.page.contentBox[r.size],o=vn(e.descriptor.id,n).reduce(((e,t)=>e+t.client.marginBox[r.size]),0)+t[r.line]-a;return o<=0?null:an(r.line,o)})(e,a,n),i={placeholderSize:a,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const t=pn({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:e.frame});return{...e,subject:t}}const l=o?en(r.scroll.max,o):r.scroll.max,s=er(r,l),d=pn({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:s});return{...e,subject:d,frame:s}};var nr=e=>{const t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},rr=({state:e,type:t})=>{const n=((e,t)=>{const n=nr(e);return n?t[n]:null})(e.impact,e.dimensions.droppables),r=Boolean(n),a=e.dimensions.droppables[e.critical.droppable.id],o=n||a,i=o.axis.direction,l="vertical"===i&&("MOVE_UP"===t||"MOVE_DOWN"===t)||"horizontal"===i&&("MOVE_LEFT"===t||"MOVE_RIGHT"===t);if(l&&!r)return null;const s="MOVE_DOWN"===t||"MOVE_RIGHT"===t,d=e.dimensions.draggables[e.critical.draggable.id],c=e.current.page.borderBoxCenter,{draggables:u,droppables:p}=e.dimensions;return l?zn({isMovingForward:s,previousPageBorderBoxCenter:c,draggable:d,destination:o,draggables:u,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):(({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:a,droppables:o,viewport:i,afterCritical:l})=>{const s=(({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:a})=>{const o=n.subject.active;if(!o)return null;const i=n.axis,l=Dn(o[i.start],o[i.end]),s=bn(r).filter((e=>e!==n)).filter((e=>e.isEnabled)).filter((e=>Boolean(e.subject.active))).filter((e=>An(a.frame)(Yn(e)))).filter((t=>{const n=Yn(t);return e?o[i.crossAxisEnd]<n[i.crossAxisEnd]:n[i.crossAxisStart]<o[i.crossAxisStart]})).filter((e=>{const t=Yn(e),n=Dn(t[i.start],t[i.end]);return l(t[i.start])||l(t[i.end])||n(o[i.start])||n(o[i.end])})).sort(((t,n)=>{const r=Yn(t)[i.crossAxisStart],a=Yn(n)[i.crossAxisStart];return e?r-a:a-r})).filter(((e,t,n)=>Yn(e)[i.crossAxisStart]===Yn(n[0])[i.crossAxisStart]));if(!s.length)return null;if(1===s.length)return s[0];const d=s.filter((e=>Dn(Yn(e)[i.start],Yn(e)[i.end])(t[i.line])));return 1===d.length?d[0]:d.length>1?d.sort(((e,t)=>Yn(e)[i.start]-Yn(t)[i.start]))[0]:s.sort(((e,n)=>{const r=ln(t,cn(Yn(e))),a=ln(t,cn(Yn(n)));return r!==a?r-a:Yn(e)[i.start]-Yn(n)[i.start]}))[0]})({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:o,viewport:i});if(!s)return null;const d=vn(s.descriptor.id,a),c=(({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:a})=>{const o=r.filter((e=>Mn({target:Xn(e,a),destination:n,viewport:t.frame,withDroppableDisplacement:!0}))).sort(((t,r)=>{const o=on(e,Wn(n,Jn(t,a))),i=on(e,Wn(n,Jn(r,a)));return o<i?-1:i<o?1:t.descriptor.index-r.descriptor.index}));return o[0]||null})({pageBorderBoxCenter:t,viewport:i,destination:s,insideDestination:d,afterCritical:l}),u=(({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:a,destination:o,viewport:i,afterCritical:l})=>{if(!t){if(n.length)return null;const e={displaced:wn,displacedBy:Sn,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},t=$n({impact:e,draggable:r,droppable:o,draggables:a,afterCritical:l}),s=On(r,o)?o:tr(o,r,a);return Qn({draggable:r,destination:s,newPageBorderBoxCenter:t,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?e:null}const s=Boolean(e[o.axis.line]<=t.page.borderBox.center[o.axis.line]),d=(()=>{const e=t.descriptor.index;return t.descriptor.id===r.descriptor.id||s?e:e+1})(),c=Zn(o.axis,r.displaceBy);return Fn({draggable:r,insideDestination:n,destination:o,viewport:i,displacedBy:c,last:wn,index:d})})({previousPageBorderBoxCenter:t,destination:s,draggable:n,draggables:a,moveRelativeTo:c,insideDestination:d,viewport:i,afterCritical:l});if(!u)return null;const p=$n({impact:u,draggable:n,droppable:s,draggables:a,afterCritical:l});return{clientSelection:Kn({pageBorderBoxCenter:p,draggable:n,viewport:i}),impact:u,scrollJumpRequest:null}})({isMovingForward:s,previousPageBorderBoxCenter:c,draggable:d,isOver:o,draggables:u,droppables:p,viewport:e.viewport,afterCritical:e.afterCritical})};function ar(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function or(e){const t=Dn(e.top,e.bottom),n=Dn(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}const ir=(e,t)=>wt(dn(e,t));function lr({displaced:e,id:t}){return Boolean(e.visible[t]||e.invisible[t])}var sr=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:a,viewport:o,afterCritical:i})=>{const l=ir(t.page.borderBox,e),s=function({pageBorderBox:e,draggable:t,droppables:n}){const r=bn(n).filter((t=>{if(!t.isEnabled)return!1;const n=t.subject.active;if(!n)return!1;if(a=n,!((r=e).left<a.right&&r.right>a.left&&r.top<a.bottom&&r.bottom>a.top))return!1;var r,a;if(or(n)(e.center))return!0;const o=t.axis,i=n.center[o.crossAxisLine],l=e[o.crossAxisStart],s=e[o.crossAxisEnd],d=Dn(n[o.crossAxisStart],n[o.crossAxisEnd]),c=d(l),u=d(s);return!c&&!u||(c?l<i:s>i)}));return r.length?1===r.length?r[0].descriptor.id:function({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,a=n.map((t=>{const n=t.axis,a=an(t.axis.line,e.center[n.line],t.page.borderBox.center[n.crossAxisLine]);return{id:t.descriptor.id,distance:on(r,a)}})).sort(((e,t)=>t.distance-e.distance));return a[0]?a[0].id:null}({pageBorderBox:e,draggable:t,candidates:r}):null}({pageBorderBox:l,draggable:t,droppables:r});if(!s)return Cn;const d=r[s],c=vn(d.descriptor.id,n),u=((e,t)=>{const n=e.frame;return n?ir(t,n.scroll.diff.value):t})(d,l);return(({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:a,afterCritical:o})=>{if(!r.isCombineEnabled)return null;const i=r.axis,l=Zn(r.axis,e.displaceBy),s=l.value,d=t[i.start],c=t[i.end],u=In(e,a).find((e=>{const t=e.descriptor.id,r=e.page.borderBox,a=r[i.size]/4,l=jn(t,o),u=lr({displaced:n.displaced,id:t});return l?u?c>r[i.start]+a&&c<r[i.end]-a:d>r[i.start]-s+a&&d<r[i.end]-s-a:u?c>r[i.start]+s+a&&c<r[i.end]+s-a:d>r[i.start]+a&&d<r[i.end]-a}));return u?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:u.descriptor.id,droppableId:r.descriptor.id}}}:null})({pageBorderBoxWithDroppableScroll:u,draggable:t,previousImpact:a,destination:d,insideDestination:c,afterCritical:i})||(({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:a,viewport:o,afterCritical:i})=>{const l=n.axis,s=Zn(n.axis,t.displaceBy),d=s.value,c=e[l.start],u=e[l.end],p=function({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}({draggable:t,closest:In(t,r).find((e=>{const t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=jn(t,i),o=lr({displaced:a,id:t});return r?o?u<=n:c<n-d:o?u<=n+d:c<n}))||null,inHomeList:On(t,n)});return Fn({draggable:t,insideDestination:r,destination:n,viewport:o,last:a,displacedBy:s,index:p})})({pageBorderBoxWithDroppableScroll:u,draggable:t,destination:d,insideDestination:c,last:a.displaced,viewport:o,afterCritical:i})},dr=(e,t)=>({...e,[t.descriptor.id]:t});var cr=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:a,scrollJumpRequest:o})=>{const i=r||e.viewport,l=n||e.dimensions,s=t||e.current.client.selection,d=tn(s,e.initial.client.selection),c={offset:d,selection:s,borderBoxCenter:en(e.initial.client.borderBoxCenter,d)},u={selection:en(c.selection,i.scroll.current),borderBoxCenter:en(c.borderBoxCenter,i.scroll.current),offset:en(c.offset,i.scroll.diff.value)},p={client:c,page:u};if("COLLECTING"===e.phase)return{...e,dimensions:l,viewport:i,current:p};const m=l.draggables[e.critical.draggable.id],f=a||sr({pageOffset:u.offset,draggable:m,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:i,afterCritical:e.afterCritical}),g=(({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:a})=>{const o=(({previousImpact:e,impact:t,droppables:n})=>{const r=nr(e),a=nr(t);if(!r)return n;if(r===a)return n;const o=n[r];if(!o.subject.withPlaceholder)return n;const i=(e=>{const t=e.subject.withPlaceholder;t||Ht(!1);const n=e.frame;if(!n){const t=pn({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:t}}const r=t.oldFrameMaxScroll;r||Ht(!1);const a=er(n,r),o=pn({page:e.subject.page,axis:e.axis,frame:a,withPlaceholder:null});return{...e,subject:o,frame:a}})(o);return dr(n,i)})({previousImpact:r,impact:a,droppables:n}),i=nr(a);if(!i)return o;const l=n[i];if(On(e,l))return o;if(l.subject.withPlaceholder)return o;const s=tr(l,e,t);return dr(o,s)})({draggable:m,impact:f,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:p,dimensions:{draggables:l.draggables,droppables:g},impact:f,viewport:i,scrollJumpRequest:o||null,forceShouldAnimate:!o&&null}},ur=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:a})=>{const o=e.displaced,i=function(e,t){return e.map((e=>t[e]))}(o.all,n),l=Bn({afterDragging:i,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:a,last:o});return{...e,displaced:l}},pr=({impact:e,draggable:t,droppable:n,draggables:r,viewport:a,afterCritical:o})=>{const i=$n({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:o});return Kn({pageBorderBoxCenter:i,draggable:t,viewport:a})},mr=({state:e,dimensions:t,viewport:n})=>{"SNAP"!==e.movementMode&&Ht(!1);const r=e.impact,a=n||e.viewport,o=t||e.dimensions,{draggables:i,droppables:l}=o,s=i[e.critical.draggable.id],d=nr(r);d||Ht(!1);const c=l[d],u=ur({impact:r,viewport:a,destination:c,draggables:i}),p=pr({impact:u,draggable:s,droppable:c,draggables:i,viewport:a,afterCritical:e.afterCritical});return cr({impact:u,clientSelection:p,state:e,dimensions:o,viewport:a})},fr=({draggable:e,home:t,draggables:n,viewport:r})=>{const a=Zn(t.axis,e.displaceBy),o=vn(t.descriptor.id,n),i=o.indexOf(e);-1===i&&Ht(!1);const l=o.slice(i+1),s=l.reduce(((e,t)=>(e[t.descriptor.id]=!0,e)),{}),d={inVirtualList:"virtual"===t.descriptor.mode,displacedBy:a,effected:s};var c;return{impact:{displaced:Bn({afterDragging:l,destination:t,displacedBy:a,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:a,at:{type:"REORDER",destination:(c=e.descriptor,{index:c.index,droppableId:c.droppableId})}},afterCritical:d}};const gr=e=>"SNAP"===e.movementMode,br=(e,t,n)=>{const r=((e,t)=>({draggables:e.draggables,droppables:dr(e.droppables,t)}))(e.dimensions,t);return!gr(e)||n?cr({state:e,dimensions:r}):mr({state:e,dimensions:r})};function hr(e){return e.isDragging&&"SNAP"===e.movementMode?{...e,scrollJumpRequest:null}:e}const vr={phase:"IDLE",completed:null,shouldFlush:!1};var yr=(e=vr,t)=>{if("FLUSH"===t.type)return{...vr,shouldFlush:!0};if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&Ht(!1);const{critical:n,clientSelection:r,viewport:a,dimensions:o,movementMode:i}=t.payload,l=o.draggables[n.draggable.id],s=o.droppables[n.droppable.id],d={selection:r,borderBoxCenter:l.client.borderBox.center,offset:Zt},c={client:d,page:{selection:en(d.selection,a.scroll.initial),borderBoxCenter:en(d.selection,a.scroll.initial),offset:en(d.selection,a.scroll.diff.value)}},u=bn(o.droppables).every((e=>!e.isFixedOnPage)),{impact:p,afterCritical:m}=fr({draggable:l,home:s,draggables:o.draggables,viewport:a});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:i,dimensions:o,initial:c,current:c,isWindowScrollAllowed:u,impact:p,afterCritical:m,onLiftImpact:p,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&Ht(!1),{...e,phase:"COLLECTING"});if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&Ht(!1),(({state:e,published:t})=>{const n=t.modified.map((t=>{const n=e.dimensions.droppables[t.droppableId];return mn(n,t.scroll)})),r={...e.dimensions.droppables,...fn(n)},a=gn((({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map((e=>{const a=e.descriptor.droppableId,o=(e=>{const t=e.frame;return t||Ht(!1),t})(t[a]),i=o.scroll.diff.value,l=(({draggable:e,offset:t,initialWindowScroll:n})=>{const r=Pt(e.client,t),a=Rt(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:a}})({draggable:e,offset:en(r,i),initialWindowScroll:n.scroll.initial});return l}))})({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),o={...e.dimensions.draggables,...a};t.removals.forEach((e=>{delete o[e]}));const i={droppables:r,draggables:o},l=nr(e.impact),s=l?i.droppables[l]:null,d=i.draggables[e.critical.draggable.id],c=i.droppables[e.critical.droppable.id],{impact:u,afterCritical:p}=fr({draggable:d,home:c,draggables:o,viewport:e.viewport}),m=s&&s.isCombineEnabled?e.impact:u,f=sr({pageOffset:e.current.page.offset,draggable:i.draggables[e.critical.draggable.id],draggables:i.draggables,droppables:i.droppables,previousImpact:m,viewport:e.viewport,afterCritical:p}),g={...e,phase:"DRAGGING",impact:f,onLiftImpact:u,dimensions:i,afterCritical:p,forceShouldAnimate:!1};return"COLLECTING"===e.phase?g:{...g,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}})({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;ar(e)||Ht(!1);const{client:n}=t.payload;return nn(n,e.current.client.selection)?e:cr({state:e,clientSelection:n,impact:gr(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return hr(e);if("COLLECTING"===e.phase)return hr(e);ar(e)||Ht(!1);const{id:n,newScroll:r}=t.payload,a=e.dimensions.droppables[n];if(!a)return e;const o=mn(a,r);return br(e,o,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;ar(e)||Ht(!1);const{id:n,isEnabled:r}=t.payload,a=e.dimensions.droppables[n];a||Ht(!1),a.isEnabled===r&&Ht(!1);const o={...a,isEnabled:r};return br(e,o,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;ar(e)||Ht(!1);const{id:n,isCombineEnabled:r}=t.payload,a=e.dimensions.droppables[n];a||Ht(!1),a.isCombineEnabled===r&&Ht(!1);const o={...a,isCombineEnabled:r};return br(e,o,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;ar(e)||Ht(!1),e.isWindowScrollAllowed||Ht(!1);const n=t.payload.newScroll;if(nn(e.viewport.scroll.current,n))return hr(e);const r=Hn(e.viewport,n);return gr(e)?mr({state:e,viewport:r}):cr({state:e,viewport:r})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!ar(e))return e;const n=t.payload.maxScroll;if(nn(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&Ht(!1);const n=rr({state:e,type:t.type});return n?cr({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){const n=t.payload.reason;return"COLLECTING"!==e.phase&&Ht(!1),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if("DROP_ANIMATE"===t.type){const{completed:n,dropDuration:r,newHomeClientOffset:a}=t.payload;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&Ht(!1),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:a,dimensions:e.dimensions}}if("DROP_COMPLETE"===t.type){const{completed:e}=t.payload;return{phase:"IDLE",completed:e,shouldFlush:!1}}return e};const Er=e=>({type:"LIFT",payload:e}),Ir=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),Or=()=>({type:"COLLECTION_STARTING",payload:null}),Sr=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),wr=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),Cr=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),Dr=e=>({type:"MOVE",payload:e}),Ar=()=>({type:"MOVE_UP",payload:null}),xr=()=>({type:"MOVE_DOWN",payload:null}),Tr=()=>({type:"MOVE_RIGHT",payload:null}),Pr=()=>({type:"MOVE_LEFT",payload:null}),Rr=()=>({type:"FLUSH",payload:null}),Nr=e=>({type:"DROP_COMPLETE",payload:e}),Mr=e=>({type:"DROP",payload:e}),Lr="cubic-bezier(.2,1,.1,1)",Br=0,kr=.7,Fr=.75,jr={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Ur=`${jr.outOfTheWay}s cubic-bezier(0.2, 0, 0, 1)`,Vr={fluid:`opacity ${Ur}`,snap:`transform ${Ur}, opacity ${Ur}`,drop:e=>{const t=`${e}s ${Lr}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Ur}`,placeholder:`height ${Ur}, width ${Ur}, margin ${Ur}`},Gr=e=>nn(e,Zt)?void 0:`translate(${e.x}px, ${e.y}px)`,_r=Gr,Wr=(e,t)=>{const n=Gr(e);if(n)return t?`${n} scale(${Fr})`:n},{minDropTime:$r,maxDropTime:Hr}=jr,qr=Hr-$r;var Kr=({getState:e,dispatch:t})=>n=>r=>{if("DROP"!==r.type)return void n(r);const a=e(),o=r.payload.reason;if("COLLECTING"===a.phase)return void t((i={reason:o},{type:"DROP_PENDING",payload:i}));var i;if("IDLE"===a.phase)return;"DROP_PENDING"===a.phase&&a.isWaiting&&Ht(!1),"DRAGGING"!==a.phase&&"DROP_PENDING"!==a.phase&&Ht(!1);const l=a.critical,s=a.dimensions,d=s.draggables[a.critical.draggable.id],{impact:c,didDropInsideDroppable:u}=(({draggables:e,reason:t,lastImpact:n,home:r,viewport:a,onLiftImpact:o})=>n.at&&"DROP"===t?"REORDER"===n.at.type?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:wn},didDropInsideDroppable:!0}:{impact:ur({draggables:e,impact:o,destination:r,viewport:a,forceShouldAnimate:!0}),didDropInsideDroppable:!1})({reason:o,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),p=u?yn(c):null,m=u?En(c):null,f={index:l.draggable.index,droppableId:l.droppable.id},g={draggableId:d.descriptor.id,type:d.descriptor.type,source:f,reason:o,mode:a.movementMode,destination:p,combine:m},b=(({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:a})=>{const{draggables:o,droppables:i}=n,l=nr(e),s=l?i[l]:null,d=i[t.descriptor.droppableId],c=pr({impact:e,draggable:t,draggables:o,afterCritical:a,droppable:s||d,viewport:r});return tn(c,t.client.borderBox.center)})({impact:c,draggable:d,dimensions:s,viewport:a.viewport,afterCritical:a.afterCritical}),h={critical:a.critical,afterCritical:a.afterCritical,result:g,impact:c};if(nn(a.current.client.offset,b)&&!Boolean(g.combine))return void t(Nr({completed:h}));const v=(({current:e,destination:t,reason:n})=>{const r=on(e,t);if(r<=0)return $r;if(r>=1500)return Hr;const a=$r+qr*(r/1500);return Number(("CANCEL"===n?.6*a:a).toFixed(2))})({current:a.current.client.offset,destination:b,reason:o});t((e=>({type:"DROP_ANIMATE",payload:e}))({newHomeClientOffset:b,dropDuration:v,completed:h}))},Qr=()=>({x:window.pageXOffset,y:window.pageYOffset});var zr=e=>{const t=function({onWindowScroll:e}){const t=Ft((function(){e(Qr())})),n=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}(t);let r=Vt;function a(){return r!==Vt}return{start:function(){a()&&Ht(!1),r=Gt(window,[n])},stop:function(){a()||Ht(!1),t.cancel(),r(),r=Vt},isActive:a}}({onWindowScroll:t=>{e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return e=>n=>{t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&(e=>"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type)(n)&&t.stop(),e(n)}};const Yr=(e,t)=>{t()},Jr=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function Xr(e,t,n,r){if(!e)return void n(r(t));const a=(e=>{let t=!1,n=!1;const r=setTimeout((()=>{n=!0})),a=a=>{t||n||(t=!0,e(a),clearTimeout(r))};return a.wasCalled=()=>t,a})(n);e(t,{announce:a}),a.wasCalled()||n(r(t))}var Zr=(e,t)=>{const n=((e,t)=>{const n=(()=>{const e=[];return{add:t=>{const n=setTimeout((()=>(t=>{const n=e.findIndex((e=>e.timerId===t));-1===n&&Ht(!1);const[r]=e.splice(n,1);r.callback()})(n))),r={timerId:n,callback:t};e.push(r)},flush:()=>{if(!e.length)return;const t=[...e];e.length=0,t.forEach((e=>{clearTimeout(e.timerId),e.callback()}))}}})();let r=null;const a=n=>{r||Ht(!1),r=null,Yr(0,(()=>Xr(e().onDragEnd,n,t,Xt.onDragEnd)))};return{beforeCapture:(t,n)=>{r&&Ht(!1),Yr(0,(()=>{const r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:(t,n)=>{r&&Ht(!1),Yr(0,(()=>{const r=e().onBeforeDragStart;r&&r(Jr(t,n))}))},start:(a,o)=>{r&&Ht(!1);const i=Jr(a,o);r={mode:o,lastCritical:a,lastLocation:i.source,lastCombine:null},n.add((()=>{Yr(0,(()=>Xr(e().onDragStart,i,t,Xt.onDragStart)))}))},update:(a,o)=>{const i=yn(o),l=En(o);r||Ht(!1);const s=!((e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r})(a,r.lastCritical);s&&(r.lastCritical=a);const d=(u=i,!(null==(c=r.lastLocation)&&null==u||null!=c&&null!=u&&c.droppableId===u.droppableId&&c.index===u.index));var c,u;d&&(r.lastLocation=i);const p=!((e,t)=>null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId)(r.lastCombine,l);if(p&&(r.lastCombine=l),!s&&!d&&!p)return;const m={...Jr(a,r.mode),combine:l,destination:i};n.add((()=>{Yr(0,(()=>Xr(e().onDragUpdate,m,t,Xt.onDragUpdate)))}))},flush:()=>{r||Ht(!1),n.flush()},drop:a,abort:()=>{if(!r)return;const e={...Jr(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};a(e)}}})(e,t);return e=>t=>r=>{if("BEFORE_INITIAL_CAPTURE"===r.type)return void n.beforeCapture(r.payload.draggableId,r.payload.movementMode);if("INITIAL_PUBLISH"===r.type){const e=r.payload.critical;return n.beforeStart(e,r.payload.movementMode),t(r),void n.start(e,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){const e=r.payload.completed.result;return n.flush(),t(r),void n.drop(e)}if(t(r),"FLUSH"===r.type)return void n.abort();const a=e.getState();"DRAGGING"===a.phase&&n.update(a.critical,a.impact)}},ea=e=>t=>n=>{if("DROP_ANIMATION_FINISHED"!==n.type)return void t(n);const r=e.getState();"DROP_ANIMATING"!==r.phase&&Ht(!1),e.dispatch(Nr({completed:r.completed}))},ta=e=>{let t=null,n=null;return r=>a=>{if("FLUSH"!==a.type&&"DROP_COMPLETE"!==a.type&&"DROP_ANIMATION_FINISHED"!==a.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(a),"DROP_ANIMATE"!==a.type)return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((()=>{n=null,t=Gt(window,[o])}))}},na=e=>t=>n=>{if(t(n),"PUBLISH_WHILE_DRAGGING"!==n.type)return;const r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(Mr({reason:r.reason})))};const ra=yt.compose;var aa=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:a,autoScroller:o})=>{return(0,yt.createStore)(yr,ra((0,yt.applyMiddleware)((i=n,()=>e=>t=>{"INITIAL_PUBLISH"===t.type&&i.dragging(),"DROP_ANIMATE"===t.type&&i.dropping(t.payload.completed.result.reason),"FLUSH"!==t.type&&"DROP_COMPLETE"!==t.type||i.resting(),e(t)}),(e=>()=>t=>n=>{"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)})(e),(e=>({getState:t,dispatch:n})=>r=>a=>{if("LIFT"!==a.type)return void r(a);const{id:o,clientSelection:i,movementMode:l}=a.payload,s=t();"DROP_ANIMATING"===s.phase&&n(Nr({completed:s.completed})),"IDLE"!==t().phase&&Ht(!1),n(Rr()),n({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:o,movementMode:l}});const d={draggableId:o,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},{critical:c,dimensions:u,viewport:p}=e.startPublishing(d);n({type:"INITIAL_PUBLISH",payload:{critical:c,dimensions:u,clientSelection:i,movementMode:l,viewport:p}})})(e),Kr,ea,ta,na,(e=>t=>n=>r=>{if((e=>"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type)(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);const a=t.getState();return"DRAGGING"!==a.phase&&Ht(!1),void e.start(a)}n(r),e.scroll(t.getState())})(o),zr,(e=>{let t=!1;return()=>n=>r=>{if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;const n=r.payload.completed.result;n.combine&&e.tryShiftRecord(n.draggableId,n.combine.draggableId),e.tryRestoreFocusRecorded()}}}})(t),Zr(r,a))));var i},oa=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const a=tn({x:t,y:e},{x:r,y:n});return{x:Math.max(0,a.x),y:Math.max(0,a.y)}},ia=()=>{const e=document.documentElement;return e||Ht(!1),e},la=()=>{const e=ia();return oa({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})};function sa(e,t,n){return n.descriptor.id!==t.id&&(n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var da=(e,t)=>{let n=null;const r=function({registry:e,callbacks:t}){let n={additions:{},removals:{},modified:{}},r=null;const a=()=>{r||(t.collectionStarting(),r=requestAnimationFrame((()=>{r=null;const{additions:a,removals:o,modified:i}=n,l=Object.keys(a).map((t=>e.draggable.getById(t).getDimension(Zt))).sort(((e,t)=>e.descriptor.index-t.descriptor.index)),s=Object.keys(i).map((t=>({droppableId:t,scroll:e.droppable.getById(t).callbacks.getScrollWhileDragging()}))),d={additions:l,removals:Object.keys(o),modified:s};n={additions:{},removals:{},modified:{}},t.publish(d)})))};return{add:e=>{const t=e.descriptor.id;n.additions[t]=e,n.modified[e.descriptor.droppableId]=!0,n.removals[t]&&delete n.removals[t],a()},remove:e=>{const t=e.descriptor;n.removals[t.id]=!0,n.modified[t.droppableId]=!0,n.additions[t.id]&&delete n.additions[t.id],a()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=t=>{n||Ht(!1);const a=n.critical.draggable;"ADDITION"===t.type&&sa(e,a,t.value)&&r.add(t.value),"REMOVAL"===t.type&&sa(e,a,t.value)&&r.remove(t.value)};return{updateDroppableIsEnabled:(r,a)=>{e.droppable.exists(r)||Ht(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:a})},updateDroppableIsCombineEnabled:(r,a)=>{n&&(e.droppable.exists(r)||Ht(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:a}))},scrollDroppable:(t,r)=>{n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:(r,a)=>{n&&(e.droppable.exists(r)||Ht(!1),t.updateDroppableScroll({id:r,newScroll:a}))},startPublishing:t=>{n&&Ht(!1);const r=e.draggable.getById(t.draggableId),o=e.droppable.getById(r.descriptor.droppableId),i={draggable:r.descriptor,droppable:o.descriptor},l=e.subscribe(a);return n={critical:i,unsubscribe:l},(({critical:e,scrollOptions:t,registry:n})=>{const r=(()=>{const e=Qr(),t=la(),n=e.y,r=e.x,a=ia(),o=a.clientWidth,i=a.clientHeight;return{frame:wt({top:n,left:r,right:r+o,bottom:n+i}),scroll:{initial:e,current:e,max:t,diff:{value:Zt,displacement:Zt}}}})(),a=r.scroll.current,o=e.droppable,i=n.droppable.getAllByType(o.type).map((e=>e.callbacks.getDimensionAndWatchScroll(a,t))),l=n.draggable.getAllByType(e.draggable.type).map((e=>e.getDimension(a)));return{dimensions:{draggables:gn(l),droppables:fn(i)},critical:e,viewport:r}})({critical:i,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:()=>{if(!n)return;r.stop();const t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((e=>e.callbacks.dragStopped())),n.unsubscribe(),n=null}}},ca=(e,t)=>"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason,ua=e=>{window.scrollBy(e.x,e.y)};const pa=kt((e=>bn(e).filter((e=>!!e.isEnabled&&!!e.frame))));const ma={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var fa=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return 0===r?0:(n-e)/r},ga=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:a})=>{const o=((e,t,n=(()=>ma))=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return 1;const a=1-fa({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=r.maxPixelScroll*r.ease(a);return Math.ceil(o)})(e,t,a);return 0===o?0:r?Math.max(((e,t,n)=>{const r=n(),a=r.durationDampening.accelerateAt,o=r.durationDampening.stopDampeningAt,i=t,l=o,s=Date.now()-i;if(s>=o)return e;if(s<a)return 1;const d=fa({startOfRange:a,endOfRange:l,current:s}),c=e*r.ease(d);return Math.ceil(c)})(o,n,a),1):o},ba=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:a,getAutoScrollerOptions:o})=>{const i=((e,t,n=(()=>ma))=>{const r=n();return{startScrollingFrom:e[t.size]*r.startFromPercentage,maxScrollValueAt:e[t.size]*r.maxScrollAtPercentage}})(e,r,o);return t[r.end]<t[r.start]?ga({distanceToEdge:t[r.end],thresholds:i,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:o}):-1*ga({distanceToEdge:t[r.start],thresholds:i,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:o})};const ha=sn((e=>0===e?0:e));var va=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:a,getAutoScrollerOptions:o})=>{const i={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},l=ba({container:t,distanceToEdges:i,dragStartTime:e,axis:Tn,shouldUseTimeDampening:a,getAutoScrollerOptions:o}),s=ba({container:t,distanceToEdges:i,dragStartTime:e,axis:Pn,shouldUseTimeDampening:a,getAutoScrollerOptions:o}),d=ha({x:s,y:l});if(nn(d,Zt))return null;const c=(({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,a=t.width>e.width;return a||r?a&&r?null:{x:a?0:n.x,y:r?0:n.y}:n})({container:t,subject:n,proposedScroll:d});return c?nn(c,Zt)?null:c:null};const ya=sn((e=>0===e?0:e>0?1:-1)),Ea=(()=>{const e=(e,t)=>e<0?e:e>t?e-t:0;return({current:t,max:n,change:r})=>{const a=en(t,r),o={x:e(a.x,n.x),y:e(a.y,n.y)};return nn(o,Zt)?null:o}})(),Ia=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},a=ya(n),o=Ea({max:r,current:t,change:a});return!o||0!==a.x&&0===o.x||0!==a.y&&0===o.y},Oa=(e,t)=>Ia({current:e.scroll.current,max:e.scroll.max,change:t}),Sa=(e,t)=>{const n=e.frame;return!!n&&Ia({current:n.scroll.current,max:n.scroll.max,change:t})};var wa=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:a,getAutoScrollerOptions:o})=>{const i=e.current.page.borderBoxCenter,l=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const a=(({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:o})=>{const i=va({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:a,getAutoScrollerOptions:o});return i&&Oa(e,i)?i:null})({dragStartTime:t,viewport:e.viewport,subject:l,center:i,shouldUseTimeDampening:n,getAutoScrollerOptions:o});if(a)return void r(a)}const s=(({center:e,destination:t,droppables:n})=>{if(t){const e=n[t];return e.frame?e:null}const r=((e,t)=>{const n=pa(t).find((t=>(t.frame||Ht(!1),or(t.frame.pageMarginBox)(e))))||null;return n})(e,n);return r})({center:i,destination:nr(e.impact),droppables:e.dimensions.droppables});if(!s)return;const d=(({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:o})=>{const i=e.frame;if(!i)return null;const l=va({dragStartTime:r,container:i.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:a,getAutoScrollerOptions:o});return l&&Sa(e,l)?l:null})({dragStartTime:t,droppable:s,subject:l,center:i,shouldUseTimeDampening:n,getAutoScrollerOptions:o});d&&a(s.descriptor.id,d)},Ca=({move:e,scrollDroppable:t,scrollWindow:n})=>r=>{const a=r.scrollJumpRequest;if(!a)return;const o=nr(r.impact);o||Ht(!1);const i=((e,n)=>{if(!Sa(e,n))return n;const r=((e,t)=>{const n=e.frame;return n&&Sa(e,t)?Ea({current:n.scroll.current,max:n.scroll.max,change:t}):null})(e,n);if(!r)return t(e.descriptor.id,n),null;const a=tn(n,r);return t(e.descriptor.id,a),tn(n,a)})(r.dimensions.droppables[o],a);if(!i)return;const l=r.viewport,s=((e,t,r)=>{if(!e)return r;if(!Oa(t,r))return r;const a=((e,t)=>{if(!Oa(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return Ea({current:r,max:n,change:t})})(t,r);if(!a)return n(r),null;const o=tn(r,a);return n(o),tn(r,o)})(r.isWindowScrollAllowed,l,i);s&&((t,n)=>{const r=en(t.current.client.selection,n);e({client:r})})(r,s)},Da=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const a=(({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=(()=>ma)})=>{const r=Ft(e),a=Ft(t);let o=null;const i=e=>{o||Ht(!1);const{shouldUseTimeDampening:t,dragStartTime:i}=o;wa({state:e,scrollWindow:r,scrollDroppable:a,dragStartTime:i,shouldUseTimeDampening:t,getAutoScrollerOptions:n})};return{start:e=>{o&&Ht(!1);const t=Date.now();let r=!1;const a=()=>{r=!0};wa({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:a,scrollDroppable:a,getAutoScrollerOptions:n}),o={dragStartTime:t,shouldUseTimeDampening:r},r&&i(e)},stop:()=>{o&&(r.cancel(),a.cancel(),o=null)},scroll:i}})({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),o=Ca({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:e=>{r().disabled||"DRAGGING"!==e.phase||("FLUID"!==e.movementMode?e.scrollJumpRequest&&o(e):a.scroll(e))},start:a.start,stop:a.stop}};const Aa="data-rfd",xa=(()=>{const e=`${Aa}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),Ta=(()=>{const e=`${Aa}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Pa=(()=>{const e=`${Aa}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Ra={contextId:`${Aa}-scroll-container-context-id`},Na=(e,t)=>e.map((e=>{const n=e.styles[t];return n?`${e.selector} { ${n} }`:""})).join(" ");var Ma=e=>{const t=(n=e,e=>`[${e}="${n}"]`);var n;const r=(()=>{const e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:t(xa.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}})(),a=[(()=>{const e=`\n      transition: ${Vr.outOfTheWay};\n    `;return{selector:t(Ta.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}})(),r,{selector:t(Pa.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:Na(a,"always"),resting:Na(a,"resting"),dragging:Na(a,"dragging"),dropAnimating:Na(a,"dropAnimating"),userCancel:Na(a,"userCancel")}},La="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?u.useLayoutEffect:u.useEffect;const Ba=()=>{const e=document.querySelector("head");return e||Ht(!1),e},ka=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Fa(e,t){return Array.from(e.querySelectorAll(t))}var ja=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Ua(e){return e instanceof ja(e).HTMLElement}function Va(){const e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((t=>t(e)))}function r(t){return e.draggables[t]||null}function a(t){return e.droppables[t]||null}return{draggable:{register:t=>{e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:(t,n)=>{const r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:t=>{const a=t.descriptor.id,o=r(a);o&&t.uniqueId===o.uniqueId&&(delete e.draggables[a],e.droppables[t.descriptor.droppableId]&&n({type:"REMOVAL",value:t}))},getById:function(e){const t=r(e);return t||Ht(!1),t},findById:r,exists:e=>Boolean(r(e)),getAllByType:t=>Object.values(e.draggables).filter((e=>e.descriptor.type===t))},droppable:{register:t=>{e.droppables[t.descriptor.id]=t},unregister:t=>{const n=a(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){const t=a(e);return t||Ht(!1),t},findById:a,exists:e=>Boolean(a(e)),getAllByType:t=>Object.values(e.droppables).filter((e=>e.descriptor.type===t))},subscribe:function(e){return t.push(e),function(){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var Ga=f().createContext(null),_a=()=>{const e=document.body;return e||Ht(!1),e},Wa={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};const $a=e=>`rfd-announcement-${e}`;let Ha=0;const qa={separator:"::"};var Ka="useId"in f()?function(e,t=qa){const n=f().useId();return Ot((()=>`${e}${t.separator}${n}`),[t.separator,e,n])}:function(e,t=qa){return Ot((()=>`${e}${t.separator}${Ha++}`),[t.separator,e])},Qa=f().createContext(null);function za(e){const t=(0,u.useRef)(e);return(0,u.useEffect)((()=>{t.current=e})),t}function Ya(e){return"IDLE"!==e.phase&&"DROP_ANIMATING"!==e.phase&&e.isDragging}const Ja={13:!0,9:!0};var Xa=e=>{Ja[e.keyCode]&&e.preventDefault()},Za=(()=>{const e="visibilitychange";return"undefined"==typeof document?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find((e=>`on${e}`in document))||e})();const eo={type:"IDLE"};function to(){}const no={34:!0,33:!0,36:!0,35:!0};const ro={type:"IDLE"},ao=["input","button","textarea","select","option","optgroup","video","audio"];function oo(e,t){if(null==t)return!1;if(ao.includes(t.tagName.toLowerCase()))return!0;const n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&oo(e,t.parentElement)}function io(e,t){const n=t.target;return!!Ua(n)&&oo(e,n)}var lo=e=>wt(e.getBoundingClientRect()).center;const so=(()=>{const e="matches";return"undefined"==typeof document?e:[e,"msMatchesSelector","webkitMatchesSelector"].find((e=>e in Element.prototype))||e})();function co(e,t){return null==e?null:e[so](t)?e:co(e.parentElement,t)}function uo(e,t){return e.closest?e.closest(t):co(e,t)}function po(e){e.preventDefault()}function mo({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!!n()&&e===t}function fo({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const a=n.draggable.findById(r);return!!a&&!!a.options.isEnabled&&!!ca(t.getState(),r)}const go=[function(e){const t=(0,u.useRef)(eo),n=(0,u.useRef)(Vt),r=Ot((()=>({eventName:"mousedown",fn:function(t){if(t.defaultPrevented)return;if(0!==t.button)return;if(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)return;const r=e.findClosestDraggableId(t);if(!r)return;const a=e.tryGetLock(r,i,{sourceEvent:t});if(!a)return;t.preventDefault();const o={x:t.clientX,y:t.clientY};n.current(),d(a,o)}})),[e]),a=Ot((()=>({eventName:"webkitmouseforcewillbegin",fn:t=>{if(t.defaultPrevented)return;const n=e.findClosestDraggableId(t);if(!n)return;const r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}})),[e]),o=St((function(){n.current=Gt(window,[a,r],{passive:!1,capture:!0})}),[a,r]),i=St((()=>{"IDLE"!==t.current.type&&(t.current=eo,n.current(),o())}),[o]),l=St((()=>{const e=t.current;i(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[i]),s=St((function(){const e=function({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:e=>{const{button:t,clientX:a,clientY:o}=e;if(0!==t)return;const i={x:a,y:o},l=n();if("DRAGGING"===l.type)return e.preventDefault(),void l.actions.move(i);if("PENDING"!==l.type&&Ht(!1),s=l.point,d=i,!(Math.abs(d.x-s.x)>=5||Math.abs(d.y-s.y)>=5))return;var s,d;e.preventDefault();const c=l.actions.fluidLift(i);r({type:"DRAGGING",actions:c})}},{eventName:"mouseup",fn:r=>{const a=n();"DRAGGING"===a.type?(r.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()):e()}},{eventName:"mousedown",fn:t=>{"DRAGGING"===n().type&&t.preventDefault(),e()}},{eventName:"keydown",fn:t=>{if("PENDING"!==n().type)return 27===t.keyCode?(t.preventDefault(),void e()):void Xa(t);e()}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{"PENDING"===n().type&&e()}},{eventName:"webkitmouseforcedown",fn:t=>{const r=n();"IDLE"===r.type&&Ht(!1),r.actions.shouldRespectForcePress()?e():t.preventDefault()}},{eventName:Za,fn:e}]}({cancel:l,completed:i,getPhase:()=>t.current,setPhase:e=>{t.current=e}});n.current=Gt(window,e,{capture:!0,passive:!1})}),[l,i]),d=St((function(e,n){"IDLE"!==t.current.type&&Ht(!1),t.current={type:"PENDING",point:n,actions:e},s()}),[s]);La((function(){return o(),function(){n.current()}}),[o])},function(e){const t=(0,u.useRef)(to),n=Ot((()=>({eventName:"keydown",fn:function(n){if(n.defaultPrevented)return;if(32!==n.keyCode)return;const a=e.findClosestDraggableId(n);if(!a)return;const o=e.tryGetLock(a,s,{sourceEvent:n});if(!o)return;n.preventDefault();let i=!0;const l=o.snapLift();function s(){i||Ht(!1),i=!1,t.current(),r()}t.current(),t.current=Gt(window,function(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:r=>27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(no[r.keyCode]?r.preventDefault():Xa(r))},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Za,fn:n}]}(l,s),{capture:!0,passive:!1})}})),[e]),r=St((function(){t.current=Gt(window,[n],{passive:!1,capture:!0})}),[n]);La((function(){return r(),function(){t.current()}}),[r])},function(e){const t=(0,u.useRef)(ro),n=(0,u.useRef)(Vt),r=St((function(){return t.current}),[]),a=St((function(e){t.current=e}),[]),o=Ot((()=>({eventName:"touchstart",fn:function(t){if(t.defaultPrevented)return;const r=e.findClosestDraggableId(t);if(!r)return;const a=e.tryGetLock(r,l,{sourceEvent:t});if(!a)return;const o=t.touches[0],{clientX:i,clientY:s}=o,d={x:i,y:s};n.current(),p(a,d)}})),[e]),i=St((function(){n.current=Gt(window,[o],{capture:!0,passive:!1})}),[o]),l=St((()=>{const e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),a(ro),n.current(),i())}),[i,a]),s=St((()=>{const e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),d=St((function(){const e={capture:!0,passive:!1},t={cancel:s,completed:l,getPhase:r},a=Gt(window,function({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:t=>{const r=n();if("DRAGGING"!==r.type)return void e();r.hasMoved=!0;const{clientX:a,clientY:o}=t.touches[0],i={x:a,y:o};t.preventDefault(),r.actions.move(i)}},{eventName:"touchend",fn:r=>{const a=n();"DRAGGING"===a.type?(r.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()):e()}},{eventName:"touchcancel",fn:t=>{"DRAGGING"===n().type?(t.preventDefault(),e()):e()}},{eventName:"touchforcechange",fn:t=>{const r=n();"IDLE"===r.type&&Ht(!1);const a=t.touches[0];if(!a)return;if(!(a.force>=.15))return;const o=r.actions.shouldRespectForcePress();if("PENDING"!==r.type)return o?r.hasMoved?void t.preventDefault():void e():void t.preventDefault();o&&e()}},{eventName:Za,fn:e}]}(t),e),o=Gt(window,function({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:e=>{e.preventDefault()}},{eventName:"keydown",fn:n=>{"DRAGGING"===t().type?(27===n.keyCode&&n.preventDefault(),e()):e()}},{eventName:Za,fn:e}]}(t),e);n.current=function(){a(),o()}}),[s,r,l]),c=St((function(){const e=r();"PENDING"!==e.type&&Ht(!1);const t=e.actions.fluidLift(e.point);a({type:"DRAGGING",actions:t,hasMoved:!1})}),[r,a]),p=St((function(e,t){"IDLE"!==r().type&&Ht(!1);const n=setTimeout(c,120);a({type:"PENDING",point:t,actions:e,longPressTimerId:n}),d()}),[d,r,a,c]);La((function(){return i(),function(){n.current();const e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),a(ro))}}),[r,i,a]),La((function(){return Gt(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])}),[])}];function bo({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:a}){const o=[...a?go:[],...r||[]],i=(0,u.useState)((()=>function(){let e=null;function t(){e||Ht(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&Ht(!1);const n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()))[0],l=St((function(e,t){Ya(e)&&!Ya(t)&&i.tryAbandon()}),[i]);La((function(){let e=t.getState();return t.subscribe((()=>{const n=t.getState();l(e,n),e=n}))}),[i,t,l]),La((()=>i.tryAbandon),[i.tryAbandon]);const s=St((e=>fo({lockAPI:i,registry:n,store:t,draggableId:e})),[i,n,t]),d=St(((r,a,o)=>function({lockAPI:e,contextId:t,store:n,registry:r,draggableId:a,forceSensorStop:o,sourceEvent:i}){if(!fo({lockAPI:e,store:n,registry:r,draggableId:a}))return null;const l=r.draggable.getById(a),s=function(e,t){const n=`[${Ta.contextId}="${e}"]`,r=Fa(document,n).find((e=>e.getAttribute(Ta.id)===t));return r&&Ua(r)?r:null}(t,l.descriptor.id);if(!s)return null;if(i&&!l.options.canDragInteractiveElements&&io(s,i))return null;const d=e.claim(o||Vt);let c="PRE_DRAG";function u(){return l.options.shouldRespectForcePress}function p(){return e.isActive(d)}const m=function(e,t){mo({expected:e,phase:c,isLockActive:p,shouldWarn:!0})&&n.dispatch(t())}.bind(null,"DRAGGING");function f(t){function r(){e.release(),c="COMPLETED"}function a(e,a={shouldBlockNextClick:!1}){if(t.cleanup(),a.shouldBlockNextClick){const e=Gt(window,[{eventName:"click",fn:po,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(e)}r(),n.dispatch(Mr({reason:e}))}return"PRE_DRAG"!==c&&(r(),Ht(!1)),n.dispatch(Er(t.liftActionArgs)),c="DRAGGING",{isActive:()=>mo({expected:"DRAGGING",phase:c,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:u,drop:e=>a("DROP",e),cancel:e=>a("CANCEL",e),...t.actions}}return{isActive:()=>mo({expected:"PRE_DRAG",phase:c,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:u,fluidLift:function(e){const t=Ft((e=>{m((()=>Dr({client:e})))}));return{...f({liftActionArgs:{id:a,clientSelection:e,movementMode:"FLUID"},cleanup:()=>t.cancel(),actions:{move:t}}),move:t}},snapLift:function(){const e={moveUp:()=>m(Ar),moveRight:()=>m(Tr),moveDown:()=>m(xr),moveLeft:()=>m(Pr)};return f({liftActionArgs:{id:a,clientSelection:lo(s),movementMode:"SNAP"},cleanup:Vt,actions:e})},abort:function(){mo({expected:"PRE_DRAG",phase:c,isLockActive:p,shouldWarn:!0})&&e.release()}}}({lockAPI:i,registry:n,contextId:e,store:t,draggableId:r,forceSensorStop:a||null,sourceEvent:o&&o.sourceEvent?o.sourceEvent:null})),[e,i,n,t]),c=St((t=>function(e,t){const n=function(e,t){const n=t.target;if(!((r=n)instanceof ja(r).Element))return null;var r;const a=function(e){return`[${xa.contextId}="${e}"]`}(e),o=uo(n,a);return o&&Ua(o)?o:null}(e,t);return n?n.getAttribute(xa.draggableId):null}(e,t)),[e]),p=St((e=>{const t=n.draggable.findById(e);return t?t.options:null}),[n.draggable]),m=St((function(){i.isClaimed()&&(i.tryAbandon(),"IDLE"!==t.getState().phase&&t.dispatch(Rr()))}),[i,t]),f=St((()=>i.isClaimed()),[i]),g=Ot((()=>({canGetLock:s,tryGetLock:d,findClosestDraggableId:c,findOptionsForDraggable:p,tryReleaseLock:m,isLockClaimed:f})),[s,d,c,p,m,f]);for(let e=0;e<o.length;e++)o[e](g)}const ho=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};f().version.startsWith("16")||f().version.startsWith("17")?n():(0,ht.flushSync)(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),vo=e=>({...ma,...e.autoScrollerOptions,durationDampening:{...ma.durationDampening,...e.autoScrollerOptions}});function yo(e){return e.current||Ht(!1),e.current}function Eo(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:a,dragHandleUsageInstructions:o}=e,i=(0,u.useRef)(null),l=za(e),s=St((()=>ho(l.current)),[l]),d=St((()=>vo(l.current)),[l]),c=function(e){const t=Ot((()=>$a(e)),[e]),n=(0,u.useRef)(null);return(0,u.useEffect)((function(){const e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),(0,jt.A)(e.style,Wa),_a().appendChild(e),function(){setTimeout((function(){const t=_a();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]),St((e=>{const t=n.current;t&&(t.textContent=e)}),[])}(t),p=function({contextId:e,text:t}){const n=Ka("hidden-text",{separator:"-"}),r=Ot((()=>function({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}({contextId:e,uniqueId:n})),[n,e]);return(0,u.useEffect)((function(){const e=document.createElement("div");return e.id=r,e.textContent=t,e.style.display="none",_a().appendChild(e),function(){const t=_a();t.contains(e)&&t.removeChild(e)}}),[r,t]),r}({contextId:t,text:o}),m=function(e,t){const n=Ot((()=>Ma(e)),[e]),r=(0,u.useRef)(null),a=(0,u.useRef)(null),o=St(kt((e=>{const t=a.current;t||Ht(!1),t.textContent=e})),[]),i=St((e=>{const t=r.current;t||Ht(!1),t.textContent=e}),[]);La((()=>{(r.current||a.current)&&Ht(!1);const l=ka(t),s=ka(t);return r.current=l,a.current=s,l.setAttribute(`${Aa}-always`,e),s.setAttribute(`${Aa}-dynamic`,e),Ba().appendChild(l),Ba().appendChild(s),i(n.always),o(n.resting),()=>{const e=e=>{const t=e.current;t||Ht(!1),Ba().removeChild(t),e.current=null};e(r),e(a)}}),[t,i,o,n.always,n.resting,e]);const l=St((()=>o(n.dragging)),[o,n.dragging]),s=St((e=>{o("DROP"!==e?n.userCancel:n.dropAnimating)}),[o,n.dropAnimating,n.userCancel]),d=St((()=>{a.current&&o(n.resting)}),[o,n.resting]);return Ot((()=>({dragging:l,dropping:s,resting:d})),[l,s,d])}(t,a),g=St((e=>{yo(i).dispatch(e)}),[]),b=Ot((()=>(0,yt.bindActionCreators)({publishWhileDragging:Ir,updateDroppableScroll:Sr,updateDroppableIsEnabled:wr,updateDroppableIsCombineEnabled:Cr,collectionStarting:Or},g)),[g]),h=function(){const e=Ot(Va,[]);return(0,u.useEffect)((()=>function(){f().version.startsWith("16")||f().version.startsWith("17")?requestAnimationFrame(e.clean):e.clean()}),[e]),e}(),v=Ot((()=>da(h,b)),[h,b]),y=Ot((()=>Da({scrollWindow:ua,scrollDroppable:v.scrollDroppable,getAutoScrollerOptions:d,...(0,yt.bindActionCreators)({move:Dr},g)})),[v.scrollDroppable,g,d]),E=function(e){const t=(0,u.useRef)({}),n=(0,u.useRef)(null),r=(0,u.useRef)(null),a=(0,u.useRef)(!1),o=St((function(e,n){const r={id:e,focus:n};return t.current[e]=r,function(){const n=t.current;n[e]!==r&&delete n[e]}}),[]),i=St((function(t){const n=function(e,t){const n=`[${xa.contextId}="${e}"]`,r=Fa(document,n);if(!r.length)return null;const a=r.find((e=>e.getAttribute(xa.draggableId)===t));return a&&Ua(a)?a:null}(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),l=St((function(e,t){n.current===e&&(n.current=t)}),[]),s=St((function(){r.current||a.current&&(r.current=requestAnimationFrame((()=>{r.current=null;const e=n.current;e&&i(e)})))}),[i]),d=St((function(e){n.current=null;const t=document.activeElement;t&&t.getAttribute(xa.draggableId)===e&&(n.current=e)}),[]);return La((()=>(a.current=!0,function(){a.current=!1;const e=r.current;e&&cancelAnimationFrame(e)})),[]),Ot((()=>({register:o,tryRecordFocus:d,tryRestoreFocusRecorded:s,tryShiftRecord:l})),[o,d,s,l])}(t),I=Ot((()=>aa({announce:c,autoScroller:y,dimensionMarshal:v,focusMarshal:E,getResponders:s,styleMarshal:m})),[c,y,v,E,s,m]);i.current=I;const O=St((()=>{const e=yo(i);"IDLE"!==e.getState().phase&&e.dispatch(Rr())}),[]),S=St((()=>{const e=yo(i).getState();return"DROP_ANIMATING"===e.phase||"IDLE"!==e.phase&&e.isDragging}),[]);n(Ot((()=>({isDragging:S,tryAbort:O})),[S,O]));const w=St((e=>ca(yo(i).getState(),e)),[]),C=St((()=>ar(yo(i).getState())),[]),D=Ot((()=>({marshal:v,focus:E,contextId:t,canLift:w,isMovementAllowed:C,dragHandleUsageInstructionsId:p,registry:h})),[t,v,p,E,w,C,h]);return bo({contextId:t,store:I,registry:h,customSensors:r||null,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,u.useEffect)((()=>O),[O]),f().createElement(Qa.Provider,{value:D},f().createElement(Et.Provider,{context:Ga,store:I},e.children))}let Io=0;var Oo="useId"in f()?function(){return f().useId()}:function(){return Ot((()=>""+Io++),[])};function So(e){const t=Oo(),n=e.dragHandleUsageInstructions||Xt.dragHandleUsageInstructions;return f().createElement(qt,null,(r=>f().createElement(Eo,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children)))}const wo=5e3,Co=4500,Do=(e,t)=>t?Vr.drop(t.duration):e?Vr.snap:Vr.fluid,Ao=(e,t)=>{if(e)return t?Br:kr};var xo=f().createContext(null);function To(e){const t=(0,u.useContext)(e);return t||Ht(!1),t}function Po(e){e.preventDefault()}var Ro=(e,t)=>e===t,No=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};function Mo(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const Lo={mapped:{type:"SECONDARY",offset:Zt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Mo(null)}},Bo={dropAnimationFinished:()=>({type:"DROP_ANIMATION_FINISHED",payload:null})},ko=(0,Et.connect)((()=>{const e=function(){const e=kt(((e,t)=>({x:e,y:t}))),t=kt(((e,t,n=null,r=null,a=null)=>({isDragging:!0,isClone:t,isDropAnimating:Boolean(a),dropAnimation:a,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}))),n=kt(((e,n,r,a,o=null,i=null,l=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:o,combineWith:i,mode:n,offset:e,dimension:r,forceShouldAnimate:l,snapshot:t(n,a,o,i,null)}})));return(r,a)=>{if(Ya(r)){if(r.critical.draggable.id!==a.draggableId)return null;const t=r.current.client.offset,i=r.dimensions.draggables[a.draggableId],l=nr(r.impact),s=(o=r.impact).at&&"COMBINE"===o.at.type?o.at.combine.draggableId:null,d=r.forceShouldAnimate;return n(e(t.x,t.y),r.movementMode,i,a.isClone,l,s,d)}var o;if("DROP_ANIMATING"===r.phase){const e=r.completed;if(e.result.draggableId!==a.draggableId)return null;const n=a.isClone,o=r.dimensions.draggables[a.draggableId],i=e.result,l=i.mode,s=No(i),d=(e=>e.combine?e.combine.draggableId:null)(i),c={duration:r.dropDuration,curve:Lr,moveTo:r.newHomeClientOffset,opacity:d?Br:null,scale:d?Fr:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:o,dropping:c,draggingOver:s,combineWith:d,mode:l,forceShouldAnimate:null,snapshot:t(l,n,s,d,c)}}}return null}}(),t=function(){const e=kt(((e,t)=>({x:e,y:t}))),t=kt(Mo),n=kt(((e,n=null,r)=>({mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}))),r=e=>e?n(Zt,e,!0):null,a=(t,a,o,i)=>{const l=o.displaced.visible[t],s=Boolean(i.inVirtualList&&i.effected[t]),d=En(o),c=d&&d.draggableId===t?a:null;if(!l){if(!s)return r(c);if(o.displaced.invisible[t])return null;const a=rn(i.displacedBy.point),l=e(a.x,a.y);return n(l,c,!0)}if(s)return r(c);const u=o.displacedBy.point,p=e(u.x,u.y);return n(p,c,l.shouldAnimate)};return(e,t)=>{if(Ya(e))return e.critical.draggable.id===t.draggableId?null:a(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){const n=e.completed;return n.result.draggableId===t.draggableId?null:a(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return(n,r)=>e(n,r)||t(n,r)||Lo}),Bo,null,{context:Ga,areStatePropsEqual:Ro})((e=>{const t=(0,u.useRef)(null),n=St(((e=null)=>{t.current=e}),[]),r=St((()=>t.current),[]),{contextId:a,dragHandleUsageInstructionsId:o,registry:i}=To(Qa),{type:l,droppableId:s}=To(xo),d=Ot((()=>({id:e.draggableId,index:e.index,type:l,droppableId:s})),[e.draggableId,e.index,l,s]),{children:c,draggableId:p,isEnabled:m,shouldRespectForcePress:g,canDragInteractiveElements:b,isClone:h,mapped:v,dropAnimationFinished:y}=e;h||function(e){const t=Ka("draggable"),{descriptor:n,registry:r,getDraggableRef:a,canDragInteractiveElements:o,shouldRespectForcePress:i,isEnabled:l}=e,s=Ot((()=>({canDragInteractiveElements:o,shouldRespectForcePress:i,isEnabled:l})),[o,l,i]),d=St((e=>{const t=a();return t||Ht(!1),function(e,t,n=Zt){const r=window.getComputedStyle(t),a=t.getBoundingClientRect(),o=Nt(a,r),i=Rt(o,n);return{descriptor:e,placeholder:{client:o,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:o.marginBox.width,y:o.marginBox.height},client:o,page:i}}(n,t,e)}),[n,a]),c=Ot((()=>({uniqueId:t,descriptor:n,options:s,getDimension:d})),[n,d,s,t]),p=(0,u.useRef)(c),m=(0,u.useRef)(!0);La((()=>(r.draggable.register(p.current),()=>r.draggable.unregister(p.current))),[r.draggable]),La((()=>{if(m.current)return void(m.current=!1);const e=p.current;p.current=c,r.draggable.update(c,e)}),[c,r.draggable])}(Ot((()=>({descriptor:d,registry:i,getDraggableRef:r,canDragInteractiveElements:b,shouldRespectForcePress:g,isEnabled:m})),[d,i,r,b,g,m]));const E=Ot((()=>m?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":a,draggable:!1,onDragStart:Po}:null),[a,o,p,m]),I=St((e=>{"DRAGGING"===v.type&&v.dropping&&"transform"===e.propertyName&&(f().version.startsWith("16")||f().version.startsWith("17")?y():(0,ht.flushSync)(y))}),[y,v]),O=Ot((()=>{const e=function(e){return"DRAGGING"===e.type?function(e){const t=e.dimension.client,{offset:n,combineWith:r,dropping:a}=e,o=Boolean(r),i=(e=>null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode)(e),l=Boolean(a),s=l?Wr(n,o):_r(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:Do(i,a),transform:s,opacity:Ao(o,l),zIndex:l?Co:wo,pointerEvents:"none"}}(e):{transform:_r((t=e).offset),transition:t.shouldAnimateDisplacement?void 0:"none"};var t}(v),t="DRAGGING"===v.type&&v.dropping?I:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":a,"data-rfd-draggable-id":p,style:e,onTransitionEnd:t},dragHandleProps:E}}),[a,E,p,v,I,n]),S=Ot((()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}})),[d.droppableId,d.id,d.index,d.type]);return f().createElement(f().Fragment,null,c(O,v.snapshot,S))}));var Fo=ko;function jo(e){return To(xo).isUsingCloneFor!==e.draggableId||e.isClone?f().createElement(Fo,e):null}function Uo(e){const t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return f().createElement(jo,(0,jt.A)({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const Vo=e=>t=>e===t,Go=Vo("scroll"),_o=Vo("auto"),Wo=(Vo("visible"),(e,t)=>t(e.overflowX)||t(e.overflowY)),$o=e=>null==e||e===document.body||e===document.documentElement?null:(e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Wo(n,Go)||Wo(n,_o)})(e)?e:$o(e.parentElement);var Ho=$o,qo=e=>({x:e.scrollLeft,y:e.scrollTop});const Ko=e=>!!e&&("fixed"===window.getComputedStyle(e).position||Ko(e.parentElement));const Qo={passive:!1},zo={passive:!0};var Yo=e=>e.shouldPublishImmediately?Qo:zo;const Jo=e=>e&&e.env.closestScrollable||null;function Xo(e){const t=(0,u.useRef)(null),n=To(Qa),r=Ka("droppable"),{registry:a,marshal:o}=n,i=za(e),l=Ot((()=>({id:e.droppableId,type:e.type,mode:e.mode})),[e.droppableId,e.mode,e.type]),s=(0,u.useRef)(l),d=Ot((()=>kt(((e,n)=>{t.current||Ht(!1);const r={x:e,y:n};o.updateDroppableScroll(l.id,r)}))),[l.id,o]),c=St((()=>{const e=t.current;return e&&e.env.closestScrollable?qo(e.env.closestScrollable):Zt}),[]),p=St((()=>{const e=c();d(e.x,e.y)}),[c,d]),m=Ot((()=>Ft(p)),[p]),f=St((()=>{const e=t.current,n=Jo(e);e&&n||Ht(!1),e.scrollOptions.shouldPublishImmediately?p():m()}),[m,p]),g=St(((e,r)=>{t.current&&Ht(!1);const a=i.current,o=a.getDroppableRef();o||Ht(!1);const s=(e=>({closestScrollable:Ho(e),isFixedOnPage:Ko(e)}))(o),d={ref:o,descriptor:l,env:s,scrollOptions:r};t.current=d;const c=(({ref:e,descriptor:t,env:n,windowScroll:r,direction:a,isDropDisabled:o,isCombineEnabled:i,shouldClipSubject:l})=>{const s=n.closestScrollable,d=((e,t)=>{const n=Mt(e);if(!t)return n;if(e!==t)return n;const r=n.paddingBox.top-t.scrollTop,a=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,i=a+t.scrollWidth,l=Ct({top:r,right:i,bottom:o,left:a},n.border);return xt({borderBox:l,margin:n.margin,border:n.border,padding:n.padding})})(e,s),c=Rt(d,r),u=(()=>{if(!s)return null;const e=Mt(s),t={scrollHeight:s.scrollHeight,scrollWidth:s.scrollWidth};return{client:e,page:Rt(e,r),scroll:qo(s),scrollSize:t,shouldClipSubject:l}})(),p=(({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:a,client:o,page:i,closest:l})=>{const s=(()=>{if(!l)return null;const{scrollSize:e,client:t}=l,n=oa({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:Zt,displacement:Zt}}}})(),d="vertical"===a?Tn:Pn;return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:d,isEnabled:t,client:o,page:i,frame:s,subject:pn({page:i,withPlaceholder:null,axis:d,frame:s})}})({descriptor:t,isEnabled:!o,isCombineEnabled:i,isFixedOnPage:n.isFixedOnPage,direction:a,client:d,page:c,closest:u});return p})({ref:o,descriptor:l,env:s,windowScroll:e,direction:a.direction,isDropDisabled:a.isDropDisabled,isCombineEnabled:a.isCombineEnabled,shouldClipSubject:!a.ignoreContainerClipping}),u=s.closestScrollable;return u&&(u.setAttribute(Ra.contextId,n.contextId),u.addEventListener("scroll",f,Yo(d.scrollOptions))),c}),[n.contextId,l,f,i]),b=St((()=>{const e=t.current,n=Jo(e);return e&&n||Ht(!1),qo(n)}),[]),h=St((()=>{const e=t.current;e||Ht(!1);const n=Jo(e);t.current=null,n&&(m.cancel(),n.removeAttribute(Ra.contextId),n.removeEventListener("scroll",f,Yo(e.scrollOptions)))}),[f,m]),v=St((e=>{const n=t.current;n||Ht(!1);const r=Jo(n);r||Ht(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),y=Ot((()=>({getDimensionAndWatchScroll:g,getScrollWhileDragging:b,dragStopped:h,scroll:v})),[h,g,b,v]),E=Ot((()=>({uniqueId:r,descriptor:l,callbacks:y})),[y,l,r]);La((()=>(s.current=E.descriptor,a.droppable.register(E),()=>{t.current&&h(),a.droppable.unregister(E)})),[y,l,h,E,o,a.droppable]),La((()=>{t.current&&o.updateDroppableIsEnabled(s.current.id,!e.isDropDisabled)}),[e.isDropDisabled,o]),La((()=>{t.current&&o.updateDroppableIsCombineEnabled(s.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,o])}function Zo(){}const ei={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}};var ti=f().memo((e=>{const t=(0,u.useRef)(null),n=St((()=>{t.current&&(clearTimeout(t.current),t.current=null)}),[]),{animate:r,onTransitionEnd:a,onClose:o,contextId:i}=e,[l,s]=(0,u.useState)("open"===e.animate);(0,u.useEffect)((()=>l?"open"!==r?(n(),s(!1),Zo):t.current?Zo:(t.current=setTimeout((()=>{t.current=null,s(!1)})),n):Zo),[r,l,n]);const d=St((e=>{"height"===e.propertyName&&(a(),"close"===r&&o())}),[r,o,a]),c=(({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=(({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||"close"===n?ei:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin})({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==n?Vr.placeholder:null}})({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return f().createElement(e.placeholder.tagName,{style:c,"data-rfd-placeholder-context-id":i,onTransitionEnd:d,ref:e.innerRef})}));class ni extends f().PureComponent{constructor(...e){super(...e),this.state={isVisible:Boolean(this.props.on),data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{"close"===this.state.animate&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const ri={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||Ht(!1),document.body}},ai=e=>{let t,n={...e};for(t in ri)void 0===e[t]&&(n={...n,[t]:ri[t]});return n},oi=(e,t)=>e===t.droppable.type,ii=(e,t)=>t.draggables[e.draggable.id];var li=(0,Et.connect)((()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=kt((e=>({draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}))),r=kt(((r,a,o,i,l,s)=>{const d=l.descriptor.id;if(l.descriptor.droppableId===r){const e=s?{render:s,dragging:n(l.descriptor)}:null,t={isDraggingOver:o,draggingOverWith:o?d:null,draggingFromThisWith:d,isUsingPlaceholder:!0};return{placeholder:l.placeholder,shouldAnimatePlaceholder:!1,snapshot:t,useClone:e}}if(!a)return t;if(!i)return e;const c={isDraggingOver:o,draggingOverWith:d,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:l.placeholder,shouldAnimatePlaceholder:!0,snapshot:c,useClone:null}}));return(n,a)=>{const o=ai(a),i=o.droppableId,l=o.type,s=!o.isDropDisabled,d=o.renderClone;if(Ya(n)){const e=n.critical;if(!oi(l,e))return t;const a=ii(e,n.dimensions),o=nr(n.impact)===i;return r(i,s,o,o,a,d)}if("DROP_ANIMATING"===n.phase){const e=n.completed;if(!oi(l,e.critical))return t;const a=ii(e.critical,n.dimensions);return r(i,s,No(e.result)===i,nr(e.impact)===i,a,d)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){const r=n.completed;if(!oi(l,r.critical))return t;const a=nr(r.impact)===i,o=Boolean(r.impact.at&&"COMBINE"===r.impact.at.type),s=r.critical.droppable.id===i;return a?o?e:t:s?e:t}return t}}),{updateViewportMaxScroll:e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e})},((e,t,n)=>({...ai(n),...e,...t})),{context:Ga,areStatePropsEqual:Ro})((e=>{const t=(0,u.useContext)(Qa);t||Ht(!1);const{contextId:n,isMovementAllowed:r}=t,a=(0,u.useRef)(null),o=(0,u.useRef)(null),{children:i,droppableId:l,type:s,mode:d,direction:c,ignoreContainerClipping:p,isDropDisabled:m,isCombineEnabled:g,snapshot:b,useClone:h,updateViewportMaxScroll:v,getContainerForClone:y}=e,E=St((()=>a.current),[]),I=St(((e=null)=>{a.current=e}),[]),O=(St((()=>o.current),[]),St(((e=null)=>{o.current=e}),[])),S=St((()=>{r()&&v({maxScroll:la()})}),[r,v]);Xo({droppableId:l,type:s,mode:d,direction:c,isDropDisabled:m,isCombineEnabled:g,ignoreContainerClipping:p,getDroppableRef:E});const w=Ot((()=>f().createElement(ni,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(({onClose:e,data:t,animate:r})=>f().createElement(ti,{placeholder:t,onClose:e,innerRef:O,animate:r,contextId:n,onTransitionEnd:S})))),[n,S,e.placeholder,e.shouldAnimatePlaceholder,O]),C=Ot((()=>({innerRef:I,placeholder:w,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}})),[n,l,w,I]),D=h?h.dragging.draggableId:null,A=Ot((()=>({droppableId:l,type:s,isUsingCloneFor:D})),[l,D,s]);return f().createElement(xo.Provider,{value:A},i(C,b),function(){if(!h)return null;const{dragging:e,render:t}=h,n=f().createElement(jo,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},((n,r)=>t(n,r,e)));return vt().createPortal(n,y())}())})),si=p(89);const di=e=>({content:si.css`
      border: 1px solid ${e.colors.border.weak};
      padding: ${e.spacing(1)};
    `,item:si.css`
      margin-bottom: ${e.spacing(1)};
    `,dragHandle:si.css`
      display: flex;
      margin: ${e.spacing(0,.5)};
    `,dragIcon:si.css`
      cursor: grab;
      color: ${e.colors.text.disabled};
      &:hover {
        color: ${e.colors.text};
      }
    `,removeButton:si.css`
      margin-left: ${e.spacing(1)};
      color: ${e.colors.text.secondary};
    `});function ci(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ui(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ci(e,t,n[t])}))}return e}function pi(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const mi=({options:e=[],onChange:t,onChangeItem:n})=>{const r=(0,d.useStyles2)(di),[a,o]=(0,u.useState)({}),i=(0,u.useCallback)((n=>{n.destination&&t(_e(e,n.source.index,n.destination.index))}),[e,t]),l=(0,u.useCallback)((e=>{o((t=>pi(ui({},t),{[e]:!t[e]})))}),[]);return f().createElement(f().Fragment,null,f().createElement(d.Label,null,"Options"),f().createElement("div",{className:r.content},f().createElement(So,{onDragEnd:i},f().createElement(li,{droppableId:"options"},(o=>f().createElement("div",pi(ui({},o.droppableProps),{ref:o.innerRef}),e.map(((o,i)=>{const s=!a[o.id];return f().createElement(Uo,{key:o.id,draggableId:o.id,index:i},((a,i)=>{return f().createElement("div",pi(ui({},a.draggableProps),{ref:a.innerRef,style:(i.isDragging,c=a.draggableProps.style,ui({},c)),className:r.item}),f().createElement(y.SD,{fill:"solid",headerTestId:B.formElementsEditor.optionLabel(o.id),contentTestId:B.formElementsEditor.optionContent(o.id),isOpen:s,onToggle:()=>l(o.id),title:f().createElement(f().Fragment,null,o.label," [",o.id,"]"),actions:f().createElement(f().Fragment,null,f().createElement(d.IconButton,{name:"trash-alt",variant:"secondary",size:"sm",className:r.removeButton,"data-testid":B.formElementsEditor.buttonRemoveOption,onClick:()=>t(null==e?void 0:e.filter((e=>e.id!==o.id))),"aria-label":"Remove"}),f().createElement("div",ui({className:r.dragHandle},a.dragHandleProps),f().createElement(d.Icon,{title:"Drag and drop to reorder",name:"draggabledots",size:"lg",className:r.dragIcon})))},f().createElement(f().Fragment,null,f().createElement(d.InlineFieldRow,null,f().createElement(d.InlineField,{label:"Type",labelWidth:6},f().createElement(d.Select,{options:U,onChange:e=>{const t=(null==e?void 0:e.value)===k.NUMBER?Number(o.value)||0:String(o.value);n(pi(ui({},o),{value:t,id:t.toString(),type:null==e?void 0:e.value}),o)},width:12,value:o.type,"aria-label":B.formElementsEditor.fieldOptionType})),f().createElement(d.InlineField,{label:"Value",labelWidth:6,grow:!0},f().createElement(d.Input,{placeholder:o.type===k.NUMBER?"number":"string",type:o.type===k.NUMBER?"number":void 0,onChange:e=>{n(pi(ui({},o),{value:o.type===k.NUMBER?Number(e.target.value):e.target.value}),o,!0)},onBlur:()=>{var e;const t=(null===(e=o.value)||void 0===e?void 0:e.toString())||ae.id;n(pi(ui({},o),{id:t}),o)},value:o.value,"data-testid":B.formElementsEditor.fieldOptionValue}))),f().createElement(d.InlineFieldRow,null,f().createElement(d.InlineField,{label:"Icon",labelWidth:6},f().createElement(d.Select,{onChange:e=>{n(pi(ui({},o),{icon:null==e?void 0:e.value}))},options:_,isClearable:!0,value:o.icon,width:12,"aria-label":B.formElementsEditor.fieldOptionIcon})),f().createElement(d.InlineField,{label:"Label",labelWidth:6,grow:!0,shrink:!0},f().createElement(d.Input,{placeholder:"label",onChange:e=>{n(pi(ui({},o),{label:e.target.value}))},value:o.label,"data-testid":B.formElementsEditor.fieldOptionLabel}))))));var c}))})),o.placeholder)))),f().createElement(d.Button,{variant:"secondary",onClick:()=>{const n=ui({},ae);t(e.concat(n))},icon:"plus","data-testid":B.formElementsEditor.buttonAddOption,size:"sm",disabled:e.some((e=>e.id===ae.id))},"Add Option")))};function fi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){fi(e,t,n[t])}))}return e}function bi(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const hi=({value:e,onChange:t,data:n})=>{const r=(0,u.useMemo)((()=>{const t=null==e?void 0:e.source,r=n.reduce(((e,t)=>e.concat(t.fields.map((e=>({value:`${t.refId}:${e.name}`,fieldName:e.name,label:`${t.refId}:${e.name}`,source:t.refId}))))),[]);if(t){const e=n.find((e=>e.refId===t));return{valueOptions:r,labelOptions:null==e?void 0:e.fields.map((({name:t})=>({label:`${e.refId}:${t}`,source:e.refId,value:t,fieldName:t})))}}return{valueOptions:r,labelOptions:[]}}),[n,null==e?void 0:e.source]);return f().createElement(f().Fragment,null,f().createElement(d.InlineFieldRow,null,f().createElement(d.InlineField,{label:"Value Field",grow:!0},f().createElement(d.Select,{options:r.valueOptions,value:`${null==e?void 0:e.source}:${null==e?void 0:e.value}`,onChange:n=>t(bi(gi({},e),{source:n.source,value:n.fieldName,label:(null==e?void 0:e.source)!==n.source?null:(null==e?void 0:e.label)||null})),"aria-label":B.formElementsEditor.fieldQueryOptionsValue}))),(null==e?void 0:e.value)&&f().createElement(d.InlineFieldRow,null,f().createElement(d.InlineField,{label:"Label Field",grow:!0},f().createElement(d.Select,{options:r.labelOptions,value:e.label,onChange:n=>t(bi(gi({},e),{label:n.fieldName})),"aria-label":B.formElementsEditor.fieldQueryOptionsLabel}))))},vi=e=>({optionsContainer:si.css`
      margin: ${e.spacing(1,0)};
    `});function yi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){yi(e,t,n[t])}))}return e}function Ii(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Oi=({element:e,onChange:t,onChangeOption:n,layoutSectionOptions:a,initialMethod:o,isQueryFieldsEnabled:i,queryFields:l,data:s})=>{var c;const u=(0,d.useStyles2)(vi);var p;return f().createElement(f().Fragment,null,f().createElement(d.InlineFieldRow,null,f().createElement(d.InlineField,{label:"Id",grow:!0,labelWidth:8,invalid:""===e.id},f().createElement(d.Input,{placeholder:"Id",onChange:n=>{t(Ii(Ei({},e),{id:n.target.value}),!0)},value:e.id,"data-testid":B.formElementsEditor.fieldId})),e.type===k.STRING&&f().createElement(d.InlineField,{"data-testid":B.formElementsEditor.fieldVisibility},f().createElement(d.RadioButtonGroup,{options:V,value:!!e.hidden,onChange:n=>{t(Ii(Ei({},e),{hidden:n}))}}))),f().createElement(d.InlineFieldRow,null,f().createElement(d.InlineField,{label:"Type",grow:!0,labelWidth:8},f().createElement(d.Select,{options:F,onChange:n=>{t(We(e,null==n?void 0:n.value),!0)},value:F.find((t=>t.value===e.type)),"aria-label":B.formElementsEditor.fieldType})),f().createElement(d.InlineField,{label:"Width",labelWidth:12,tooltip:"Element will grow to max length if not specified. Some elements does not support adjusting width."},f().createElement(d.Input,{placeholder:"auto",onChange:n=>{t(Ii(Ei({},e),{width:He(n.target.value)}))},value:qe(e.width),min:0,type:"number","data-testid":B.formElementsEditor.fieldWidth}))),f().createElement(d.InlineFieldRow,null,f().createElement(d.InlineField,{label:"Label",grow:!0,labelWidth:8,invalid:""===e.title},f().createElement(d.Input,{placeholder:"Label",onChange:n=>{t(Ii(Ei({},e),{title:n.target.value}))},value:e.title,"data-testid":B.formElementsEditor.fieldLabel})),f().createElement(d.InlineField,{label:"Label Width",labelWidth:12},f().createElement(d.Input,{placeholder:"auto",onChange:n=>{t(Ii(Ei({},e),{labelWidth:He(n.target.value)}))},value:qe(e.labelWidth),type:"number","data-testid":B.formElementsEditor.fieldLabelWidth}))),f().createElement(d.InlineFieldRow,null,f().createElement(d.InlineField,{label:"Tooltip",grow:!0,labelWidth:8},f().createElement(d.Input,{placeholder:"Tooltip",onChange:n=>{t(Ii(Ei({},e),{tooltip:n.target.value}))},value:e.tooltip,"data-testid":B.formElementsEditor.fieldTooltip})),f().createElement(d.InlineField,{label:"Unit",labelWidth:12},f().createElement(d.Input,{placeholder:"Unit",onChange:n=>{t(Ii(Ei({},e),{unit:n.target.value}))},value:e.unit,"data-testid":B.formElementsEditor.fieldUnit}))),a.length>0&&f().createElement(d.InlineFieldRow,null,f().createElement(d.InlineField,{label:"Section",grow:!0,labelWidth:8},f().createElement(d.Select,{options:a,onChange:n=>{t(Ii(Ei({},e),{section:null==n?void 0:n.value}))},value:a.find((t=>t.value===e.section)),"aria-label":B.formElementsEditor.fieldSection}))),e.type===k.SLIDER&&f().createElement(d.InlineFieldRow,null,f().createElement(d.InlineField,{label:"Min",labelWidth:8},f().createElement(d.Input,{placeholder:"Min",onChange:n=>{t(Ii(Ei({},e),{min:Number(n.target.value)}))},type:"number",width:10,value:e.min,"data-testid":B.formElementsEditor.fieldSliderMin})),f().createElement(d.InlineField,{label:"Max",labelWidth:8},f().createElement(d.Input,{placeholder:"Max",onChange:n=>{t(Ii(Ei({},e),{max:Number(n.target.value)}))},type:"number",width:10,value:e.max,"data-testid":B.formElementsEditor.fieldSliderMax})),f().createElement(d.InlineField,{label:"Step",labelWidth:8},f().createElement(d.Input,{placeholder:"Step",onChange:n=>{t(Ii(Ei({},e),{step:Number(n.target.value)}))},type:"number",width:10,value:e.step,"data-testid":B.formElementsEditor.fieldSliderStep}))),e.type===k.NUMBER&&f().createElement(d.InlineFieldRow,null,f().createElement(d.InlineField,{label:"Min",labelWidth:8},f().createElement(d.Input,{placeholder:"Min",onChange:n=>{t(Ii(Ei({},e),{min:n.target.value?Number(n.target.value):void 0}))},type:"number",width:10,value:qe(e.min),"data-testid":B.formElementsEditor.fieldNumberMin})),f().createElement(d.InlineField,{label:"Max",labelWidth:8},f().createElement(d.Input,{placeholder:"Max",onChange:n=>{t(Ii(Ei({},e),{max:n.target.value?Number(n.target.value):void 0}))},type:"number",width:10,value:qe(e.max),"data-testid":B.formElementsEditor.fieldNumberMax}))),e.type===k.DATETIME&&f().createElement(f().Fragment,null,f().createElement(bt,{label:"Min",onChange:n=>t(Ii(Ei({},e),{min:n})),value:e.min,"data-testid":B.formElementsEditor.fieldMinDate}),f().createElement(bt,{label:"Max",onChange:n=>t(Ii(Ei({},e),{max:n})),value:e.max,"data-testid":B.formElementsEditor.fieldMaxDate})),(e.type===k.TEXTAREA||e.type===k.DISABLED_TEXTAREA)&&f().createElement(d.InlineFieldRow,null,f().createElement(d.InlineField,{label:"Rows",labelWidth:8},f().createElement(d.Input,{placeholder:"Rows",onChange:n=>{t(Ii(Ei({},e),{rows:Number(n.target.value)}))},type:"number",width:10,value:e.rows,min:2,"data-testid":B.formElementsEditor.fieldTextareaRows}))),e.type===k.CODE&&f().createElement(d.InlineFieldRow,null,f().createElement(d.InlineField,{label:"Language",grow:!0,labelWidth:10},f().createElement(d.Select,{options:x,onChange:n=>{t(Ii(Ei({},e),{language:null==n?void 0:n.value}))},value:x.find((t=>t.value===e.language)),"aria-label":B.formElementsEditor.fieldCodeLanguage})),f().createElement(d.InlineField,{label:"Height",labelWidth:12,tooltip:"Code Editor height in px"},f().createElement(d.Input,{placeholder:"Height",onChange:n=>{t(Ii(Ei({},e),{height:Number(n.target.value)}))},type:"number",value:e.height,min:0,"data-testid":B.formElementsEditor.fieldCodeHeight}))),o===ue.DATASOURCE&&f().createElement(d.InlineFieldRow,null,f().createElement(d.InlineField,{grow:!0,label:"Field Name",labelWidth:14,tooltip:"Specify a field name from the Data Source response"},f().createElement(d.Input,{value:e.fieldName||"",onChange:n=>{t(Ii(Ei({},e),{fieldName:n.target.value}))},"data-testid":B.formElementsEditor.fieldNamePicker}))),i&&f().createElement(d.InlineFieldRow,null,f().createElement(d.InlineField,{grow:!0,label:"Query Field",labelWidth:14,tooltip:"Specify a field name from the Query"},f().createElement(d.Select,{value:null===(c=e.queryField)||void 0===c?void 0:c.value,options:l,onChange:n=>{t(Ii(Ei({},e),{queryField:n}))},"aria-label":B.formElementsEditor.fieldFromQueryPicker,isClearable:!0}))),e.type===k.FILE&&f().createElement(d.InlineFieldRow,null,f().createElement(d.InlineField,{grow:!0,label:"Accept",labelWidth:10,tooltip:"Specify comma-separated file extensions or keep blank to allow any file"},f().createElement(d.Input,{value:e.accept||"",onChange:n=>{t(Ii(Ei({},e),{accept:n.target.value}))},"data-testid":B.formElementsEditor.fieldAccept})),f().createElement(d.InlineField,{label:"Multiple",labelWidth:12,tooltip:"Allows to select multiple files"},f().createElement(d.RadioButtonGroup,{options:ut(ce,B.formElementsEditor.fileMultipleOption),value:null!==(p=e.multiple)&&void 0!==p&&p,onChange:n=>{t(Ii(Ei({},e),{multiple:n}))}}))),Ze(e,k.LINK)&&f().createElement(d.InlineFieldRow,null,f().createElement(d.InlineField,{grow:!0,label:"Link Text",labelWidth:14},f().createElement(d.Input,{value:e.linkText,onChange:n=>{t(Ii(Ei({},e),{linkText:n.currentTarget.value}))},placeholder:"Link address will be used","data-testid":B.formElementsEditor.fieldLinkText})),f().createElement(d.InlineField,{grow:!0,label:"Open in",labelWidth:14},f().createElement(d.RadioButtonGroup,{value:e.target,onChange:n=>{t(Ii(Ei({},e),{target:n}))},options:H}))),(e.type===k.RADIO||e.type===k.SELECT||e.type===k.MULTISELECT||e.type===k.DISABLED)&&f().createElement(f().Fragment,null,f().createElement(d.InlineFieldRow,null,f().createElement(d.InlineField,{label:"Options Source",labelWidth:14},f().createElement(d.RadioButtonGroup,{options:$,value:e.optionsSource||W.CUSTOM,onChange:n=>{t(Ii(Ei({},e),{optionsSource:n}))}}))),e.optionsSource===W.QUERY&&f().createElement(hi,{value:e.queryOptions,onChange:n=>{t(Ii(Ei({},e),{queryOptions:n}))},data:s}),e.optionsSource===W.CODE&&f().createElement(d.Field,{label:"Get Options Code",description:"Must return array with {label,value} objects"},f().createElement(Se,{value:e.getOptions||"",language:r.JAVASCRIPT,onBlur:n=>{t(Ii(Ei({},e),{getOptions:n}))},monacoOptions:{formatOnPaste:!0,formatOnType:!0},showLineNumbers:!0,"aria-label":B.formElementsEditor.fieldGetOptions,getSuggestions:()=>P.elementGetOptions})),(e.optionsSource===W.CUSTOM||!e.optionsSource)&&f().createElement("div",{className:u.optionsContainer,"data-testid":B.formElementsEditor.options},f().createElement(mi,{options:e.options,onChange:n=>t(Ii(Ei({},e),{options:n})),onChangeItem:(t,r,a)=>n(e,t,r,a)}))),f().createElement(d.Field,{label:"Show if returned value is true"},f().createElement(Se,{value:e.showIf||"",language:r.JAVASCRIPT,onBlur:n=>{t(Ii(Ei({},e),{showIf:n}))},monacoOptions:{formatOnPaste:!0,formatOnType:!0},showLineNumbers:!0,"aria-label":B.formElementsEditor.fieldShowIf,getSuggestions:()=>P.elementShowIf})),e.type!==k.DISABLED_TEXTAREA&&e.type!==k.DISABLED&&e.type!==k.LINK&&f().createElement(d.Field,{label:"Disable if returned value is true"},f().createElement(Se,{value:e.disableIf||"",language:r.JAVASCRIPT,onBlur:n=>{t(Ii(Ei({},e),{disableIf:n}))},monacoOptions:{formatOnPaste:!0,formatOnType:!0},showLineNumbers:!0,"aria-label":B.formElementsEditor.fieldDisableIf,getSuggestions:()=>P.elementDisableIf})))};var Si=p(339);const wi=e=>({slider:si.css`
      .rc-slider {
        margin: 10px 0 0 0;
      }
      .rc-slider-mark-text {
        color: ${e.colors.text.disabled};
        font-size: ${e.typography.bodySmall.fontSize};
      }
      .rc-slider-mark-text-active {
        color: ${e.colors.text.primary};
      }
      .rc-slider-handle {
        border: none;
        background-color: ${e.colors.primary.main};
        box-shadow: ${e.shadows.z1};
        cursor: pointer;
      }
      .rc-slider-handle:hover,
      .rc-slider-handle:active,
      .rc-slider-handle:focus,
      .rc-slider-handle-click-focused:focus,
      .rc-slider-dot-active {
        ${`box-shadow: 0px 0px 0px 6px ${e.colors.primary.transparent}`};
      }
      .rc-slider-track {
        background-color: ${e.colors.primary.main};
      }
      .rc-slider-rail {
        background-color: ${e.colors.border.strong};
        cursor: pointer;
      }
    `,sliderInput:si.css`
      margin-left: 15px;
    `,hidden:si.css`
      display: none;
    `,link:si.css`
      min-height: ${e.spacing(4)};
      display: flex;
      align-items: center;
    `});function Ci(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Di(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ci(e,t,n[t])}))}return e}function Ai(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const xi=({element:e,onChange:t,highlightClass:n})=>{var a,i,l,c,u;const p=(0,d.useTheme2)(),m=(0,d.useStyles2)(wi);return f().createElement(d.InlineFieldRow,{"data-testid":B.formElements.element(e.id,e.type)},e.type===k.NUMBER&&f().createElement(d.InlineField,{label:e.title,grow:!e.width,labelWidth:Ke(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,disabled:e.disabled},f().createElement(y.Q7,{value:qe(e.value),onChange:n=>{t(Ai(Di({},e),{value:n}))},type:"number",className:n(e),width:Ke(e.width),min:e.min,max:e.max,"data-testid":B.formElements.fieldNumber})),e.type===k.STRING&&f().createElement(d.InlineField,{label:e.title,grow:!e.width,labelWidth:Ke(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,className:(0,si.cx)({[m.hidden]:e.hidden}),disabled:e.disabled},f().createElement(d.Input,{value:e.value||"",onChange:n=>{t(Ai(Di({},e),{value:n.target.value}))},className:n(e),width:Ke(e.width),type:"text","data-testid":B.formElements.fieldString})),Ze(e,k.PASSWORD)&&f().createElement(d.InlineField,{label:e.title,grow:!e.width,labelWidth:Ke(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,disabled:e.disabled},f().createElement(d.Input,{value:e.value||"",onChange:n=>{t(Ai(Di({},e),{value:n.target.value}))},className:n(e),width:Ke(e.width),type:"password","data-testid":B.formElements.fieldPassword})),Ze(e,k.DISABLED)&&f().createElement(d.InlineField,{label:e.title,grow:!e.width,labelWidth:Ke(e.labelWidth),tooltip:e.tooltip,disabled:!0,transparent:!e.title},f().createElement(d.Input,{value:(null===(a=e.options)||void 0===a?void 0:a.length)?null===(c=e.options)||void 0===c||null===(l=c.find((t=>t.value===e.value)))||void 0===l?void 0:l.label:(null===(i=e.value)||void 0===i?void 0:i.toString())||"",type:"text",width:Ke(e.width),"data-testid":B.formElements.fieldDisabled})),Ze(e,k.TEXTAREA)&&f().createElement(d.InlineField,{label:e.title,grow:!e.width,labelWidth:Ke(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,disabled:e.disabled},f().createElement(d.TextArea,{value:e.value,onChange:n=>{t(Ai(Di({},e),{value:n.target.value}))},className:n(e),cols:Ke(e.width),rows:e.rows,"data-testid":B.formElements.fieldTextarea})),Ze(e,k.DISABLED_TEXTAREA)&&f().createElement(d.InlineField,{label:e.title,grow:!e.width,labelWidth:Ke(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,disabled:e.type===k.DISABLED_TEXTAREA},f().createElement(d.TextArea,{value:e.value,className:n(e),cols:Ke(e.width),rows:e.rows,"data-testid":B.formElements.fieldDisabledTextarea})),Ze(e,k.CODE)&&f().createElement(d.InlineField,{label:e.title,grow:!e.width,labelWidth:Ke(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,disabled:e.disabled},f().createElement(Se,{language:e.language||r.JAVASCRIPT,showLineNumbers:!0,showMiniMap:((null===(u=e.value)||void 0===u?void 0:u.length)||0)>100,value:e.value||"",height:e.height,width:Ke(e.width),onBlur:n=>{t(Ai(Di({},e),{value:n}))},monacoOptions:{formatOnPaste:!0,formatOnType:!0},"aria-label":B.formElements.fieldCode,readOnly:e.disabled})),Ze(e,k.BOOLEAN)&&f().createElement(d.InlineField,{label:e.title,grow:!e.width,labelWidth:Ke(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,"data-testid":B.formElements.fieldBooleanContainer,disabled:e.disabled},f().createElement(d.RadioButtonGroup,{value:e.value,onChange:n=>{t(Ai(Di({},e),{value:n}))},className:n(e),fullWidth:!e.width,options:j})),e.type===k.DATETIME&&f().createElement(d.InlineField,{label:e.title,grow:!e.width,labelWidth:Ke(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,disabled:e.disabled},e.disabled?f().createElement(d.DatePickerWithInput,{onChange:void 0,value:e.value,"data-testid":B.formElements.fieldDateTime}):f().createElement(d.DateTimePicker,{minDate:e.min?new Date(e.min):void 0,maxDate:e.max?new Date(e.max):void 0,date:(0,s.dateTime)(e.value),onChange:n=>{t(Ai(Di({},e),{value:n.toISOString()}))},"data-testid":B.formElements.fieldDateTime})),e.type===k.SLIDER&&null!=e.value&&f().createElement(f().Fragment,null,f().createElement(d.InlineField,{label:e.title,grow:!e.width,labelWidth:Ke(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,className:(0,si.cx)(m.slider),disabled:e.disabled},f().createElement(Si.default,{value:e.value||0,onChange:n=>{t(Ai(Di({},e),{value:Array.isArray(n)?n[n.length-1]:n}))},min:e.min||0,max:e.max||0,step:e.step||0,ariaLabelForHandle:B.formElements.fieldSlider})),f().createElement(d.InlineField,{className:(0,si.cx)(m.sliderInput),disabled:e.disabled},f().createElement(d.Input,{type:"number",width:8,min:e.min||0,max:e.max||0,value:e.value||0,onChange:n=>{t(Ai(Di({},e),{value:Math.max(e.min||0,Math.min(e.max||0,Number(n.currentTarget.value)))}))},"data-testid":B.formElements.fieldSliderInput}))),e.type===k.RADIO&&f().createElement(d.InlineField,{label:e.title,grow:!e.width,labelWidth:Ke(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,"data-testid":B.formElements.fieldRadioContainer,disabled:e.disabled},f().createElement(d.RadioButtonGroup,{value:e.value,onChange:n=>{t(Ai(Di({},e),{value:n}))},fullWidth:!e.width,options:e.options,className:n(e)})),(e.type===k.SELECT||e.type===k.MULTISELECT)&&f().createElement(d.InlineField,{label:e.title,grow:!e.width,labelWidth:Ke(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,disabled:e.disabled},f().createElement(d.Select,{isMulti:e.type===k.MULTISELECT,"aria-label":B.formElements.fieldSelect,value:void 0!==e.value?e.value:null,onChange:n=>{t(Ai(Di({},e),{value:Array.isArray(n)?n.map((({value:e})=>e)):n.value}))},width:Ke(e.width),options:e.options,className:n(e)})),e.type===k.FILE&&f().createElement(d.InlineField,{label:e.title,grow:!e.width,labelWidth:Ke(e.labelWidth),tooltip:e.tooltip,transparent:!e.title,disabled:e.disabled},f().createElement(d.FileDropzone,{options:{accept:e.accept||void 0,multiple:e.multiple,onDrop:n=>{t(Ai(Di({},e),{value:n}))}},onFileRemove:n=>{var r;t(Ai(Di({},e),{value:(null===(r=e.value)||void 0===r?void 0:r.filter((e=>e.name!==n.file.name)))||[]}))},"data-testid":B.formElements.fieldFile})),e.type===k.LINK&&f().createElement(d.InlineField,{label:e.title,grow:!e.width,labelWidth:Ke(e.labelWidth),tooltip:e.tooltip,transparent:!e.title},f().createElement("div",{className:m.link,style:{width:e.width?p.spacing(e.width):"auto"}},f().createElement(d.TextLink,{href:e.value,external:e.target===o.NEW_TAB,"data-testid":B.formElements.link},e.linkText||e.value))),e.unit&&f().createElement(d.InlineLabel,{"data-testid":B.formElements.unit,transparent:!0,width:4},e.unit))};function Ti(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Pi=({options:e,elements:t,onChangeElement:n,section:r,initial:a,replaceVariables:o,data:i})=>{const l=(0,d.useTheme2)(),s=l.visualization.getColorByName(e.initial.highlightColor||"red"),c=(0,u.useCallback)((t=>e.initial.highlight&&Object.keys(a).length&&a[t.id]!==t.value?si.css`
            -webkit-text-fill-color: ${s};
          `:si.css`
            -webkit-text-fill-color: ${l.colors.text.primary};
          `),[s,a,e.initial.highlight,l.colors.text.primary]),p=(0,u.useMemo)((()=>t.filter((e=>e.helpers.showIf({elements:t,replaceVariables:o}))).map((e=>{return n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ti(e,t,n[t])}))}return e}({},e),r=null!=(r={disabled:e.helpers.disableIf({elements:t,replaceVariables:o}),options:e.helpers.getOptions({elements:t,replaceVariables:o,data:i})})?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))})),n;var n,r}))),[i,t,o]);return f().createElement("div",{"data-testid":B.formElements.root},p.map(((e,t)=>{if(!r||e.section===r.id)return f().createElement(xi,{key:t,element:e,onChange:n,highlightClass:c})})))};function Ri(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ni(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ri(e,t,n[t])}))}return e}function Mi(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Li=({onSave:e,elements:t})=>{const[n,r]=(0,u.useState)(re),[a,o]=(0,u.useState)(null),i=(0,u.useCallback)((e=>{r(e),o(null)}),[]),l=(0,u.useCallback)((()=>{$e(t,n)?o("Element with the same Id and Type already exists"):(e(We(Ye(n),n.type)),r(re))}),[t,n,e]);return f().createElement(d.CollapsableSection,{label:"New Element",isOpen:!0,headerDataTestId:B.formElementsEditor.sectionNewLabel,contentDataTestId:B.formElementsEditor.sectionNewContent},f().createElement(d.InlineField,{label:"Id",grow:!0,labelWidth:8,invalid:""===n.id},f().createElement(d.Input,{placeholder:"Id",onChange:e=>{i(Mi(Ni({},n),{id:e.target.value}))},value:n.id,"data-testid":B.formElementsEditor.newElementId})),f().createElement(d.InlineField,{label:"Label",grow:!0,labelWidth:8,invalid:""===n.title},f().createElement(d.Input,{placeholder:"Label",onChange:e=>{i(Mi(Ni({},n),{title:e.target.value}))},value:n.title,"data-testid":B.formElementsEditor.newElementLabel})),f().createElement(d.InlineField,{label:"Type",grow:!0,labelWidth:8},f().createElement(d.Select,{"aria-label":B.formElementsEditor.newElementType,options:F,onChange:e=>{i(Mi(Ni({},n),{type:null==e?void 0:e.value}))},value:F.find((e=>e.value===n.type))})),!!a&&f().createElement(d.Alert,{"data-testid":B.formElementsEditor.addElementError,severity:"error",title:"Add Element"},a),f().createElement(d.Button,{variant:"secondary",onClick:l,disabled:!n.id||!n.type||!!a,icon:"plus","data-testid":B.formElementsEditor.buttonAddElement},"Add Element"))};function Bi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ki(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Bi(e,t,n[t])}))}return e}function Fi(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const ji=({value:e,onChange:t,context:n})=>{var r,a,o,i;const l=(A=(0,d.useTheme2)(),{item:si.css`
      margin-bottom: ${A.spacing(1)};
    `,dragHandle:si.css`
      display: flex;
      margin: ${A.spacing(0,.5)};
    `,dragIcon:si.css`
      cursor: grab;
      color: ${A.colors.text.disabled};
      &:hover {
        color: ${A.colors.text};
      }
    `,removeButton:si.css`
      margin-left: ${A.spacing(1)};
      color: ${A.colors.text.secondary};
    `}),[s,c]=(0,u.useState)({}),{elements:p,isChanged:m,onSaveUpdates:g,onChangeElements:b,onChangeElement:h,onChangeElementOption:v,onElementRemove:E}=ft({onChange:t,value:e}),I=(null===(a=n.options)||void 0===a||null===(r=a.initial)||void 0===r?void 0:r.method)===ue.QUERY,O=(({data:e,isEnabled:t})=>(0,u.useMemo)((()=>t&&e?e.reduce(((e,{fields:t,refId:n})=>e.concat(t.map((e=>({value:e.name,refId:n,label:`${n}:${e.name}`}))))),[]):[]),[e,t]))({data:n.data,isEnabled:I}),S=(0,u.useCallback)((e=>{b(p.concat([e]))}),[p,b]),w=(0,u.useCallback)((e=>{e.destination&&b(_e(p,e.source.index,e.destination.index))}),[p,b]),C=(0,u.useMemo)((()=>{var e,t,r;return(null===(r=n.options)||void 0===r||null===(t=r.layout)||void 0===t||null===(e=t.sections)||void 0===e?void 0:e.map((e=>({value:e.id,label:e.id}))))||[]}),[null===(i=n.options)||void 0===i||null===(o=i.layout)||void 0===o?void 0:o.sections]),D=(0,u.useCallback)((e=>{c((t=>Fi(ki({},t),{[e]:!t[e]})))}),[]);var A;return f().createElement("div",{"data-testid":B.formElementsEditor.root},f().createElement(So,{onDragEnd:w},f().createElement(li,{droppableId:"elements"},(e=>f().createElement("div",Fi(ki({},e.droppableProps),{ref:e.innerRef}),p.map(((e,t)=>{const r=s[e.uid];return f().createElement(Uo,{key:e.uid,draggableId:e.uid,index:t},((t,a)=>{var o,i,s;return f().createElement("div",Fi(ki({},t.draggableProps),{ref:t.innerRef,style:(a.isDragging,s=t.draggableProps.style,ki({},s)),className:l.item}),f().createElement(y.SD,{fill:"solid",headerTestId:B.formElementsEditor.sectionLabel(e.id,e.type),contentTestId:B.formElementsEditor.sectionContent(e.id,e.type),isOpen:r,onToggle:()=>D(e.uid),title:f().createElement(f().Fragment,null,e.title," [",e.id,"]"),actions:f().createElement(f().Fragment,null,f().createElement(d.IconButton,{name:"trash-alt",variant:"secondary",size:"sm",className:l.removeButton,"data-testid":B.formElementsEditor.buttonRemoveElement,onClick:()=>E(Qe(e)),"aria-label":"Remove"}),f().createElement("div",ki({className:l.dragHandle},t.dragHandleProps),f().createElement(d.Icon,{title:"Drag and drop to reorder",name:"draggabledots",size:"lg",className:l.dragIcon})))},f().createElement(Oi,{element:e,onChange:h,layoutSectionOptions:C,initialMethod:null===(i=n.options)||void 0===i||null===(o=i.initial)||void 0===o?void 0:o.method,onChangeOption:v,queryFields:O,isQueryFieldsEnabled:I,data:n.data})))}))})),e.placeholder)))),m&&f().createElement(d.Button,{onClick:g,"data-testid":B.formElementsEditor.buttonSaveChanges},"Save changes"),f().createElement("hr",null),f().createElement(Li,{elements:p,onSave:S}))},Ui=()=>({animation:(0,si.keyframes)({"0%":{transform:"translateX(-50%)"},"100%":{transform:"translateX(100%)"}}),bar:(0,si.css)({width:"28%",height:1,background:"linear-gradient(90deg, rgba(110, 159, 255, 0) 0%, #6E9FFF 80.75%, rgba(110, 159, 255, 0) 100%)"})}),Vi=({width:e,ariaLabel:t="Loading bar"})=>{const n=(0,d.useStyles2)(Ui),r=Math.min(Math.max(Math.round(2.4*e),500),4e3),a={width:"100%",animation:`${n.animation} ${r}ms infinite linear`,willChange:"transform"};return f().createElement("div",{style:a},f().createElement("div",{"aria-label":t,className:n.bar}))},Gi=()=>({wrapper:si.css`
      position: relative;
      overflow-y: auto;
    `,loadingBar:si.css`
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
    `,table:si.css`
      width: 100%;
    `,td:si.css`
      padding: 20px;
      vertical-align: top;
    `,margin:si.css`
      margin: 5px;
    `,button:{center:si.css`
        display: flex;
        align-items: center;
        justify-content: center;
      `,left:si.css`
        float: left;
      `,right:si.css`
        float: right;
      `},confirmTable:si.css`
      width: 100%;
      border: 1px solid;
      text-align: center;
    `,confirmTableTd:si.css`
      border: 1px solid;
    `});function _i(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function Wi(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_i(o,r,a,i,l,"next",e)}function l(e){_i(o,r,a,i,l,"throw",e)}i(void 0)}))}}function $i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){$i(e,t,n[t])}))}return e}function qi(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Ki=({value:e,onChange:t})=>(e&&e.length||(e=[]),f().createElement("div",{"data-testid":B.headerParametersEditor.root},e.map(((n,r)=>f().createElement(d.InlineFieldRow,{key:r,"data-testid":B.headerParametersEditor.parameter(n.name)},f().createElement(d.InlineField,{label:"Name",labelWidth:8,invalid:""===n.name},f().createElement(d.Input,{placeholder:"name",onChange:r=>{n.name=r.target.value,t(e)},value:n.name,"data-testid":B.headerParametersEditor.fieldName})),f().createElement(d.InlineField,{label:"Value",labelWidth:8,grow:!0},f().createElement(d.Input,{placeholder:"value",onChange:r=>{n.value=r.target.value,t(e)},type:"password",value:n.value,"data-testid":B.headerParametersEditor.fieldValue})),f().createElement(d.Button,{variant:"secondary",onClick:()=>{e=e.filter((e=>e.name!==n.name)),t(e)},icon:"trash-alt","data-testid":B.headerParametersEditor.buttonRemove})))),f().createElement(d.Button,{variant:"secondary",onClick:()=>{e.push({name:"",value:""}),t(e)},icon:"plus","data-testid":B.headerParametersEditor.buttonAdd},"Add Parameter")));function Qi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Qi(e,t,n[t])}))}return e}function Yi(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Ji=({value:e,onChange:t})=>{const n=(0,u.useMemo)((()=>Array.isArray(e)?e:[]),[e]),r=(0,u.useCallback)(((e,r=e.id)=>{t(n.map((t=>t.id===r?e:t)))}),[t,n]),a=(0,u.useCallback)((e=>{t(n.filter((t=>t.id!==e.id)))}),[t,n]),o=(0,u.useMemo)((()=>n.some((e=>""===e.id))),[n]);return f().createElement("div",{"data-testid":B.layoutSectionsEditor.root},n.map(((e,t)=>f().createElement(d.InlineFieldRow,{key:t,"data-testid":B.layoutSectionsEditor.section(e.id)},f().createElement(d.InlineField,{label:"Id",grow:!0,labelWidth:8,invalid:""===e.id},f().createElement(d.Input,{placeholder:"id",onChange:t=>{const a=Yi(zi({},e),{id:t.target.value||""}),o=!((e,t)=>e.some((e=>e.id===t.id)))(n,a);o&&r(a,e.id)},value:e.id,"data-testid":B.layoutSectionsEditor.fieldId})),f().createElement(d.InlineField,{label:"Name",grow:!0,labelWidth:8},f().createElement(d.Input,{placeholder:"name",onChange:t=>{r(Yi(zi({},e),{name:t.target.value}))},value:e.name,"data-testid":B.layoutSectionsEditor.fieldName})),f().createElement(d.Button,{variant:"secondary",onClick:()=>{a(e)},icon:"trash-alt","data-testid":B.layoutSectionsEditor.buttonRemove})))),f().createElement(d.Button,{variant:"secondary",onClick:()=>{t(n.concat({id:"",name:""}))},icon:"plus","data-testid":B.layoutSectionsEditor.buttonAdd,disabled:o},"Add Section"))};function Xi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zi(){return Zi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zi.apply(this,arguments)}function el(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Xi(e,t,n[t])}))}return e}function tl(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function nl(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const rl=e=>{var{updatedOnly:t,payloadMode:n}=e;return tl(el({},nl(e,["updatedOnly","payloadMode"])),{payloadMode:null!=n?n:t?be.UPDATED:be.ALL})},al=new s.PanelPlugin((({options:e,width:t,height:r,onOptionsChange:a,eventBus:o,replaceVariables:p,data:m})=>{var g,b,h,v,y,O;const[S,w]=(0,u.useState)(G.INITIAL),[C,D]=(0,u.useState)(""),[A,x]=(0,u.useState)(""),[T,P,R]=pt({}),[N,M]=(0,u.useState)(!1),[L,F]=(0,u.useState)(!1),[j,U]=(0,u.useState)(!1),[V,_]=(0,u.useState)(!0),[W,$]=(0,u.useState)(!1),[H,q]=(0,u.useState)(!0),K=Te(),{canAddAnnotations:Q}=(0,d.usePanelContext)(),z=(0,u.useMemo)((()=>!!Q&&Q()),[Q]),Y=(0,u.useCallback)((t=>{a(qi(Hi({},e),{elements:t}))}),[a,e]),{elements:J,onChangeElement:X,onChangeElements:Z,onSaveUpdates:ee,eventBus:te,elementsRef:ne}=ft({onChange:Y,value:e.elements,isAutoSave:!1}),re=(0,d.useTheme2)(),ae=(0,d.useStyles2)(Gi),oe=(0,c.getTemplateSrv)(),se=(0,c.getAppEvents)(),de=(0,u.useCallback)((e=>se.publish({type:s.AppEvents.alertSuccess.name,payload:e})),[se]),ce=(0,u.useCallback)((e=>se.publish({type:s.AppEvents.alertError.name,payload:e})),[se]),pe=(0,u.useCallback)((e=>se.publish({type:s.AppEvents.alertWarning.name,payload:e})),[se]),me=(0,u.useCallback)(((e,t)=>ne.current.map((n=>{const r=t===ue.QUERY?n.queryField:{value:n.fieldName},a=e.filter((e=>!(null==r?void 0:r.refId)||e.refId===r.refId)).reduce(((e,{fields:t})=>(null==t?void 0:t.find((e=>e.name===(null==r?void 0:r.value))))||e),void 0);if(a){const e=je(a);return et(n,e[e.length-1])}return n}))),[ne]),ge=(0,u.useCallback)(function(){var t=Wi((function*({code:t,initial:n,response:r,initialRequest:i,currentElements:l}){if(!t)return;const s=new Function("options","data","response","elements","onChange","locationService","templateService","onOptionsChange","initialRequest","setInitial","json","initial","notifyError","notifySuccess","notifyWarning","toDataQueryResponse","context",p(t));try{yield s(e,m,r,l||ne.current,Z,c.locationService,oe,a,i,P,R.current,R.current,ce,de,pe,c.toDataQueryResponse,E.create({grafana:{locationService:c.locationService,templateService:oe,notifyError:ce,notifySuccess:de,notifyWarning:pe,eventBus:o,appEvents:se,refresh:()=>se.publish({type:"variables-changed",payload:{refreshAll:!0}}),backendService:(0,c.getBackendSrv)()},panel:{options:e,data:m,onOptionsChange:a,elements:l||ne.current,onChangeElements:Z,setInitial:P,initial:n,initialRequest:i,response:r,enableSubmit:()=>$(!0),disableSubmit:()=>$(!1)},utils:{toDataQueryResponse:c.toDataQueryResponse,fileToBase64:it}}))}catch(e){e instanceof Error&&D(e.toString())}}));return function(e){return t.apply(this,arguments)}}(),[p,e,m,ne,Z,oe,a,P,R,ce,de,pe,o,se]),he=(0,u.useCallback)(Wi((function*(){D(""),w(G.INITIAL);let t,n=ne.current;if(!ne.current.length||e.initial.method===ue.NONE||e.initial.method===ue.QUERY)return e.initial.method===ue.QUERY&&(n=me(m.series,ue.QUERY)),Z(n),P((e=>e.reduce(((e,t)=>Ge(Ve({},e),{[t.id]:t.value})),{}))(n)),yield ge({code:e.initial.code,initial:R.current,currentElements:n}),void w(G.NONE);let r={};if(e.initial.method===ue.DATASOURCE){if(!e.initial.datasource)return D("Please select Data Source for Initial Request."),void w(G.NONE);const r=yield at({request:qi(Hi({},e.initial),{payloadMode:be.CUSTOM}),elements:ne.current,initial:R.current,replaceVariables:p});if(t=yield K({query:r,datasource:e.initial.datasource,replaceVariables:p}).catch((e=>(D(JSON.stringify(e)),null))),t&&t.ok){const e=(0,c.toDataQueryResponse)(t);n=me(e.data,ue.DATASOURCE),Z(n),P(n.reduce(((e,t)=>qi(Hi({},e),{[t.id]:t.value})),{}))}}else{var a;if(!e.initial.url)return D("Please select URL for Initial Request."),void w(G.NONE);const i=new Headers;if(e.initial.method===ue.POST&&i.set("Content-Type",e.initial.contentType),null===(a=e.initial.header)||void 0===a||a.forEach((e=>{const t=p(e.name);t?i.set(t,p(e.value)):D("All request parameters should be defined. Remove empty parameters.")})),t=yield fetch(p(e.initial.url,void 0,encodeURIComponent),{method:e.initial.method,headers:i}).catch((e=>(D(e.toString()),null))),"opaque"===(null==t?void 0:t.type)&&D("CORS prevents access to the response for Initial values."),null==t?void 0:t.ok){var o;r=yield t.json();const a=(null===(o=e.elements)||void 0===o?void 0:o.reduce(((e,t)=>qi(Hi({},e),{[t.id]:void 0!==r[t.id]?r[t.id]:t.value})),{}))||{};n=ne.current.map((e=>et(e,a[e.id]))),Z(n),P(Hi({},r,a)),x("Values updated.")}}yield ge({code:e.initial.code,initial:r,response:t,currentElements:n}),w(G.NONE)})),[m.series,K,ne,ge,me,R,Z,e.elements,e.initial,p,P]),ye=(0,u.useCallback)(Wi((function*(){if(D(""),e.resetAction.mode===ve.INITIAL)return void(yield he());if(e.resetAction.mode===ve.CUSTOM&&(w(G.RESET),yield ge({code:e.resetAction.code,initial:R.current}),w(G.NONE)),w(G.RESET),!e.resetAction.datasource)return D("Please select Data Source for Reset Request."),void w(G.NONE);const t=yield at({request:{datasource:e.resetAction.datasource,payloadMode:be.CUSTOM,method:ue.NONE,url:"",header:[],getPayload:e.resetAction.getPayload,contentType:fe.PLAIN,code:e.resetAction.code,highlight:!1,highlightColor:"",confirm:!1},elements:ne.current,initial:R.current,replaceVariables:p}),n=yield K({query:t,datasource:e.resetAction.datasource,replaceVariables:p}).catch((e=>(D(JSON.stringify(e)),null)));let r=ne.current;if(n&&n.ok){const e=(0,c.toDataQueryResponse)(n);r=me(e.data,ue.DATASOURCE),Z(r)}yield ge({code:e.resetAction.code,initial:R.current,response:n,currentElements:r}),w(G.NONE)})),[K,ne,ge,me,R,he,Z,e.resetAction.code,e.resetAction.datasource,e.resetAction.getPayload,e.resetAction.mode,p]),Ee=(0,u.useCallback)(Wi((function*(){if(D(""),w(G.UPDATE),e.update.method===ue.NONE)return yield ge({code:e.update.code,initial:R.current,initialRequest:he}),void w(G.NONE);const t=yield at({request:e.update,elements:J,initial:R.current,replaceVariables:p});let n;if(e.update.method===ue.DATASOURCE)n=yield K({query:t,datasource:e.update.datasource,replaceVariables:p}).catch((e=>(D(JSON.stringify(e)),null)));else{var r;const a=new Headers;let o;e.update.contentType!==fe.FORMDATA&&a.set("Content-Type",e.update.contentType),null===(r=e.update.header)||void 0===r||r.forEach((e=>{const t=p(e.name);t?a.set(t,p(e.value)):D("All request parameters should be defined. Remove empty parameters.")})),o=e.update.contentType===fe.FORMDATA&&t instanceof Object?((e,t)=>{const n=new FormData;return Object.entries(e).forEach((([e,r])=>{Array.isArray(r)?r.forEach(((r,a)=>{n.set(`${e}[${a}]`,st(r,t))})):n.set(e,st(r,t))})),n})(t,p):yield lt(t,p),n=yield fetch(p(e.update.url,void 0,encodeURIComponent),{method:e.update.method,headers:a,body:o}).catch((e=>(D(e.toString()),null))),(null==n?void 0:n.ok)&&x(n.toString())}yield ge({code:e.update.code,initial:R.current,response:n,initialRequest:he}),w(G.NONE)})),[K,J,ge,R,he,e.update,p]);(0,u.useEffect)((()=>{m.state!==s.LoadingState.Done||!e.sync&&j||(he(),e.sync||U(!0));const t=o.getStream(c.RefreshEvent).subscribe((()=>{e.sync&&he()}));return()=>{t.unsubscribe()}}),[e.initial,e.sync,o,m.state,j,he]);const Ie=(0,u.useMemo)((()=>{for(const e of J)if(e.value!==T[e.id])return!0;return!1}),[J,T]),Oe=(0,u.useMemo)((()=>!!S||(e.updateEnabled===l.AUTO?!Ie&&e.layout.variant!==ie.NONE:!W)),[Ie,S,e.layout.variant,e.updateEnabled,W]),Se=(0,u.useCallback)((({elements:t,element:n})=>{new Function("context",p(e.elementValueChanged))(I.create({element:n,grafana:{locationService:c.locationService,templateService:oe,notifyError:ce,notifySuccess:de,notifyWarning:pe,eventBus:o,appEvents:se,refresh:()=>se.publish({type:"variables-changed",payload:{refreshAll:!0}})},panel:{options:e,data:m,onOptionsChange:a,elements:t,onChangeElements:Z,initial:R.current,setError:D,enableReset:()=>_(!0),disableReset:()=>_(!1),enableSubmit:()=>$(!0),disableSubmit:()=>$(!1),enableSaveDefault:()=>q(!0),disableSaveDefault:()=>q(!1),initialRequest:he},utils:{toDataQueryResponse:c.toDataQueryResponse}}))}),[se,m,o,R,he,ce,de,pe,Z,a,e,p,oe]);return(0,u.useEffect)((()=>{const e=te.subscribe(tt,(e=>{Se(e.payload)}));return()=>{e.unsubscribe()}}),[te,o,Se]),f().createElement("div",{"data-testid":B.panel.root,className:(0,si.cx)(ae.wrapper,si.css`
          width: ${t}px;
          height: ${r}px;
          padding: ${e.layout.padding}px;
        `)},S===G.INITIAL&&f().createElement("div",{className:ae.loadingBar,"data-testid":B.panel.loadingBar},f().createElement(Vi,{width:t})),!J.length&&e.layout.variant!==ie.NONE&&f().createElement(d.Alert,{"data-testid":B.panel.infoMessage,severity:"info",title:"Form Elements"},"Please add elements in Panel Options or Custom Code."),f().createElement("table",{className:ae.table},f().createElement("tbody",null,e.layout.variant===ie.SINGLE&&f().createElement("tr",null,f().createElement("td",{"data-testid":B.panel.singleLayoutContent},f().createElement(Pi,{data:m,options:e,elements:J,onChangeElement:X,initial:T,section:null,replaceVariables:p}))),e.layout.variant===ie.SPLIT&&e.layout.orientation!==le.VERTICAL&&f().createElement("tr",null,null===(b=e.layout)||void 0===b||null===(g=b.sections)||void 0===g?void 0:g.map(((t,n)=>f().createElement("td",{className:ae.td,key:n,"data-testid":B.panel.splitLayoutContent(t.name)},f().createElement(d.FieldSet,{label:t.name},f().createElement(Pi,{data:m,options:e,elements:J,onChangeElement:X,initial:T,section:t,replaceVariables:p})))))),e.layout.variant===ie.SPLIT&&e.layout.orientation===le.VERTICAL&&f().createElement(f().Fragment,null,null===(v=e.layout)||void 0===v||null===(h=v.sections)||void 0===h?void 0:h.map(((t,n)=>f().createElement("tr",{key:n},f().createElement("td",{className:ae.td,"data-testid":B.panel.splitLayoutContent(t.name)},f().createElement(d.FieldSet,{label:t.name},f().createElement(Pi,{options:e,elements:J,onChangeElement:X,initial:T,section:t,replaceVariables:p,data:m}))))))),f().createElement("tr",null,f().createElement("td",{colSpan:null===(O=e.layout)||void 0===O||null===(y=O.sections)||void 0===y?void 0:y.length},f().createElement(d.ButtonGroup,{className:(0,si.cx)(ae.button[e.buttonGroup.orientation])},e.updateEnabled!==l.DISABLED&&f().createElement(d.Button,{className:(0,si.cx)(ae.margin),variant:Xe(e.submit.variant),icon:S===G.UPDATE?"fa fa-spinner":e.submit.icon,title:A,style:e.submit.variant===n.CUSTOM?{background:"none",border:"none",backgroundColor:re.visualization.getColorByName(e.submit.backgroundColor),color:re.visualization.getColorByName(e.submit.foregroundColor)}:{},disabled:Oe,onClick:e.update.confirm?()=>{M(!0)}:Ee,size:e.buttonGroup.size,"data-testid":B.panel.buttonSubmit},e.submit.text),e.reset.variant!==n.HIDDEN&&f().createElement(d.Button,{className:(0,si.cx)(ae.margin),variant:Xe(e.reset.variant),icon:S===G.RESET?"fa fa-spinner":e.reset.icon,style:e.reset.variant===n.CUSTOM?{background:"none",border:"none",backgroundColor:re.visualization.getColorByName(e.reset.backgroundColor),color:re.visualization.getColorByName(e.reset.foregroundColor)}:{},disabled:!!S||!V,onClick:()=>{e.resetAction.confirm?F(!0):ye()},size:e.buttonGroup.size,"data-testid":B.panel.buttonReset},e.reset.text),e.saveDefault.variant!==n.HIDDEN&&z&&f().createElement(d.Button,{className:(0,si.cx)(ae.margin),variant:Xe(e.saveDefault.variant),icon:e.saveDefault.icon,disabled:!!S||!H,onClick:ee,size:e.buttonGroup.size,"data-testid":B.panel.buttonSaveDefault,title:"Save values in the dashboard. Requires to Save dashboard."},e.saveDefault.text)))))),C&&f().createElement(d.Alert,{"data-testid":B.panel.errorMessage,severity:"error",title:"Request"},C),f().createElement(d.ConfirmModal,{isOpen:N,title:e.confirmModal.title,body:f().createElement("div",{"data-testid":B.panel.confirmModalContent},f().createElement("h4",null,e.confirmModal.body),e.layout.variant!==ie.NONE&&e.confirmModal.columns.include.length>0&&f().createElement("table",{className:ae.confirmTable},f().createElement("thead",null,f().createElement("tr",{className:ae.confirmTable},e.confirmModal.columns.include.includes(i.NAME)&&f().createElement("td",{className:ae.confirmTableTd},f().createElement("b",null,e.confirmModal.columns.name)),e.confirmModal.columns.include.includes(i.OLD_VALUE)&&f().createElement("td",{className:ae.confirmTableTd},f().createElement("b",null,e.confirmModal.columns.oldValue)),e.confirmModal.columns.include.includes(i.NEW_VALUE)&&f().createElement("td",{className:ae.confirmTableTd},f().createElement("b",null,e.confirmModal.columns.newValue)))),f().createElement("tbody",null,J.map((t=>{if(t.value===T[t.id])return;if(t.type===k.DISABLED)return;if("hidden"in t&&t.hidden||!t.helpers.showIf({elements:J,replaceVariables:p}))return;if(t.type===k.PASSWORD)return f().createElement("tr",{className:ae.confirmTable,key:t.id,"data-testid":B.panel.confirmModalField(t.id)},e.confirmModal.columns.include.includes(i.NAME)&&f().createElement("td",{className:ae.confirmTableTd,"data-testid":B.panel.confirmModalFieldTitle},t.title||t.tooltip),e.confirmModal.columns.include.includes(i.OLD_VALUE)&&f().createElement("td",{className:ae.confirmTableTd,"data-testid":B.panel.confirmModalFieldPreviousValue},"*********"),e.confirmModal.columns.include.includes(i.NEW_VALUE)&&f().createElement("td",{className:ae.confirmTableTd,"data-testid":B.panel.confirmModalFieldValue},"*********"));let n=t.value;return t.type===k.DATETIME&&(n=(0,s.dateTime)(t.value).toISOString()),f().createElement("tr",{className:ae.confirmTable,key:t.id,"data-testid":B.panel.confirmModalField(t.id)},e.confirmModal.columns.include.includes(i.NAME)&&f().createElement("td",{className:ae.confirmTableTd,"data-testid":B.panel.confirmModalFieldTitle},t.title||t.tooltip),e.confirmModal.columns.include.includes(i.OLD_VALUE)&&f().createElement("td",{className:ae.confirmTableTd,"data-testid":B.panel.confirmModalFieldPreviousValue},void 0===T[t.id]?"":String(T[t.id])),e.confirmModal.columns.include.includes(i.NEW_VALUE)&&f().createElement("td",{className:ae.confirmTableTd,"data-testid":B.panel.confirmModalFieldValue},void 0===n?"":String(n)))}))))),confirmText:e.confirmModal.confirm,onConfirm:()=>{Ee(),M(!1)},onDismiss:()=>M(!1),dismissText:e.confirmModal.cancel}),f().createElement(d.ConfirmModal,{isOpen:L,title:"Confirm reset values",body:f().createElement("div",{"data-testid":B.panel.resetConfirmModal},"Please confirm to reset values"),confirmText:"Confirm",onConfirm:()=>{ye(),F(!1)},onDismiss:()=>F(!1)}))})).setNoPadding().setMigrationHandler((e=>{var t;const n=Zi({},function(e){if(null==e)throw new TypeError("Cannot destructure "+e);return e}(e.options));return("updatedOnly"in n.initial||"updatedOnly"in n.update)&&(n.initial=rl(n.initial),n.update=rl(n.update)),(null===(t=n.layout)||void 0===t?void 0:t.sections)&&(n.layout=tl(el({},n.layout),{sections:n.layout.sections.map((e=>{var{id:t}=e,n=nl(e,["id"]);return tl(el({},n),{id:null!=t?t:n.name})}))})),n})).setPanelOptions((r=>{const o=e=>e.method!==ue.NONE,s=e=>e.method!==ue.NONE&&e.method!==ue.DATASOURCE&&e.method!==ue.QUERY;return r.addRadio({path:"layout.variant",name:"Layout",category:["Layout"],settings:{options:se},defaultValue:ie.SINGLE}).addSliderInput({path:"layout.padding",name:"Padding",category:["Layout"],defaultValue:10,settings:{min:0,max:20}}),r.addCustomEditor({id:"layout.sections",path:"layout.sections",name:"Sections",category:["Sections"],editor:Ji,showIf:e=>e.layout.variant===ie.SPLIT}).addRadio({path:"layout.orientation",name:"Orientation",category:["Sections"],settings:{options:de},defaultValue:le.HORIZONTAL,showIf:e=>e.layout.variant===ie.SPLIT}),r.addCustomEditor({id:"elements",path:"elements",name:"Form Elements",category:["Form Elements"],description:"Form Elements",editor:ji,showIf:e=>e.layout.variant!==ie.NONE}),r.addCustomEditor({id:"elementValueChanged",path:"elementValueChanged",name:"Element Value Changed",category:["Form Events"],description:"Code to run when element value changed",editor:we,settings:{type:a.ELEMENT_VALUE_CHANGED,variablesSuggestions:!0},showIf:e=>e.layout.variant!==ie.NONE,defaultValue:""}),r.addRadio({path:"sync",name:"Synchronize with data",description:"Keeps the panel synched with the dashboard updates.",category:["Initial Request"],settings:{options:N},defaultValue:!0}).addRadio({path:"initial.method",name:"Initial Action",category:["Initial Request"],settings:{options:pe},defaultValue:ue.NONE}).addTextInput({path:"initial.url",name:"URL",category:["Initial Request"],description:"The URL to call. Leave empty to skip Initial Request.",settings:{placeholder:"http://"},showIf:e=>s(e.initial)}).addCustomEditor({id:"initial.header",path:"initial.header",name:"Header Parameters",category:["Initial Request"],editor:Ki,showIf:e=>s(e.initial)}).addCustomEditor({id:"initial.datasource",path:"initial.datasource",name:"Data Source",category:["Initial Request"],editor:gt,showIf:e=>e.initial.method===ue.DATASOURCE}).addSelect({path:"initial.contentType",name:"Content-Type",category:["Initial Request"],description:"Content-Type of the payload.",defaultValue:fe.JSON,settings:{allowCustomValue:!0,options:ge},showIf:e=>e.initial.method===ue.POST}).addCustomEditor({id:"initial.code",path:"initial.code",name:"Custom Code",description:"Custom code to execute initial request.",editor:we,category:["Initial Request"],settings:{type:a.REQUEST,variablesSuggestions:!0},defaultValue:q,showIf:e=>!o(e.initial)}).addCustomEditor({id:"initial.code",path:"initial.code",name:"Custom Code",description:"Custom code to execute after initial request.",editor:we,category:["Initial Request"],settings:{type:a.REQUEST,variablesSuggestions:!0},defaultValue:q,showIf:e=>o(e.initial)}),r.addCustomEditor({id:"initial.getPayload",path:"initial.getPayload",name:"Create Payload",description:"Custom code to create payload for the initial data source request.",editor:we,category:["Initial Request Payload"],settings:{type:a.GET_PAYLOAD,variablesSuggestions:!0},defaultValue:Q,showIf:e=>e.initial.method===ue.DATASOURCE&&!!e.initial.datasource}),r.addRadio({path:"initial.highlight",name:"Highlight Changes",description:"Some elements are not supporting highlighting.",category:["Highlight Changes"],settings:{options:ce},defaultValue:!1,showIf:e=>e.layout.variant!==ie.NONE}).addColorPicker({path:"initial.highlightColor",name:"Color",category:["Highlight Changes"],defaultValue:"red",settings:{disableNamedColors:!0},showIf:e=>e.initial.highlight&&e.layout.variant!==ie.NONE}),r.addRadio({path:"updateEnabled",name:"Enable Update",category:["Update Request"],settings:{options:Ee},defaultValue:l.AUTO}).addRadio({path:"update.method",name:"Update Action",category:["Update Request"],settings:{options:me},defaultValue:ue.NONE}).addTextInput({path:"update.url",name:"URL",category:["Update Request"],description:"The URL to call.",settings:{placeholder:"http://"},showIf:e=>o(e.update)&&s(e.update)}).addCustomEditor({id:"update.datasource",path:"update.datasource",name:"Data Source",category:["Update Request"],editor:gt,showIf:e=>e.update.method===ue.DATASOURCE}).addCustomEditor({id:"update.header",path:"update.header",name:"Header Parameters",category:["Update Request"],editor:Ki,showIf:e=>o(e.update)&&s(e.update)}).addSelect({path:"update.contentType",name:"Content-Type",category:["Update Request"],description:"Content-Type of the payload.",defaultValue:fe.JSON,settings:{allowCustomValue:!0,options:ge},showIf:e=>o(e.update)&&s(e.update)}).addCustomEditor({id:"update.code",path:"update.code",name:"Custom Code",description:"Custom code to execute after update request.",editor:we,category:["Update Request"],settings:{type:a.REQUEST,variablesSuggestions:!0},defaultValue:K,showIf:e=>o(e.update)}).addCustomEditor({id:"update.code",path:"update.code",name:"Custom Code",description:"Custom code to execute update request.",editor:we,category:["Update Request"],settings:{type:a.REQUEST,variablesSuggestions:!0},defaultValue:K,showIf:e=>!o(e.update)}),r.addRadio({path:"update.payloadMode",name:"Request Payload",description:"Choose what values will be included in payload.",category:["Update Request Payload"],settings:{options:he},defaultValue:be.ALL,showIf:e=>o(e.update)&&e.layout.variant!==ie.NONE}).addCustomEditor({id:"update.getPayload",path:"update.getPayload",name:"Create Payload",description:"Custom code to create payload for the update request.",editor:we,category:["Update Request Payload"],settings:{type:a.GET_PAYLOAD,variablesSuggestions:!0},defaultValue:"const payload = {};\n\nelements.forEach((element) => {\n  if (!element.value) {\n    return;\n  }\n\n  payload[element.id] = element.value;\n})\n\nreturn payload;\n\n/**\n * Data Source payload\n */ \nreturn {\n  rawSql: '',\n  format: 'table',\n};",showIf:e=>o(e.update)&&e.update.payloadMode===be.CUSTOM}),r.addRadio({path:"update.confirm",name:"Confirmation Window",description:"Ask to confirm updated values.",category:["Update Confirmation Window"],settings:{options:ce},defaultValue:!1}).addTextInput({path:"confirmModal.title",name:"Title",category:["Update Confirmation Window"],defaultValue:oe.title,showIf:e=>e.update.confirm}).addTextInput({path:"confirmModal.body",name:"Text",category:["Update Confirmation Window"],defaultValue:oe.body,showIf:e=>e.update.confirm}).addMultiSelect({path:"confirmModal.columns.include",name:"Include columns",category:["Update Confirmation Window"],defaultValue:oe.columns.include,showIf:e=>e.update.confirm,settings:{options:R}}).addTextInput({path:"confirmModal.columns.name",name:"Label column",category:["Update Confirmation Window"],defaultValue:oe.columns.name,showIf:e=>e.update.confirm&&e.confirmModal.columns.include.includes(i.NAME)}).addTextInput({path:"confirmModal.columns.oldValue",name:"Old value column",category:["Update Confirmation Window"],defaultValue:oe.columns.oldValue,showIf:e=>e.update.confirm&&e.confirmModal.columns.include.includes(i.OLD_VALUE)}).addTextInput({path:"confirmModal.columns.newValue",name:"New value column",category:["Update Confirmation Window"],defaultValue:oe.columns.newValue,showIf:e=>e.update.confirm&&e.confirmModal.columns.include.includes(i.NAME)}).addTextInput({path:"confirmModal.confirm",name:"Confirm button",category:["Update Confirmation Window"],description:"The text on the confirm button.",defaultValue:oe.confirm,showIf:e=>e.update.confirm}).addTextInput({path:"confirmModal.cancel",name:"Cancel button",category:["Update Confirmation Window"],description:"The text on the cancel button.",defaultValue:oe.cancel,showIf:e=>e.update.confirm}),r.addRadio({path:"buttonGroup.orientation",name:"Orientation",category:["Buttons"],description:"Buttons orientation on the form.",settings:{options:h},defaultValue:e.CENTER}).addRadio({path:"buttonGroup.size",name:"Size",category:["Buttons"],description:"Buttons size on the form.",settings:{options:v},defaultValue:t.MEDIUM}),r.addRadio({path:"submit.variant",name:"Submit Button",category:["Submit Button"],description:"Button variant.",settings:{options:b},defaultValue:z.variant}).addColorPicker({path:"submit.foregroundColor",name:"Foreground Color",category:["Submit Button"],description:"Foreground color of the button.",defaultValue:z.foregroundColor,settings:{disableNamedColors:!0},showIf:e=>e.submit.variant===n.CUSTOM}).addColorPicker({path:"submit.backgroundColor",name:"Background Color",category:["Submit Button"],description:"Background color of the button.",defaultValue:z.backgroundColor,settings:{disableNamedColors:!0},showIf:e=>e.submit.variant===n.CUSTOM}).addSelect({path:"submit.icon",name:"Icon",category:["Submit Button"],settings:{options:(0,d.getAvailableIcons)().map((e=>({value:e,label:e})))},defaultValue:z.icon}).addTextInput({path:"submit.text",name:"Text",category:["Submit Button"],description:"The text on the button.",defaultValue:z.text}),r.addRadio({path:"reset.variant",name:"Reset Button",category:["Reset Button"],description:"Button variant.",settings:{options:[...g,...b]},defaultValue:Y.variant}).addColorPicker({path:"reset.foregroundColor",name:"Foreground Color",category:["Reset Button"],description:"Foreground color of the button.",defaultValue:Y.foregroundColor,settings:{disableNamedColors:!0},showIf:e=>e.reset.variant===n.CUSTOM}).addColorPicker({path:"reset.backgroundColor",name:"Background Color",category:["Reset Button"],description:"Background color of the button.",defaultValue:Y.backgroundColor,settings:{disableNamedColors:!0},showIf:e=>e.reset.variant===n.CUSTOM}).addSelect({path:"reset.icon",name:"Icon",category:["Reset Button"],settings:{options:(0,d.getAvailableIcons)().map((e=>({value:e,label:e})))},defaultValue:Y.icon,showIf:e=>e.reset.variant!==n.HIDDEN}).addTextInput({path:"reset.text",name:"Text",category:["Reset Button"],description:"The text on the button.",defaultValue:Y.text,showIf:e=>e.reset.variant!==n.HIDDEN}),r.addRadio({path:"resetAction.mode",name:"Reset Action",category:["Reset Request"],description:"What action should be called by clicking on reset button.",settings:{options:ye},defaultValue:ve.INITIAL,showIf:e=>e.reset.variant!==n.HIDDEN}).addCustomEditor({id:"resetAction.code",path:"resetAction.code",name:"Custom Code",description:"Custom code to execute reset request.",editor:we,category:["Reset Request"],settings:{type:a.REQUEST,variablesSuggestions:!0},defaultValue:"console.log(data, response, initial, elements);",showIf:e=>e.reset.variant!==n.HIDDEN&&e.resetAction.mode===ve.CUSTOM}).addCustomEditor({id:"resetAction.datasource",path:"resetAction.datasource",name:"Data Source",category:["Reset Request"],editor:gt,showIf:e=>e.reset.variant!==n.HIDDEN&&e.resetAction.mode===ve.DATASOURCE}).addCustomEditor({id:"resetAction.code",path:"resetAction.code",name:"Custom Code",description:"Custom code to execute after reset request.",editor:we,category:["Reset Request"],settings:{type:a.REQUEST,variablesSuggestions:!0},defaultValue:K,showIf:e=>e.reset.variant!==n.HIDDEN&&e.resetAction.mode===ve.DATASOURCE}).addRadio({path:"resetAction.confirm",name:"Confirmation Window",description:"Ask to reset values.",category:["Reset Request"],settings:{options:ce},defaultValue:!1}),r.addCustomEditor({id:"resetAction.getPayload",path:"resetAction.getPayload",name:"Create Payload",description:"Custom code to create payload for the reset data source request.",editor:we,category:["Reset Request Payload"],settings:{type:a.GET_PAYLOAD,variablesSuggestions:!0},defaultValue:Q,showIf:e=>e.reset.variant!==n.HIDDEN&&e.resetAction.mode===ve.DATASOURCE&&!!e.resetAction.datasource}),r.addRadio({path:"saveDefault.variant",name:"Save Default Button",category:["Save Default Button"],description:"Button variant.",settings:{options:[...g,{value:n.SECONDARY,label:"Auto"}]},defaultValue:J.variant}).addSelect({path:"saveDefault.icon",name:"Icon",category:["Save Default Button"],settings:{options:(0,d.getAvailableIcons)().map((e=>({value:e,label:e})))},defaultValue:J.icon,showIf:e=>e.saveDefault.variant!==n.HIDDEN}).addTextInput({path:"saveDefault.text",name:"Text",category:["Save Default Button"],description:"The text on the button.",defaultValue:J.text,showIf:e=>e.saveDefault.variant!==n.HIDDEN}),r}))})(),m})()));
//# sourceMappingURL=module.js.map
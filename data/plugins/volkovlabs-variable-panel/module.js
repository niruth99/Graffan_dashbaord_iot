/*! For license information please see module.js.LICENSE.txt */
define(["@grafana/data","@grafana/runtime","@emotion/css","@grafana/ui","react","@emotion/react","redux","react-redux","react-dom","lodash"],((e,t,n,r,o,i,a,l,s,u)=>(()=>{var c={774:(e,t,n)=>{"use strict";var r=n(7),o=n(959),i=n(89),a=n(470);const l=e=>({rootOutline:i.css`
      border: 1px solid ${e.colors.border.weak};
      background-color: ${e.colors.background.primary};
    `,header:i.css`
      padding: ${e.spacing(.5,.5)};
      min-height: ${e.spacing(4)};
      display: flex;
      align-items: center;
      justify-content: flex-start;
      white-space: nowrap;

      &:focus {
        outline: none;
      }
    `,headerSolid:i.css`
      border-radius: ${e.shape.radius?.default};
      background: ${e.colors.background.secondary};
    `,title:i.css`
      font-weight: ${e.typography.fontWeightBold};
      margin: ${e.spacing(0,.5)};
      overflow: hidden;
      text-overflow: ellipsis;
    `,collapseIcon:i.css`
      margin-left: ${e.spacing(.5)};
      color: ${e.colors.text.disabled};
    `,actions:i.css`
      margin-left: auto;
      display: flex;
      align-items: center;
    `});var s=(e=>(e.SELECT="select",e.SLIDER="slider",e.GROUP="group",e.CUSTOM="custom",e.COLOR="color",e.RADIO="radio",e.HIDDEN="hidden",e.INPUT="input",e.NUMBER_INPUT="numberInput",e))(s||{});r.stylesFactory(((e,t,n=!1)=>{const{spacing:r}=e,o=e.colors.border.strong,l=e.colors.primary.main,s=e.colors.primary.main,u=`box-shadow: 0px 0px 0px 6px ${e.colors.primary.transparent}`;return{container:i.css({width:"100%",margin:t?"inherit":r(1,3,1,1),paddingBottom:t&&n?e.spacing(1):"inherit",height:t?"auto":"100%"}),slider:i.css`
      .rc-slider {
        display: flex;
        flex-grow: 1;
        margin-left: 7px; // half the size of the handle to align handle to the left on 0 value
      }
      .rc-slider-mark {
        top: ${e.spacing(1.75)};
      }
      .rc-slider-mark-text {
        color: ${e.colors.text.disabled};
        font-size: ${e.typography.bodySmall.fontSize};
      }
      .rc-slider-mark-text-active {
        color: ${e.colors.text.primary};
      }
      .rc-slider-handle {
        border: none;
        background-color: ${s};
        box-shadow: ${e.shadows.z1};
        cursor: pointer;
        opacity: 1;
      }

      .rc-slider-handle:hover,
      .rc-slider-handle:active,
      .rc-slider-handle-click-focused:focus {
        ${u};
      }

      // The triple class names is needed because that's the specificity used in the source css :(
      .rc-slider-handle-dragging.rc-slider-handle-dragging.rc-slider-handle-dragging,
      .rc-slider-handle:focus-visible {
        box-shadow: 0 0 0 5px ${e.colors.text.primary};
      }

      .rc-slider-dot,
      .rc-slider-dot-active {
        background-color: ${e.colors.text.primary};
        border-color: ${e.colors.text.primary};
      }

      .rc-slider-track {
        background-color: ${l};
      }
      .rc-slider-rail {
        background-color: ${o};
        cursor: pointer;
      }
    `,tooltip:a.css`
      body {
        .rc-slider-tooltip {
          cursor: grab;
          user-select: none;
          z-index: ${e.zIndex.tooltip};
        }

        .rc-slider-tooltip-inner {
          color: ${e.colors.text.primary};
          background-color: transparent !important;
          border-radius: 0;
          box-shadow: none;
        }

        .rc-slider-tooltip-placement-top .rc-slider-tooltip-arrow {
          display: none;
        }

        .rc-slider-tooltip-placement-top {
          padding: 0;
        }
      }
    `,sliderInput:i.css({display:"flex",flexDirection:"row",alignItems:"center",width:"100%"}),sliderInputVertical:i.css({flexDirection:"column",height:"100%",".rc-slider":{margin:0,order:2}}),sliderInputField:i.css({marginLeft:e.spacing(3),input:{textAlign:"center"}}),sliderInputFieldVertical:i.css({margin:`0 0 ${e.spacing(3)} 0`,order:1})}}));const{default:u}=n(339);t.SD=({title:e,actions:t,children:n,isOpen:a=!1,onToggle:s,headerTestId:u,contentTestId:c,fill:d="outline",isInlineContent:g=!1})=>{const p=r.useTheme2(),f=r.useStyles2(l),m="solid"===d,v="outline"===d;return o.createElement("div",{className:i.cx({[f.rootOutline]:v})},o.createElement("div",{className:i.cx(f.header,{[f.headerSolid]:m}),"data-testid":u,onClick:()=>s?.(!a)},o.createElement(r.IconButton,{name:a?"angle-down":"angle-right",tooltip:a?"Collapse":"Expand",className:f.collapseIcon,"aria-expanded":a}),o.createElement("div",{className:f.title},e),t&&o.createElement("div",{className:f.actions,onClick:e=>e.stopPropagation()},t)),a&&o.createElement("div",{style:{padding:g?0:p.spacing(.5)},"data-testid":c},n))}},339:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t,n){return o=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==r(o)?o:String(o))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;var o}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function u(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.r(t),n.d(t,{default:()=>$});var d=n(452),g=n.n(d),p=n(959);function f(e){var t=p.useRef();t.current=e;var n=p.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return n}var m="undefined"!=typeof window&&window.document&&window.document.createElement?p.useLayoutEffect:p.useEffect,v=function(e,t){!function(e,t){var n=p.useRef(!0);m((function(){return e(n.current)}),t),m((function(){return n.current=!1,function(){n.current=!0}}),[])}((function(t){if(!t)return e()}),t)};function b(e){var t=p.useRef(!1),n=c(p.useState(e),2),r=n[0],o=n[1];return p.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[r,function(e,n){n&&t.current||o(e)}]}function h(e){return void 0!==e}var y={},w=[];function S(e,t){}function C(e,t){}function x(e,t,n){t||y[n]||(e(!1,n),y[n]=!0)}function E(e,t){x(S,e,t)}E.preMessage=function(e){w.push(e)},E.resetWarned=function(){y={}},E.noteOnce=function(e,t){x(C,e,t)};const I=E,R=p.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}});var O=n(102);function D(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var P={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=P.F1&&t<=P.F12)return!1;switch(t){case P.ALT:case P.CAPS_LOCK:case P.CONTEXT_MENU:case P.CTRL:case P.DOWN:case P.END:case P.ESC:case P.HOME:case P.INSERT:case P.LEFT:case P.MAC_FF_META:case P.META:case P.NUMLOCK:case P.NUM_CENTER:case P.PAGE_DOWN:case P.PAGE_UP:case P.PAUSE:case P.PRINT_SCREEN:case P.RIGHT:case P.SHIFT:case P.UP:case P.WIN_KEY:case P.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=P.ZERO&&e<=P.NINE)return!0;if(e>=P.NUM_ZERO&&e<=P.NUM_MULTIPLY)return!0;if(e>=P.A&&e<=P.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case P.SPACE:case P.QUESTION_MARK:case P.NUM_PLUS:case P.NUM_MINUS:case P.NUM_PERIOD:case P.NUM_DIVISION:case P.SEMICOLON:case P.DASH:case P.EQUALS:case P.COMMA:case P.PERIOD:case P.SLASH:case P.APOSTROPHE:case P.SINGLE_QUOTE:case P.OPEN_SQUARE_BRACKET:case P.BACKSLASH:case P.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const A=P;function M(e,t,n){return(e-t)/(n-t)}function F(e,t,n,r){var o=M(t,n,r),i={};switch(e){case"rtl":i.right="".concat(100*o,"%"),i.transform="translateX(50%)";break;case"btt":i.bottom="".concat(100*o,"%"),i.transform="translateY(50%)";break;case"ttb":i.top="".concat(100*o,"%"),i.transform="translateY(-50%)";break;default:i.left="".concat(100*o,"%"),i.transform="translateX(-50%)"}return i}function N(e,t){return Array.isArray(e)?e[t]:e}var B=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange","onChangeComplete"];const T=p.forwardRef((function(e,t){var n,r,i=e.prefixCls,l=e.value,s=e.valueIndex,u=e.onStartMove,c=e.style,d=e.render,f=e.dragging,m=e.onOffsetChange,v=e.onChangeComplete,b=D(e,B),h=p.useContext(R),y=h.min,w=h.max,S=h.direction,C=h.disabled,x=h.keyboard,E=h.range,I=h.tabIndex,P=h.ariaLabelForHandle,M=h.ariaLabelledByForHandle,T=h.ariaValueTextFormatterForHandle,L=h.styles,_=h.classNames,k="".concat(i,"-handle"),V=function(e){C||u(e,s)},G=F(S,l,y,w),H=p.createElement("div",(0,O.A)({ref:t,className:g()(k,(n={},o(n,"".concat(k,"-").concat(s+1),E),o(n,"".concat(k,"-dragging"),f),n),_.handle),style:a(a(a({},G),c),L.handle),onMouseDown:V,onTouchStart:V,onKeyDown:function(e){if(!C&&x){var t=null;switch(e.which||e.keyCode){case A.LEFT:t="ltr"===S||"btt"===S?-1:1;break;case A.RIGHT:t="ltr"===S||"btt"===S?1:-1;break;case A.UP:t="ttb"!==S?1:-1;break;case A.DOWN:t="ttb"!==S?-1:1;break;case A.HOME:t="min";break;case A.END:t="max";break;case A.PAGE_UP:t=2;break;case A.PAGE_DOWN:t=-2}null!==t&&(e.preventDefault(),m(t,s))}},onKeyUp:function(e){switch(e.which||e.keyCode){case A.LEFT:case A.RIGHT:case A.UP:case A.DOWN:case A.HOME:case A.END:case A.PAGE_UP:case A.PAGE_DOWN:null==v||v()}},tabIndex:C?null:N(I,s),role:"slider","aria-valuemin":y,"aria-valuemax":w,"aria-valuenow":l,"aria-disabled":C,"aria-label":N(P,s),"aria-labelledby":N(M,s),"aria-valuetext":null===(r=N(T,s))||void 0===r?void 0:r(l),"aria-orientation":"ltr"===S||"rtl"===S?"horizontal":"vertical"},b));return d&&(H=d(H,{index:s,prefixCls:i,value:l,dragging:f})),H}));var L=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","draggingIndex"];const _=p.forwardRef((function(e,t){var n=e.prefixCls,r=e.style,o=e.onStartMove,i=e.onOffsetChange,a=e.values,l=e.handleRender,s=e.draggingIndex,u=D(e,L),c=p.useRef({});return p.useImperativeHandle(t,(function(){return{focus:function(e){var t;null===(t=c.current[e])||void 0===t||t.focus()}}})),p.createElement(p.Fragment,null,a.map((function(e,t){return p.createElement(T,(0,O.A)({ref:function(e){e?c.current[t]=e:delete c.current[t]},dragging:s===t,prefixCls:n,style:N(r,t),key:t,value:e,valueIndex:t,onStartMove:o,onOffsetChange:i,render:l},u))})))}));function k(e){var t="touches"in e?e.touches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function V(e){var t=e.prefixCls,n=e.style,r=e.children,i=e.value,l=e.onClick,s=p.useContext(R),u=s.min,c=s.max,d=s.direction,f=s.includedStart,m=s.includedEnd,v=s.included,b="".concat(t,"-text"),h=F(d,i,u,c);return p.createElement("span",{className:g()(b,o({},"".concat(b,"-active"),v&&f<=i&&i<=m)),style:a(a({},h),n),onMouseDown:function(e){e.stopPropagation()},onClick:function(){l(i)}},r)}function G(e){var t=e.prefixCls,n=e.marks,r=e.onClick,o="".concat(t,"-mark");return n.length?p.createElement("div",{className:o},n.map((function(e){var t=e.value,n=e.style,i=e.label;return p.createElement(V,{key:t,prefixCls:o,style:n,value:t,onClick:r},i)}))):null}function H(e){var t=e.prefixCls,n=e.value,r=e.style,i=e.activeStyle,l=p.useContext(R),s=l.min,u=l.max,c=l.direction,d=l.included,f=l.includedStart,m=l.includedEnd,v="".concat(t,"-dot"),b=d&&f<=n&&n<=m,h=a(a({},F(c,n,s,u)),"function"==typeof r?r(n):r);return b&&(h=a(a({},h),"function"==typeof i?i(n):i)),p.createElement("span",{className:g()(v,o({},"".concat(v,"-active"),b)),style:h})}function j(e){var t=e.prefixCls,n=e.marks,r=e.dots,o=e.style,i=e.activeStyle,a=p.useContext(R),l=a.min,s=a.max,u=a.step,c=p.useMemo((function(){var e=new Set;if(n.forEach((function(t){e.add(t.value)})),r&&null!==u)for(var t=l;t<=s;)e.add(t),t+=u;return Array.from(e)}),[l,s,u,r,n]);return p.createElement("div",{className:"".concat(t,"-step")},c.map((function(e){return p.createElement(H,{prefixCls:t,key:e,value:e,style:o,activeStyle:i})})))}function z(e){var t,n=e.prefixCls,r=e.style,i=e.start,l=e.end,s=e.index,u=e.onStartMove,c=e.replaceCls,d=p.useContext(R),f=d.direction,m=d.min,v=d.max,b=d.disabled,h=d.range,y=d.classNames,w="".concat(n,"-track"),S=M(i,m,v),C=M(l,m,v),x=function(e){!b&&u&&u(e,-1)},E={};switch(f){case"rtl":E.right="".concat(100*S,"%"),E.width="".concat(100*C-100*S,"%");break;case"btt":E.bottom="".concat(100*S,"%"),E.height="".concat(100*C-100*S,"%");break;case"ttb":E.top="".concat(100*S,"%"),E.height="".concat(100*C-100*S,"%");break;default:E.left="".concat(100*S,"%"),E.width="".concat(100*C-100*S,"%")}var I=c||g()(w,(o(t={},"".concat(w,"-").concat(s+1),null!==s&&h),o(t,"".concat(n,"-track-draggable"),u),t),y.track);return p.createElement("div",{className:I,style:a(a({},E),r),onMouseDown:x,onTouchStart:x})}function U(e){var t=e.prefixCls,n=e.style,r=e.values,o=e.startPoint,i=e.onStartMove,l=p.useContext(R),s=l.included,u=l.range,c=l.min,d=l.styles,f=l.classNames,m=p.useMemo((function(){if(!u){if(0===r.length)return[];var e=null!=o?o:c,t=r[0];return[{start:Math.min(e,t),end:Math.max(e,t)}]}for(var n=[],i=0;i<r.length-1;i+=1)n.push({start:r[i],end:r[i+1]});return n}),[r,u,o,c]),v=null;return(f.tracks||d.tracks)&&(v=p.createElement(z,{index:null,prefixCls:t,start:m[0].start,end:m[m.length-1].end,replaceCls:g()(f.tracks,"".concat(t,"-tracks")),style:d.tracks})),s?p.createElement(p.Fragment,null,v,m.map((function(e,r){var o=e.start,l=e.end;return p.createElement(z,{index:r,prefixCls:t,style:a(a({},N(n,r)),d.track),start:o,end:l,key:r,onStartMove:i})}))):null}const $=p.forwardRef((function(e,t){var n,i=e.prefixCls,l=void 0===i?"rc-slider":i,s=e.className,d=e.style,m=e.classNames,y=e.styles,w=e.disabled,S=void 0!==w&&w,C=e.keyboard,x=void 0===C||C,E=e.autoFocus,O=e.onFocus,D=e.onBlur,P=e.min,A=void 0===P?0:P,M=e.max,F=void 0===M?100:M,N=e.step,B=void 0===N?1:N,T=e.value,L=e.defaultValue,V=e.range,H=e.count,z=e.onChange,$=e.onBeforeChange,W=e.onAfterChange,q=e.onChangeComplete,K=e.allowCross,X=void 0===K||K,Y=e.pushable,J=void 0!==Y&&Y,Q=e.draggableTrack,Z=e.reverse,ee=e.vertical,te=e.included,ne=void 0===te||te,re=e.startPoint,oe=e.trackStyle,ie=e.handleStyle,ae=e.railStyle,le=e.dotStyle,se=e.activeDotStyle,ue=e.marks,ce=e.dots,de=e.handleRender,ge=e.tabIndex,pe=void 0===ge?0:ge,fe=e.ariaLabelForHandle,me=e.ariaLabelledByForHandle,ve=e.ariaValueTextFormatterForHandle,be=p.useRef(),he=p.useRef(),ye=p.useMemo((function(){return ee?Z?"ttb":"btt":Z?"rtl":"ltr"}),[Z,ee]),we=p.useMemo((function(){return isFinite(A)?A:0}),[A]),Se=p.useMemo((function(){return isFinite(F)?F:100}),[F]),Ce=p.useMemo((function(){return null!==B&&B<=0?1:B}),[B]),xe=p.useMemo((function(){return"boolean"==typeof J?!!J&&Ce:J>=0&&J}),[J,Ce]),Ee=p.useMemo((function(){return Object.keys(ue||{}).map((function(e){var t=ue[e],n={value:Number(e)};return t&&"object"===r(t)&&!p.isValidElement(t)&&("label"in t||"style"in t)?(n.style=t.style,n.label=t.label):n.label=t,n})).filter((function(e){var t=e.label;return t||"number"==typeof t})).sort((function(e,t){return e.value-t.value}))}),[ue]),Ie=function(e,t,n,r,o,i){var a=p.useCallback((function(n){var r=isFinite(n);return r=Math.min(t,n),Math.max(e,r)}),[e,t]),l=p.useCallback((function(r){if(null!==n){var o=e+Math.round((a(r)-e)/n)*n,i=function(e){return(String(e).split(".")[1]||"").length},l=Math.max(i(n),i(t),i(e)),s=Number(o.toFixed(l));return e<=s&&s<=t?s:null}return null}),[n,e,t,a]),s=p.useCallback((function(o){var i=a(o),s=r.map((function(e){return e.value}));null!==n&&s.push(l(o)),s.push(e,t);var u=s[0],c=t-e;return s.forEach((function(e){var t=Math.abs(i-e);t<=c&&(u=e,c=t)})),u}),[e,t,r,n,a,l]),c=function o(i,a,s){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit";if("number"==typeof a){var d,g=i[s],p=g+a,f=[];r.forEach((function(e){f.push(e.value)})),f.push(e,t),f.push(l(g));var m=a>0?1:-1;"unit"===c?f.push(l(g+m*n)):f.push(l(p)),f=f.filter((function(e){return null!==e})).filter((function(e){return a<0?e<=g:e>=g})),"unit"===c&&(f=f.filter((function(e){return e!==g})));var v="unit"===c?g:p;d=f[0];var b=Math.abs(d-v);if(f.forEach((function(e){var t=Math.abs(e-v);t<b&&(d=e,b=t)})),void 0===d)return a<0?e:t;if("dist"===c)return d;if(Math.abs(a)>1){var h=u(i);return h[s]=d,o(h,a-m,s,c)}return d}return"min"===a?e:"max"===a?t:void 0},d=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",o=e[n],i=c(e,t,n,r);return{value:i,changed:i!==o}},g=function(e){return null===i&&0===e||"number"==typeof i&&e<i};return[s,function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",a=e.map(s),l=a[n],u=c(a,t,n,r);if(a[n]=u,!1===o){var p=i||0;n>0&&a[n-1]!==l&&(a[n]=Math.max(a[n],a[n-1]+p)),n<a.length-1&&a[n+1]!==l&&(a[n]=Math.min(a[n],a[n+1]-p))}else if("number"==typeof i||null===i){for(var f=n+1;f<a.length;f+=1)for(var m=!0;g(a[f]-a[f-1])&&m;){var v=d(a,1,f);a[f]=v.value,m=v.changed}for(var b=n;b>0;b-=1)for(var h=!0;g(a[b]-a[b-1])&&h;){var y=d(a,-1,b-1);a[b-1]=y.value,h=y.changed}for(var w=a.length-1;w>0;w-=1)for(var S=!0;g(a[w]-a[w-1])&&S;){var C=d(a,-1,w-1);a[w-1]=C.value,S=C.changed}for(var x=0;x<a.length-1;x+=1)for(var E=!0;g(a[x+1]-a[x])&&E;){var I=d(a,1,x+1);a[x+1]=I.value,E=I.changed}}return{value:a[n],values:a}}]}(we,Se,Ce,Ee,X,xe),Re=c(Ie,2),Oe=Re[0],De=Re[1],Pe=function(e,t){var n=t||{},r=n.defaultValue,o=n.value,i=n.onChange,a=n.postState,l=c(b((function(){return h(o)?o:h(r)?"function"==typeof r?r():r:"function"==typeof e?e():e})),2),s=l[0],u=l[1],d=void 0!==o?o:s,g=a?a(d):d,p=f(i),m=c(b([d]),2),y=m[0],w=m[1];return v((function(){var e=y[0];s!==e&&p(s,e)}),[y]),v((function(){h(o)||u(o)}),[o]),[g,f((function(e,t){u(e,t),w([d],t)}))]}(L,{value:T}),Ae=c(Pe,2),Me=Ae[0],Fe=Ae[1],Ne=p.useMemo((function(){var e=null==Me?[]:Array.isArray(Me)?Me:[Me],t=c(e,1)[0],n=null===Me?[]:[void 0===t?we:t];if(V){if(n=u(e),H||void 0===Me){var r=H>=0?H+1:2;for(n=n.slice(0,r);n.length<r;){var o;n.push(null!==(o=n[n.length-1])&&void 0!==o?o:we)}}n.sort((function(e,t){return e-t}))}return n.forEach((function(e,t){n[t]=Oe(e)})),n}),[Me,V,we,H,Oe]),Be=p.useRef(Ne);Be.current=Ne;var Te=function(e){return V?e:e[0]},Le=function(e){var t=u(e).sort((function(e,t){return e-t}));z&&!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=new Set;return function e(t,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,l=o.has(t);if(I(!l,"Warning: There may be circular references"),l)return!1;if(t===i)return!0;if(n&&a>1)return!1;o.add(t);var s=a+1;if(Array.isArray(t)){if(!Array.isArray(i)||t.length!==i.length)return!1;for(var u=0;u<t.length;u++)if(!e(t[u],i[u],s))return!1;return!0}if(t&&i&&"object"===r(t)&&"object"===r(i)){var c=Object.keys(t);return c.length===Object.keys(i).length&&c.every((function(n){return e(t[n],i[n],s)}))}return!1}(e,t)}(t,Be.current,!0)&&z(Te(t)),Fe(t)},_e=function(){null==W||W(Te(Be.current)),I(!W,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),null==q||q(Te(Be.current))},ke=function(e,t,n,r,o,i,a,l,s){var d=c(p.useState(null),2),g=d[0],f=d[1],m=c(p.useState(-1),2),v=m[0],b=m[1],h=c(p.useState(n),2),y=h[0],w=h[1],S=c(p.useState(n),2),C=S[0],x=S[1],E=p.useRef(null),I=p.useRef(null);p.useEffect((function(){-1===v&&w(n)}),[n,v]),p.useEffect((function(){return function(){document.removeEventListener("mousemove",E.current),document.removeEventListener("mouseup",I.current),document.removeEventListener("touchmove",E.current),document.removeEventListener("touchend",I.current)}}),[]);var R=function(e,t){y.some((function(t,n){return t!==e[n]}))&&(void 0!==t&&f(t),w(e),a(e))},O=function(e,t){if(-1===e){var n=C[0],a=C[C.length-1],l=r-n,c=o-a,d=t*(o-r);d=Math.max(d,l),d=Math.min(d,c);var g=i(n+d);d=g-n;var p=C.map((function(e){return e+d}));R(p)}else{var f=(o-r)*t,m=u(y);m[e]=C[e];var v=s(m,f,e,"dist");R(v.values,v.value)}},D=p.useRef(O);D.current=O;var P=p.useMemo((function(){var e=u(n).sort((function(e,t){return e-t})),t=u(y).sort((function(e,t){return e-t}));return e.every((function(e,n){return e===t[n]}))?y:n}),[n,y]);return[v,g,P,function(r,o,i){r.stopPropagation();var a=i||n,s=a[o];b(o),f(s),x(a);var u=k(r),c=u.pageX,d=u.pageY,g=function(n){n.preventDefault();var r,i=k(n),a=i.pageX,l=i.pageY,s=a-c,u=l-d,g=e.current.getBoundingClientRect(),p=g.width,f=g.height;switch(t){case"btt":r=-u/f;break;case"ttb":r=u/f;break;case"rtl":r=-s/p;break;default:r=s/p}D.current(o,r)},p=function e(t){t.preventDefault(),document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",g),document.removeEventListener("touchend",e),document.removeEventListener("touchmove",g),E.current=null,I.current=null,b(-1),l()};document.addEventListener("mouseup",p),document.addEventListener("mousemove",g),document.addEventListener("touchend",p),document.addEventListener("touchmove",g),E.current=g,I.current=p}]}(he,ye,Ne,we,Se,Oe,Le,_e,De),Ve=c(ke,4),Ge=Ve[0],He=Ve[1],je=Ve[2],ze=Ve[3],Ue=function(e,t){if(!S){var n=0,r=Se-we;Ne.forEach((function(t,o){var i=Math.abs(e-t);i<=r&&(r=i,n=o)}));var o=u(Ne);o[n]=e,V&&!Ne.length&&void 0===H&&o.push(e),null==$||$(Te(o)),Le(o),t&&ze(t,n,o)}},$e=c(p.useState(null),2),We=$e[0],qe=$e[1];p.useEffect((function(){if(null!==We){var e=Ne.indexOf(We);e>=0&&be.current.focus(e)}qe(null)}),[We]);var Ke=p.useMemo((function(){return(!Q||null!==Ce)&&Q}),[Q,Ce]),Xe=function(e,t){ze(e,t),null==$||$(Te(Be.current))},Ye=-1!==Ge;p.useEffect((function(){if(!Ye){var e=Ne.lastIndexOf(He);be.current.focus(e)}}),[Ye]);var Je=p.useMemo((function(){return u(je).sort((function(e,t){return e-t}))}),[je]),Qe=c(p.useMemo((function(){return V?[Je[0],Je[Je.length-1]]:[we,Je[0]]}),[Je,V,we]),2),Ze=Qe[0],et=Qe[1];p.useImperativeHandle(t,(function(){return{focus:function(){be.current.focus(0)},blur:function(){var e=document.activeElement;he.current.contains(e)&&(null==e||e.blur())}}})),p.useEffect((function(){E&&be.current.focus(0)}),[]);var tt=p.useMemo((function(){return{min:we,max:Se,direction:ye,disabled:S,keyboard:x,step:Ce,included:ne,includedStart:Ze,includedEnd:et,range:V,tabIndex:pe,ariaLabelForHandle:fe,ariaLabelledByForHandle:me,ariaValueTextFormatterForHandle:ve,styles:y||{},classNames:m||{}}}),[we,Se,ye,S,x,Ce,ne,Ze,et,V,pe,fe,me,ve,y,m]);return p.createElement(R.Provider,{value:tt},p.createElement("div",{ref:he,className:g()(l,s,(n={},o(n,"".concat(l,"-disabled"),S),o(n,"".concat(l,"-vertical"),ee),o(n,"".concat(l,"-horizontal"),!ee),o(n,"".concat(l,"-with-marks"),Ee.length),n)),style:d,onMouseDown:function(e){e.preventDefault();var t,n=he.current.getBoundingClientRect(),r=n.width,o=n.height,i=n.left,a=n.top,l=n.bottom,s=n.right,u=e.clientX,c=e.clientY;switch(ye){case"btt":t=(l-c)/o;break;case"ttb":t=(c-a)/o;break;case"rtl":t=(s-u)/r;break;default:t=(u-i)/r}Ue(Oe(we+t*(Se-we)),e)}},p.createElement("div",{className:g()("".concat(l,"-rail"),null==m?void 0:m.rail),style:a(a({},ae),null==y?void 0:y.rail)}),p.createElement(U,{prefixCls:l,style:oe,values:Je,startPoint:re,onStartMove:Ke?Xe:null}),p.createElement(j,{prefixCls:l,marks:Ee,dots:ce,style:le,activeStyle:se}),p.createElement(_,{ref:be,prefixCls:l,style:ie,values:je,draggingIndex:Ge,onStartMove:Xe,onOffsetChange:function(e,t){if(!S){var n=De(Ne,e,t);null==$||$(Te(Ne)),Le(n.values),qe(n.value)}},onFocus:O,onBlur:D,handleRender:de,onChangeComplete:_e}),p.createElement(G,{prefixCls:l,marks:Ee,onClick:Ue})))}))},89:e=>{"use strict";e.exports=n},470:e=>{"use strict";e.exports=i},781:t=>{"use strict";t.exports=e},531:e=>{"use strict";e.exports=t},7:e=>{"use strict";e.exports=r},241:e=>{"use strict";e.exports=u},959:e=>{"use strict";e.exports=o},398:e=>{"use strict";e.exports=s},200:e=>{"use strict";e.exports=l},694:e=>{"use strict";e.exports=a},452:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,i(n)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},102:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{A:()=>r})}},d={};function g(e){var t=d[e];if(void 0!==t)return t.exports;var n=d[e]={exports:{}};return c[e](n,n.exports,g),n.exports}g.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return g.d(t,{a:t}),t},g.d=(e,t)=>{for(var n in t)g.o(t,n)&&!g.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},g.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),g.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var p={};return(()=>{"use strict";g.r(p),g.d(p,{plugin:()=>Ol});var e=g(781),t=g(531),n=g(89),r=g(7),o=g(774),i=g(959),a=g.n(i);function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,l(e,t)}var u=g(102),c=g(694),d=g(200);function f(e,t){var n=(0,i.useState)((function(){return{inputs:t,result:e()}}))[0],r=(0,i.useRef)(!0),o=(0,i.useRef)(n),a=r.current||Boolean(t&&o.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,o.current.inputs))?o.current:{inputs:t,result:e()};return(0,i.useEffect)((function(){r.current=!1,o.current=a}),[a]),a.result}var m=f,v=function(e,t){return f((function(){return e}),t)},b=function(e){var t=e.top,n=e.right,r=e.bottom,o=e.left;return{top:t,right:n,bottom:r,left:o,width:n-o,height:r-t,x:o,y:t,center:{x:(n+o)/2,y:(r+t)/2}}},h=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},y=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},w={top:0,right:0,bottom:0,left:0},S=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?w:n,o=e.border,i=void 0===o?w:o,a=e.padding,l=void 0===a?w:a,s=b(h(t,r)),u=b(y(t,i)),c=b(y(u,l));return{marginBox:s,borderBox:b(t),paddingBox:u,contentBox:c,margin:r,border:i,padding:l}},C=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(e,t){throw new Error("Invariant failed")}(),n},x=function(e,t){var n,r,o=e.borderBox,i=e.border,a=e.margin,l=e.padding,s=(r=t,{top:(n=o).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return S({borderBox:s,border:i,margin:a,padding:l})},E=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),x(e,t)},I=function(e,t){var n={top:C(t.marginTop),right:C(t.marginRight),bottom:C(t.marginBottom),left:C(t.marginLeft)},r={top:C(t.paddingTop),right:C(t.paddingRight),bottom:C(t.paddingBottom),left:C(t.paddingLeft)},o={top:C(t.borderTopWidth),right:C(t.borderRightWidth),bottom:C(t.borderBottomWidth),left:C(t.borderLeftWidth)};return S({borderBox:e,margin:n,padding:r,border:o})},R=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return I(t,n)},O=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function D(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!((r=e[n])===(o=t[n])||O(r)&&O(o)))return!1;var r,o;return!0}const P=function(e,t){var n;void 0===t&&(t=D);var r,o=[],i=!1;return function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return i&&n===this&&t(a,o)||(r=e.apply(this,a),i=!0,n=this,o=a),r}},A=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t=o,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};var M=g(398),F=g.n(M);function N(e,t){}function B(){}function T(e,t,n){var r=t.map((function(t){var r,o,i=(r=n,o=t.options,(0,u.A)({},r,{},o));return e.addEventListener(t.eventName,t.fn,i),function(){e.removeEventListener(t.eventName,t.fn,i)}}));return function(){r.forEach((function(e){e()}))}}N.bind(null,"warn"),N.bind(null,"error");var L=!0,_="Invariant failed";function k(e){this.message=e}function V(e,t){if(!e)throw new k(L?_:_+": "+(t||""))}k.prototype.toString=function(){return this.message};var G=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=B,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof k&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}s(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=T(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof k))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(a().Component),H=function(e){return e+1},j=function(e,t){var n=e.droppableId===t.droppableId,r=H(e.index),o=H(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+o+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+o+"\n  "},z=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},U=function(e){return"\n  The item has returned to its starting position\n  of "+H(e.index)+"\n"},$=function(e){return"\n  You have lifted an item in position "+H(e.source.index)+"\n"},W=function(e){var t=e.destination;if(t)return j(e.source,t);var n=e.combine;return n?z(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},q=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+U(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+j(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+z(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+U(e.source)+"\n  "},K={x:0,y:0},X=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},Y=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},J=function(e,t){return e.x===t.x&&e.y===t.y},Q=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},Z=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},ee=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},te=function(e,t){return Math.min.apply(Math,t.map((function(t){return ee(e,t)})))},ne=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},re=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},oe=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},ie=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=b({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):b(e)},ae=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,o=e.frame,i=function(e,t){return t?re(e,t.scroll.diff.displacement):e}(t.marginBox,o),a=function(e,t,n){var r;return n&&n.increasedBy?(0,u.A)({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(i,r,n);return{page:t,withPlaceholder:n,active:ie(a,o)}},le=function(e,t){e.frame||V(!1);var n=e.frame,r=Y(t,n.scroll.initial),o=Q(r),i=(0,u.A)({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:o},max:n.scroll.max}}),a=ae({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i});return(0,u.A)({},e,{frame:i,subject:a})};function se(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function ue(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function ce(e,t){if(e.find)return e.find(t);var n=ue(e,t);return-1!==n?e[n]:void 0}function de(e){return Array.prototype.slice.call(e)}var ge=P((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),pe=P((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),fe=P((function(e){return se(e)})),me=P((function(e){return se(e)})),ve=P((function(e,t){var n=me(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}));return n}));function be(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function he(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var ye=P((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),we=function(e,t){return e.descriptor.droppableId===t.descriptor.id},Se={point:K,value:0},Ce={invisible:{},visible:{},all:[]},xe={displaced:Ce,displacedBy:Se,at:null},Ee=function(e,t){return function(n){return e<=n&&n<=t}},Ie=function(e){var t=Ee(e.top,e.bottom),n=Ee(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var o=t(r.top)||t(r.bottom),i=n(r.left)||n(r.right);if(o&&i)return!0;var a=r.top<e.top&&r.bottom>e.bottom,l=r.left<e.left&&r.right>e.right;return!(!a||!l)||a&&i||l&&o}},Re=function(e){var t=Ee(e.top,e.bottom),n=Ee(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},Oe={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},De={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Pe=function(e){var t=e.target,n=e.destination,r=e.viewport,o=e.withDroppableDisplacement,i=e.isVisibleThroughFrameFn,a=o?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:K;return re(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(a,n,i)&&function(e,t,n){return n(t)(e)}(a,r,i)},Ae=function(e){return Pe((0,u.A)({},e,{isVisibleThroughFrameFn:Ie}))},Me=function(e){return Pe((0,u.A)({},e,{isVisibleThroughFrameFn:Re}))},Fe=function(e,t,n){if("boolean"==typeof n)return n;if(!t)return!0;var r=t.invisible,o=t.visible;if(r[e])return!1;var i=o[e];return!i||i.shouldAnimate};function Ne(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,o=e.viewport,i=e.forceShouldAnimate,a=e.last;return t.reduce((function(e,t){var l=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return b(h(n,r))}(t,r),s=t.descriptor.id;if(e.all.push(s),!Ae({target:l,destination:n,viewport:o,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var u={draggableId:s,shouldAnimate:Fe(s,a,i)};return e.visible[s]=u,e}),{all:[],visible:{},invisible:{}})}function Be(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,o=e.destination,i=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:Ce,displacedBy:r,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:i}}}}function Te(e){var t=e.draggable,n=e.insideDestination,r=e.destination,o=e.viewport,i=e.displacedBy,a=e.last,l=e.index,s=e.forceShouldAnimate,u=we(t,r);if(null==l)return Be({insideDestination:n,inHomeList:u,displacedBy:i,destination:r});var c=ce(n,(function(e){return e.descriptor.index===l}));if(!c)return Be({insideDestination:n,inHomeList:u,displacedBy:i,destination:r});var d=ye(t,n),g=n.indexOf(c);return{displaced:Ne({afterDragging:d.slice(g),destination:r,displacedBy:i,last:a,viewport:o.frame,forceShouldAnimate:s}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:l}}}}function Le(e,t){return Boolean(t.effected[e])}var _e=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},ke=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},Ve=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return Z(t.line,n.marginBox[t.end]+_e(t,r),ke(t,n.marginBox,r))},Ge=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return Z(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),ke(t,n.marginBox,r))},He=function(e,t){var n=e.frame;return n?X(t,n.scroll.diff.displacement):t},je=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,o=e.draggables,i=e.afterCritical,a=n.page.borderBox.center,l=t.at;return r&&l?"REORDER"===l.type?function(e){var t=e.impact,n=e.draggable,r=e.draggables,o=e.droppable,i=e.afterCritical,a=ve(o.descriptor.id,r),l=n.page,s=o.axis;if(!a.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return Z(t.line,n.contentBox[t.start]+_e(t,r),ke(t,n.contentBox,r))}({axis:s,moveInto:o.page,isMoving:l});var u=t.displaced,c=t.displacedBy,d=u.all[0];if(d){var g=r[d];if(Le(d,i))return Ge({axis:s,moveRelativeTo:g.page,isMoving:l});var p=x(g.page,c.point);return Ge({axis:s,moveRelativeTo:p,isMoving:l})}var f=a[a.length-1];if(f.descriptor.id===n.descriptor.id)return l.borderBox.center;if(Le(f.descriptor.id,i)){var m=x(f.page,Q(i.displacedBy.point));return Ve({axis:s,moveRelativeTo:m,isMoving:l})}return Ve({axis:s,moveRelativeTo:f.page,isMoving:l})}({impact:t,draggable:n,draggables:o,droppable:r,afterCritical:i}):function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,o=he(n);o||V(!1);var i=o.draggableId,a=r[i].page.borderBox.center,l=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,o=e.displacedBy,i=Boolean(t.visible[r]||t.invisible[r]);return Le(r,n)?i?K:Q(o.point):i?o.point:K}({displaced:n.displaced,afterCritical:t,combineWith:i,displacedBy:n.displacedBy});return X(a,l)}({impact:t,draggables:o,afterCritical:i}):a}(e),n=e.droppable;return n?He(n,t):t},ze=function(e,t){var n=Y(t,e.scroll.initial),r=Q(n);return{frame:b({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function Ue(e,t){return e.map((function(e){return t[e]}))}var $e=function(e){var t,n,r=e.pageBorderBoxCenter,o=e.draggable,i=(t=e.viewport,n=r,X(t.scroll.diff.displacement,n)),a=Y(i,o.page.borderBox.center);return X(o.client.borderBox.center,a)},We=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,o=e.viewport,i=e.withDroppableDisplacement,a=e.onlyOnMainAxis,l=void 0!==a&&a,s=Y(r,t.page.borderBox.center),c={target:re(t.page.borderBox,s),destination:n,withDroppableDisplacement:i,viewport:o};return l?function(e){return Pe((0,u.A)({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=Ee(e.top,e.bottom),r=Ee(e.left,e.right);return function(e){return t===Oe?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(c):Me(c)},qe=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,o=e.draggables,i=e.previousImpact,a=e.viewport,l=e.previousPageBorderBoxCenter,s=e.previousClientSelection,c=e.afterCritical;if(!r.isEnabled)return null;var d=ve(r.descriptor.id,o),g=we(n,r),p=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,o=e.insideDestination,i=e.previousImpact;if(!r.isCombineEnabled)return null;if(!be(i))return null;function a(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return(0,u.A)({},i,{at:t})}var l=i.displaced.all,s=l.length?l[0]:null;if(t)return s?a(s):null;var c=ye(n,o);if(!s)return c.length?a(c[c.length-1].descriptor.id):null;var d=ue(c,(function(e){return e.descriptor.id===s}));-1===d&&V(!1);var g=d-1;return g<0?null:a(c[g].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:d,previousImpact:i})||function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,o=e.draggables,i=e.destination,a=e.insideDestination,l=e.previousImpact,s=e.viewport,u=e.afterCritical,c=l.at;if(c||V(!1),"REORDER"===c.type){var d=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,o=e.location;if(!r.length)return null;var i=o.index,a=t?i+1:i-1,l=r[0].descriptor.index,s=r[r.length-1].descriptor.index;return a<l||a>(n?s:s+1)?null:a}({isMovingForward:t,isInHomeList:n,location:c.destination,insideDestination:a});return null==d?null:Te({draggable:r,insideDestination:a,destination:i,viewport:s,last:l.displaced,displacedBy:l.displacedBy,index:d})}var g=function(e){var t=e.isMovingForward,n=e.draggables,r=e.combine,o=e.afterCritical;if(!e.destination.isCombineEnabled)return null;var i=r.draggableId,a=n[i].descriptor.index;return Le(i,o)?t?a:a-1:t?a+1:a}({isMovingForward:t,destination:i,displaced:l.displaced,draggables:o,combine:c.combine,afterCritical:u});return null==g?null:Te({draggable:r,insideDestination:a,destination:i,viewport:s,last:l.displaced,displacedBy:l.displacedBy,index:g})}({isMovingForward:t,isInHomeList:g,draggable:n,draggables:o,destination:r,insideDestination:d,previousImpact:i,viewport:a,afterCritical:c});if(!p)return null;var f=je({impact:p,draggable:n,droppable:r,draggables:o,afterCritical:c});if(We({draggable:n,destination:r,newPageBorderBoxCenter:f,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:$e({pageBorderBoxCenter:f,draggable:n,viewport:a}),impact:p,scrollJumpRequest:null};var m=Y(f,l),v=function(e){var t=e.impact,n=e.viewport,r=e.destination,o=e.draggables,i=e.maxScrollChange,a=ze(n,X(n.scroll.current,i)),l=r.frame?le(r,X(r.frame.scroll.current,i)):r,s=t.displaced,c=Ne({afterDragging:Ue(s.all,o),destination:r,displacedBy:t.displacedBy,viewport:a.frame,last:s,forceShouldAnimate:!1}),d=Ne({afterDragging:Ue(s.all,o),destination:l,displacedBy:t.displacedBy,viewport:n.frame,last:s,forceShouldAnimate:!1}),g={},p={},f=[s,c,d];return s.all.forEach((function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,f);t?p[e]=t:g[e]=!0})),(0,u.A)({},t,{displaced:{all:s.all,invisible:g,visible:p}})}({impact:p,viewport:a,destination:r,draggables:o,maxScrollChange:m});return{clientSelection:s,impact:v,scrollJumpRequest:m}},Ke=function(e){var t=e.subject.active;return t||V(!1),t},Xe=function(e,t){var n=e.page.borderBox.center;return Le(e.descriptor.id,t)?Y(n,t.displacedBy.point):n},Ye=function(e,t){var n=e.page.borderBox;return Le(e.descriptor.id,t)?re(n,Q(t.displacedBy.point)):n},Je=P((function(e,t){var n=t[e.line];return{value:n,point:Z(e.line,n)}})),Qe=function(e,t){return(0,u.A)({},e,{scroll:(0,u.A)({},e.scroll,{max:t})})},Ze=function(e,t,n){var r=e.frame;we(t,e)&&V(!1),e.subject.withPlaceholder&&V(!1);var o=Je(e.axis,t.displaceBy).point,i=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return Z(r.line,t[r.line]);var o=e.subject.page.contentBox[r.size],i=ve(e.descriptor.id,n).reduce((function(e,t){return e+t.client.marginBox[r.size]}),0)+t[r.line]-o;return i<=0?null:Z(r.line,i)}(e,o,n),a={placeholderSize:o,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){var l=ae({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return(0,u.A)({},e,{subject:l})}var s=i?X(r.scroll.max,i):r.scroll.max,c=Qe(r,s),d=ae({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:c});return(0,u.A)({},e,{subject:d,frame:c})},et=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},tt=function(e){var t=e.state,n=e.type,r=function(e,t){var n=et(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),o=Boolean(r),i=t.dimensions.droppables[t.critical.droppable.id],a=r||i,l=a.axis.direction,s="vertical"===l&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===l&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(s&&!o)return null;var u="MOVE_DOWN"===n||"MOVE_RIGHT"===n,c=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,g=t.dimensions,p=g.draggables,f=g.droppables;return s?qe({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:c,destination:a,draggables:p,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,o=e.isOver,i=e.draggables,a=e.droppables,l=e.viewport,s=e.afterCritical,u=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,o=e.droppables,i=e.viewport,a=r.subject.active;if(!a)return null;var l=r.axis,s=Ee(a[l.start],a[l.end]),u=fe(o).filter((function(e){return e!==r})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return Ie(i.frame)(Ke(e))})).filter((function(e){var n=Ke(e);return t?a[l.crossAxisEnd]<n[l.crossAxisEnd]:n[l.crossAxisStart]<a[l.crossAxisStart]})).filter((function(e){var t=Ke(e),n=Ee(t[l.start],t[l.end]);return s(t[l.start])||s(t[l.end])||n(a[l.start])||n(a[l.end])})).sort((function(e,n){var r=Ke(e)[l.crossAxisStart],o=Ke(n)[l.crossAxisStart];return t?r-o:o-r})).filter((function(e,t,n){return Ke(e)[l.crossAxisStart]===Ke(n[0])[l.crossAxisStart]}));if(!u.length)return null;if(1===u.length)return u[0];var c=u.filter((function(e){return Ee(Ke(e)[l.start],Ke(e)[l.end])(n[l.line])}));return 1===c.length?c[0]:c.length>1?c.sort((function(e,t){return Ke(e)[l.start]-Ke(t)[l.start]}))[0]:u.sort((function(e,t){var r=te(n,oe(Ke(e))),o=te(n,oe(Ke(t)));return r!==o?r-o:Ke(e)[l.start]-Ke(t)[l.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:o,droppables:a,viewport:l});if(!u)return null;var c=ve(u.descriptor.id,i),d=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,o=e.afterCritical,i=e.insideDestination.filter((function(e){return Me({target:Ye(e,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})})).sort((function(e,n){var i=ee(t,He(r,Xe(e,o))),a=ee(t,He(r,Xe(n,o)));return i<a?-1:a<i?1:e.descriptor.index-n.descriptor.index}));return i[0]||null}({pageBorderBoxCenter:n,viewport:l,destination:u,insideDestination:c,afterCritical:s}),g=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,o=e.draggable,i=e.draggables,a=e.destination,l=e.viewport,s=e.afterCritical;if(!n){if(r.length)return null;var u={displaced:Ce,displacedBy:Se,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},c=je({impact:u,draggable:o,droppable:a,draggables:i,afterCritical:s}),d=we(o,a)?a:Ze(a,o,i);return We({draggable:o,destination:d,newPageBorderBoxCenter:c,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?u:null}var g,p=Boolean(t[a.axis.line]<=n.page.borderBox.center[a.axis.line]),f=(g=n.descriptor.index,n.descriptor.id===o.descriptor.id||p?g:g+1);return Te({draggable:o,insideDestination:r,destination:a,viewport:l,displacedBy:Je(a.axis,o.displaceBy),last:Ce,index:f})}({previousPageBorderBoxCenter:n,destination:u,draggable:r,draggables:i,moveRelativeTo:d,insideDestination:c,viewport:l,afterCritical:s});if(!g)return null;var p=je({impact:g,draggable:r,droppable:u,draggables:i,afterCritical:s});return{clientSelection:$e({pageBorderBoxCenter:p,draggable:r,viewport:l}),impact:g,scrollJumpRequest:null}}({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:c,isOver:a,draggables:p,droppables:f,viewport:t.viewport,afterCritical:t.afterCritical})};function nt(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function rt(e){var t=Ee(e.top,e.bottom),n=Ee(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}var ot=function(e,t){return b(re(e,t))};function it(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var at=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,o=e.droppables,i=e.previousImpact,a=e.viewport,l=e.afterCritical,s=ot(n.page.borderBox,t),u=function(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,o=fe(r).filter((function(e){if(!e.isEnabled)return!1;var n,r,o=e.subject.active;if(!o)return!1;if(r=o,!((n=t).left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top))return!1;if(rt(o)(t.center))return!0;var i=e.axis,a=o.center[i.crossAxisLine],l=t[i.crossAxisStart],s=t[i.crossAxisEnd],u=Ee(o[i.crossAxisStart],o[i.crossAxisEnd]),c=u(l),d=u(s);return!c&&!d||(c?l<a:s>a)}));return o.length?1===o.length?o[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.candidates,r=e.draggable.page.borderBox.center,o=n.map((function(e){var n=e.axis,o=Z(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:ee(r,o)}})).sort((function(e,t){return t.distance-e.distance}));return o[0]?o[0].id:null}({pageBorderBox:t,draggable:n,candidates:o}):null}({pageBorderBox:s,draggable:n,droppables:o});if(!u)return xe;var c=o[u],d=ve(c.descriptor.id,r),g=function(e,t){var n=e.frame;return n?ot(t,n.scroll.diff.value):t}(c,s);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,o=e.destination,i=e.insideDestination,a=e.afterCritical;if(!o.isCombineEnabled)return null;var l=o.axis,s=Je(o.axis,t.displaceBy),u=s.value,c=n[l.start],d=n[l.end],g=ce(ye(t,i),(function(e){var t=e.descriptor.id,n=e.page.borderBox,o=n[l.size]/4,i=Le(t,a),s=it({displaced:r.displaced,id:t});return i?s?d>n[l.start]+o&&d<n[l.end]-o:c>n[l.start]-u+o&&c<n[l.end]-u-o:s?d>n[l.start]+u+o&&d<n[l.end]+u-o:c>n[l.start]+o&&c<n[l.end]-o}));return g?{displacedBy:s,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:g.descriptor.id,droppableId:o.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:g,draggable:n,previousImpact:i,destination:c,insideDestination:d,afterCritical:l})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,o=e.insideDestination,i=e.last,a=e.viewport,l=e.afterCritical,s=r.axis,u=Je(r.axis,n.displaceBy),c=u.value,d=t[s.start],g=t[s.end],p=function(e){var t=e.draggable,n=e.closest;return n?e.inHomeList&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:ce(ye(n,o),(function(e){var t=e.descriptor.id,n=e.page.borderBox.center[s.line],r=Le(t,l),o=it({displaced:i,id:t});return r?o?g<=n:d<n-c:o?g<=n+c:d<n})),inHomeList:we(n,r)});return Te({draggable:n,insideDestination:o,destination:r,viewport:a,last:i,displacedBy:u,index:p})}({pageBorderBoxWithDroppableScroll:g,draggable:n,destination:c,insideDestination:d,last:i.displaced,viewport:a,afterCritical:l})},lt=function(e,t){var n;return(0,u.A)({},e,((n={})[t.descriptor.id]=t,n))},st=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,o=e.viewport,i=e.impact,a=e.scrollJumpRequest,l=o||t.viewport,s=r||t.dimensions,c=n||t.current.client.selection,d=Y(c,t.initial.client.selection),g={offset:d,selection:c,borderBoxCenter:X(t.initial.client.borderBoxCenter,d)},p={selection:X(g.selection,l.scroll.current),borderBoxCenter:X(g.borderBoxCenter,l.scroll.current),offset:X(g.offset,l.scroll.diff.value)},f={client:g,page:p};if("COLLECTING"===t.phase)return(0,u.A)({phase:"COLLECTING"},t,{dimensions:s,viewport:l,current:f});var m=s.draggables[t.critical.draggable.id],v=i||at({pageOffset:p.offset,draggable:m,draggables:s.draggables,droppables:s.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),b=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,o=e.impact,i=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,o=et(t),i=et(n);if(!o)return r;if(o===i)return r;var a=r[o];if(!a.subject.withPlaceholder)return r;var l=function(e){var t=e.subject.withPlaceholder;t||V(!1);var n=e.frame;if(!n){var r=ae({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return(0,u.A)({},e,{subject:r})}var o=t.oldFrameMaxScroll;o||V(!1);var i=Qe(n,o),a=ae({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return(0,u.A)({},e,{subject:a,frame:i})}(a);return lt(r,l)}({previousImpact:e.previousImpact,impact:o,droppables:r}),a=et(o);if(!a)return i;var l=r[a];if(we(t,l))return i;if(l.subject.withPlaceholder)return i;var s=Ze(l,t,n);return lt(i,s)}({draggable:m,impact:v,previousImpact:t.impact,draggables:s.draggables,droppables:s.droppables});return(0,u.A)({},t,{current:f,dimensions:{draggables:s.draggables,droppables:b},impact:v,viewport:l,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null})},ut=function(e){var t=e.impact,n=e.viewport,r=e.draggables,o=e.destination,i=e.forceShouldAnimate,a=t.displaced,l=function(e,t){return e.map((function(e){return t[e]}))}(a.all,r),s=Ne({afterDragging:l,destination:o,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:i,last:a});return(0,u.A)({},t,{displaced:s})},ct=function(e){var t=e.impact,n=e.draggable,r=e.droppable,o=e.draggables,i=e.viewport,a=e.afterCritical,l=je({impact:t,draggable:n,draggables:o,droppable:r,afterCritical:a});return $e({pageBorderBoxCenter:l,draggable:n,viewport:i})},dt=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&V(!1);var o=t.impact,i=r||t.viewport,a=n||t.dimensions,l=a.draggables,s=a.droppables,u=l[t.critical.draggable.id],c=et(o);c||V(!1);var d=s[c],g=ut({impact:o,viewport:i,destination:d,draggables:l}),p=ct({impact:g,draggable:u,droppable:d,draggables:l,viewport:i,afterCritical:t.afterCritical});return st({impact:g,clientSelection:p,state:t,dimensions:a,viewport:i})},gt=function(e){var t=e.draggable,n=e.home,r=e.draggables,o=e.viewport,i=Je(n.axis,t.displaceBy),a=ve(n.descriptor.id,r),l=a.indexOf(t);-1===l&&V(!1);var s,u=a.slice(l+1),c=u.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),d={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:i,effected:c};return{impact:{displaced:Ne({afterDragging:u,destination:n,displacedBy:i,last:null,viewport:o.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:(s=t.descriptor,{index:s.index,droppableId:s.droppableId})}},afterCritical:d}},pt=function(e){return"SNAP"===e.movementMode},ft=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:lt(e.droppables,t)}}(e.dimensions,t);return!pt(e)||n?st({state:e,dimensions:r}):dt({state:e,dimensions:r})};function mt(e){return e.isDragging&&"SNAP"===e.movementMode?(0,u.A)({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var vt={phase:"IDLE",completed:null,shouldFlush:!1},bt=function(e,t){if(void 0===e&&(e=vt),"FLUSH"===t.type)return(0,u.A)({},vt,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&V(!1);var n=t.payload,r=n.critical,o=n.clientSelection,i=n.viewport,a=n.dimensions,l=n.movementMode,s=a.draggables[r.draggable.id],c=a.droppables[r.droppable.id],d={selection:o,borderBoxCenter:s.client.borderBox.center,offset:K},g={client:d,page:{selection:X(d.selection,i.scroll.initial),borderBoxCenter:X(d.selection,i.scroll.initial),offset:X(d.selection,i.scroll.diff.value)}},p=fe(a.droppables).every((function(e){return!e.isFixedOnPage})),f=gt({draggable:s,home:c,draggables:a.draggables,viewport:i}),m=f.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:l,dimensions:a,initial:g,current:g,isWindowScrollAllowed:p,impact:m,afterCritical:f.afterCritical,onLiftImpact:m,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&V(!1),(0,u.A)({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&V(!1),function(e){var t=e.state,n=e.published,r=n.modified.map((function(e){var n=t.dimensions.droppables[e.droppableId];return le(n,e.scroll)})),o=(0,u.A)({},t.dimensions.droppables,{},ge(r)),i=pe(function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,o=r.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,i=function(e){var t=e.frame;return t||V(!1),t}(n[t]),a=i.scroll.diff.value,l=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,o=x(t.client,n),i=E(o,r);return(0,u.A)({},t,{placeholder:(0,u.A)({},t.placeholder,{client:o}),client:o,page:i})}({draggable:e,offset:X(o,a),initialWindowScroll:r.scroll.initial});return l}))}({additions:n.additions,updatedDroppables:o,viewport:t.viewport})),a=(0,u.A)({},t.dimensions.draggables,{},i);n.removals.forEach((function(e){delete a[e]}));var l={droppables:o,draggables:a},s=et(t.impact),c=s?l.droppables[s]:null,d=l.draggables[t.critical.draggable.id],g=l.droppables[t.critical.droppable.id],p=gt({draggable:d,home:g,draggables:a,viewport:t.viewport}),f=p.impact,m=p.afterCritical,v=c&&c.isCombineEnabled?t.impact:f,b=at({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:v,viewport:t.viewport,afterCritical:m}),h=(0,u.A)({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:b,onLiftImpact:f,dimensions:l,afterCritical:m,forceShouldAnimate:!1});return"COLLECTING"===t.phase?h:(0,u.A)({phase:"DROP_PENDING"},h,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;nt(e)||V(!1);var v=t.payload.client;return J(v,e.current.client.selection)?e:st({state:e,clientSelection:v,impact:pt(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return mt(e);if("COLLECTING"===e.phase)return mt(e);nt(e)||V(!1);var b=t.payload,h=b.id,y=b.newScroll,w=e.dimensions.droppables[h];if(!w)return e;var S=le(w,y);return ft(e,S,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;nt(e)||V(!1);var C=t.payload,I=C.id,R=C.isEnabled,O=e.dimensions.droppables[I];O||V(!1),O.isEnabled===R&&V(!1);var D=(0,u.A)({},O,{isEnabled:R});return ft(e,D,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;nt(e)||V(!1);var P=t.payload,A=P.id,M=P.isCombineEnabled,F=e.dimensions.droppables[A];F||V(!1),F.isCombineEnabled===M&&V(!1);var N=(0,u.A)({},F,{isCombineEnabled:M});return ft(e,N,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;nt(e)||V(!1),e.isWindowScrollAllowed||V(!1);var B=t.payload.newScroll;if(J(e.viewport.scroll.current,B))return mt(e);var T=ze(e.viewport,B);return pt(e)?dt({state:e,viewport:T}):st({state:e,viewport:T})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!nt(e))return e;var L=t.payload.maxScroll;if(J(L,e.viewport.scroll.max))return e;var _=(0,u.A)({},e.viewport,{scroll:(0,u.A)({},e.viewport.scroll,{max:L})});return(0,u.A)({phase:"DRAGGING"},e,{viewport:_})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&V(!1);var k=tt({state:e,type:t.type});return k?st({state:e,impact:k.impact,clientSelection:k.clientSelection,scrollJumpRequest:k.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var G=t.payload.reason;return"COLLECTING"!==e.phase&&V(!1),(0,u.A)({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:G})}if("DROP_ANIMATE"===t.type){var H=t.payload,j=H.completed,z=H.dropDuration,U=H.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&V(!1),{phase:"DROP_ANIMATING",completed:j,dropDuration:z,newHomeClientOffset:U,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},ht=function(e){return{type:"LIFT",payload:e}},yt=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},wt=function(){return{type:"COLLECTION_STARTING",payload:null}},St=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},Ct=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},xt=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},Et=function(e){return{type:"MOVE",payload:e}},It=function(){return{type:"MOVE_UP",payload:null}},Rt=function(){return{type:"MOVE_DOWN",payload:null}},Ot=function(){return{type:"MOVE_RIGHT",payload:null}},Dt=function(){return{type:"MOVE_LEFT",payload:null}},Pt=function(){return{type:"FLUSH",payload:null}},At=function(e){return{type:"DROP_COMPLETE",payload:e}},Mt=function(e){return{type:"DROP",payload:e}},Ft="cubic-bezier(.2,1,.1,1)",Nt=0,Bt=.7,Tt=.75,Lt="0.2s cubic-bezier(0.2, 0, 0, 1)",_t={fluid:"opacity "+Lt,snap:"transform "+Lt+", opacity "+Lt,drop:function(e){var t=e+"s "+Ft;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+Lt,placeholder:"height "+Lt+", width "+Lt+", margin "+Lt},kt=function(e){return J(e,K)?null:"translate("+e.x+"px, "+e.y+"px)"},Vt=kt,Gt=function(e,t){var n=kt(e);return n?t?n+" scale("+Tt+")":n:null},Ht=.33,jt=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var o=t(),i=r.payload.reason;if("COLLECTING"!==o.phase){if("IDLE"!==o.phase){"DROP_PENDING"===o.phase&&o.isWaiting&&V(!1),"DRAGGING"!==o.phase&&"DROP_PENDING"!==o.phase&&V(!1);var a=o.critical,l=o.dimensions,s=l.draggables[o.critical.draggable.id],c=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,o=e.home,i=e.viewport,a=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:(0,u.A)({},r,{displaced:Ce}),didDropInsideDroppable:!0}:{impact:ut({draggables:t,impact:a,destination:o,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:i,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),d=c.impact,g=c.didDropInsideDroppable,p=g?be(d):null,f=g?he(d):null,m={index:a.draggable.index,droppableId:a.droppable.id},v={draggableId:s.descriptor.id,type:s.descriptor.type,source:m,reason:i,mode:o.movementMode,destination:p,combine:f},b=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,o=e.viewport,i=e.afterCritical,a=r.draggables,l=r.droppables,s=et(t),u=s?l[s]:null,c=l[n.descriptor.droppableId],d=ct({impact:t,draggable:n,draggables:a,afterCritical:i,droppable:u||c,viewport:o});return Y(d,n.client.borderBox.center)}({impact:d,draggable:s,dimensions:l,viewport:o.viewport,afterCritical:o.afterCritical}),h={critical:o.critical,afterCritical:o.afterCritical,result:v,impact:d};if(!J(o.current.client.offset,b)||Boolean(v.combine)){var y=function(e){var t=e.reason,n=ee(e.current,e.destination);if(n<=0)return Ht;if(n>=1500)return.55;var r=Ht+n/1500*.22000000000000003;return Number(("CANCEL"===t?.6*r:r).toFixed(2))}({current:o.current.client.offset,destination:b,reason:i});n({type:"DROP_ANIMATE",payload:{newHomeClientOffset:b,dropDuration:y,completed:h}})}else n(At({completed:h}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:i}))}else e(r)}}},zt=function(){return{x:window.pageXOffset,y:window.pageYOffset}};var Ut=function(e){var t=function(e){var t=e.onWindowScroll,n=A((function(){t(zt())})),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}(n),o=B;function i(){return o!==B}return{start:function(){i()&&V(!1),o=T(window,[r])},stop:function(){i()||V(!1),n.cancel(),o(),o=B},isActive:i}}({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},$t=function(e,t){t()},Wt=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},qt=function(e,t,n,r){if(e){var o=function(e){var t=!1,n=!1,r=setTimeout((function(){n=!0})),o=function(o){t||n||(t=!0,e(o),clearTimeout(r))};return o.wasCalled=function(){return t},o}(n);e(t,{announce:o}),o.wasCalled()||n(r(t))}else n(r(t))},Kt=function(e,t){var n=function(e,t){var n,r=(n=[],{add:function(e){var t=setTimeout((function(){return function(e){var t=ue(n,(function(t){return t.timerId===e}));-1===t&&V(!1),n.splice(t,1)[0].callback()}(t)})),r={timerId:t,callback:e};n.push(r)},flush:function(){if(n.length){var e=[].concat(n);n.length=0,e.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}),o=null,i=function(n){o||V(!1),o=null,$t(0,(function(){return qt(e().onDragEnd,n,t,q)}))};return{beforeCapture:function(t,n){o&&V(!1),$t(0,(function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:function(t,n){o&&V(!1),$t(0,(function(){var r=e().onBeforeDragStart;r&&r(Wt(t,n))}))},start:function(n,i){o&&V(!1);var a=Wt(n,i);o={mode:i,lastCritical:n,lastLocation:a.source,lastCombine:null},r.add((function(){$t(0,(function(){return qt(e().onDragStart,a,t,$)}))}))},update:function(n,i){var a=be(i),l=he(i);o||V(!1);var s=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(n,o.lastCritical);s&&(o.lastCritical=n);var c,d,g=(d=a,!(null==(c=o.lastLocation)&&null==d||null!=c&&null!=d&&c.droppableId===d.droppableId&&c.index===d.index));g&&(o.lastLocation=a);var p=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(o.lastCombine,l);if(p&&(o.lastCombine=l),s||g||p){var f=(0,u.A)({},Wt(n,o.mode),{combine:l,destination:a});r.add((function(){$t(0,(function(){return qt(e().onDragUpdate,f,t,W)}))}))}},flush:function(){o||V(!1),r.flush()},drop:i,abort:function(){if(o){var e=(0,u.A)({},Wt(o.lastCritical,o.mode),{combine:null,destination:null,reason:"CANCEL"});i(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var o=r.payload.critical;return n.beforeStart(o,r.payload.movementMode),t(r),void n.start(o,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var i=r.payload.completed.result;return n.flush(),t(r),void n.drop(i)}if(t(r),"FLUSH"!==r.type){var a=e.getState();"DRAGGING"===a.phase&&n.update(a.critical,a.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},Xt=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&V(!1),e.dispatch(At({completed:r.completed}))}else t(n)}}},Yt=function(e){var t=null,n=null;return function(r){return function(o){if("FLUSH"!==o.type&&"DROP_COMPLETE"!==o.type&&"DROP_ANIMATION_FINISHED"!==o.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(o),"DROP_ANIMATE"===o.type){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((function(){n=null,t=T(window,[i])}))}}}},Jt=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(Mt({reason:r.reason})))}}}},Qt=c.compose,Zt=function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,o=e.styleMarshal,i=e.getResponders,a=e.announce,l=e.autoScroller;return(0,c.createStore)(bt,Qt((0,c.applyMiddleware)((t=o,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(o){if("LIFT"===o.type){var i=o.payload,a=i.id,l=i.clientSelection,s=i.movementMode,u=n();"DROP_ANIMATING"===u.phase&&r(At({completed:u.completed})),"IDLE"!==n().phase&&V(!1),r(Pt()),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:a,movementMode:s}});var c={draggableId:a,scrollOptions:{shouldPublishImmediately:"SNAP"===s}},d=e.startPublishing(c),g=d.critical,p=d.dimensions,f=d.viewport;r({type:"INITIAL_PUBLISH",payload:{critical:g,dimensions:p,clientSelection:l,movementMode:s,viewport:f}})}else t(o)}}}}(n),jt,Xt,Yt,Jt,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var o=t.getState();return"DRAGGING"!==o.phase&&V(!1),void e.start(o)}n(r),e.scroll(t.getState())}}}}(l),Ut,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var o=r.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),Kt(i,a))))},en=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,o=e.width,i=Y({x:n,y:t},{x:o,y:r});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},tn=function(){var e=document.documentElement;return e||V(!1),e},nn=function(){var e=tn();return en({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})};function rn(e,t,n){return n.descriptor.id!==t.id&&n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode}var on,an,ln=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},o=null,i=function(){o||(n.collectionStarting(),o=requestAnimationFrame((function(){o=null;var e=r,i=e.additions,a=e.removals,l=e.modified,s=Object.keys(i).map((function(e){return t.draggable.getById(e).getDimension(K)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),u=Object.keys(l).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),c={additions:s,removals:Object.keys(a),modified:u};r={additions:{},removals:{},modified:{}},n.publish(c)})))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],i()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],i()},stop:function(){o&&(cancelAnimationFrame(o),o=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=function(t){n||V(!1);var o=n.critical.draggable;"ADDITION"===t.type&&rn(e,o,t.value)&&r.add(t.value),"REMOVAL"===t.type&&rn(e,o,t.value)&&r.remove(t.value)};return{updateDroppableIsEnabled:function(r,o){e.droppable.exists(r)||V(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:o})},updateDroppableIsCombineEnabled:function(r,o){n&&(e.droppable.exists(r)||V(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:o}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,o){n&&(e.droppable.exists(r)||V(!1),t.updateDroppableScroll({id:r,newScroll:o}))},startPublishing:function(t){n&&V(!1);var r=e.draggable.getById(t.draggableId),i=e.droppable.getById(r.descriptor.droppableId),a={draggable:r.descriptor,droppable:i.descriptor},l=e.subscribe(o);return n={critical:a,unsubscribe:l},function(e){var t,n,r,o,i,a,l,s=e.critical,u=e.scrollOptions,c=e.registry,d=(t=zt(),n=nn(),r=t.y,o=t.x,a=(i=tn()).clientWidth,l=i.clientHeight,{frame:b({top:r,left:o,right:o+a,bottom:r+l}),scroll:{initial:t,current:t,max:n,diff:{value:K,displacement:K}}}),g=d.scroll.current,p=s.droppable,f=c.droppable.getAllByType(p.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(g,u)})),m=c.draggable.getAllByType(s.draggable.type).map((function(e){return e.getDimension(g)}));return{dimensions:{draggables:pe(m),droppables:ge(f)},critical:s,viewport:d}}({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),n.unsubscribe(),n=null}}}},sn=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason},un=function(e){window.scrollBy(e.x,e.y)},cn=P((function(e){return fe(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),dn=function(e){return Math.pow(e,2)},gn=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,o=n-t;return 0===o?0:(r-t)/o},pn=360,fn=1200,mn=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,o=e.shouldUseTimeDampening,i=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return 28;if(e===t.startScrollingFrom)return 1;var n=gn({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=28*dn(1-n);return Math.ceil(r)}(t,n);return 0===i?0:o?Math.max(function(e,t){var n=t,r=fn,o=Date.now()-n;if(o>=fn)return e;if(o<pn)return 1;var i=gn({startOfRange:pn,endOfRange:r,current:o}),a=e*dn(i);return Math.ceil(a)}(i,r),1):i},vn=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,o=e.axis,i=e.shouldUseTimeDampening,a=function(e,t){return{startScrollingFrom:.25*e[t.size],maxScrollValueAt:.05*e[t.size]}}(t,o);return n[o.end]<n[o.start]?mn({distanceToEdge:n[o.end],thresholds:a,dragStartTime:r,shouldUseTimeDampening:i}):-1*mn({distanceToEdge:n[o.start],thresholds:a,dragStartTime:r,shouldUseTimeDampening:i})},bn=ne((function(e){return 0===e?0:e})),hn=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,o=e.center,i=e.shouldUseTimeDampening,a={top:o.y-n.top,right:n.right-o.x,bottom:n.bottom-o.y,left:o.x-n.left},l=vn({container:n,distanceToEdges:a,dragStartTime:t,axis:Oe,shouldUseTimeDampening:i}),s=vn({container:n,distanceToEdges:a,dragStartTime:t,axis:De,shouldUseTimeDampening:i}),u=bn({x:s,y:l});if(J(u,K))return null;var c=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,o=n.height>t.height,i=n.width>t.width;return i||o?i&&o?null:{x:i?0:r.x,y:o?0:r.y}:r}({container:n,subject:r,proposedScroll:u});return c?J(c,K)?null:c:null},yn=ne((function(e){return 0===e?0:e>0?1:-1})),wn=(on=function(e,t){return e<0?e:e>t?e-t:0},function(e){var t=e.current,n=e.max,r=e.change,o=X(t,r),i={x:on(o.x,n.x),y:on(o.y,n.y)};return J(i,K)?null:i}),Sn=function(e){var t=e.max,n=e.current,r=e.change,o={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},i=yn(r),a=wn({max:o,current:n,change:i});return!a||0!==i.x&&0===a.x||0!==i.y&&0===a.y},Cn=function(e,t){return Sn({current:e.scroll.current,max:e.scroll.max,change:t})},xn=function(e,t){var n=e.frame;return!!n&&Sn({current:n.scroll.current,max:n.scroll.max,change:t})},En=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,o=e.scrollWindow,i=e.scrollDroppable,a=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var s=function(e){var t=e.viewport,n=e.subject,r=e.center,o=e.shouldUseTimeDampening,i=hn({dragStartTime:e.dragStartTime,container:t.frame,subject:n,center:r,shouldUseTimeDampening:o});return i&&Cn(t,i)?i:null}({dragStartTime:n,viewport:t.viewport,subject:l,center:a,shouldUseTimeDampening:r});if(s)return void o(s)}var u=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var o=r[n];return o.frame?o:null}var i=function(e,t){var n=ce(cn(t),(function(t){return t.frame||V(!1),rt(t.frame.pageMarginBox)(e)}));return n}(t,r);return i}({center:a,destination:et(t.impact),droppables:t.dimensions.droppables});if(u){var c=function(e){var t=e.droppable,n=e.subject,r=e.center,o=e.dragStartTime,i=e.shouldUseTimeDampening,a=t.frame;if(!a)return null;var l=hn({dragStartTime:o,container:a.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:i});return l&&xn(t,l)?l:null}({dragStartTime:n,droppable:u,subject:l,center:a,shouldUseTimeDampening:r});c&&i(u.descriptor.id,c)}},In=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow;return function(e){var o=e.scrollJumpRequest;if(o){var i=et(e.impact);i||V(!1);var a=function(e,t){if(!xn(e,t))return t;var r=function(e,t){var n=e.frame;return n&&xn(e,t)?wn({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var o=Y(t,r);return n(e.descriptor.id,o),Y(t,o)}(e.dimensions.droppables[i],o);if(a){var l=e.viewport,s=function(e,t,n){if(!e)return n;if(!Cn(t,n))return n;var o=function(e,t){if(!Cn(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return wn({current:r,max:n,change:t})}(t,n);if(!o)return r(n),null;var i=Y(n,o);return r(i),Y(n,i)}(e.isWindowScrollAllowed,l,a);s&&function(e,n){var r=X(e.current.client.selection,n);t({client:r})}(e,s)}}}},Rn=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,o=function(e){var t=e.scrollDroppable,n=A(e.scrollWindow),r=A(t),o=null,i=function(e){o||V(!1);var t=o,i=t.shouldUseTimeDampening,a=t.dragStartTime;En({state:e,scrollWindow:n,scrollDroppable:r,dragStartTime:a,shouldUseTimeDampening:i})};return{start:function(e){o&&V(!1);var t=Date.now(),n=!1,r=function(){n=!0};En({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),o={dragStartTime:t,shouldUseTimeDampening:n},n&&i(e)},stop:function(){o&&(n.cancel(),r.cancel(),o=null)},scroll:i}}({scrollWindow:n,scrollDroppable:t}),i=In({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&i(e):o.scroll(e))},start:o.start,stop:o.stop}},On="data-rbd",Dn={base:an=On+"-drag-handle",draggableId:an+"-draggable-id",contextId:an+"-context-id"},Pn=function(){var e=On+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),An=function(){var e=On+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Mn={contextId:On+"-scroll-container-context-id"},Fn=function(e,t){return e.map((function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""})).join(" ")},Nn=function(e){var t,n,r,o=(t=e,function(e){return"["+e+'="'+t+'"]'}),i=(n="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ",{selector:o(Dn.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:n,dragging:"pointer-events: none;",dropAnimating:n}}),a=[(r="\n      transition: "+_t.outOfTheWay+";\n    ",{selector:o(Pn.contextId),styles:{dragging:r,dropAnimating:r,userCancel:r}}),i,{selector:o(An.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:Fn(a,"always"),resting:Fn(a,"resting"),dragging:Fn(a,"dragging"),dropAnimating:Fn(a,"dropAnimating"),userCancel:Fn(a,"userCancel")}},Bn="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect,Tn=function(){var e=document.querySelector("head");return e||V(!1),e},Ln=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t},_n=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function kn(e){return e instanceof _n(e).HTMLElement}function Vn(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((function(t){return t(e)}))}function r(t){return e.draggables[t]||null}function o(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var o=t.descriptor.id,i=r(o);i&&t.uniqueId===i.uniqueId&&(delete e.draggables[o],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||V(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return se(e.draggables).filter((function(e){return e.descriptor.type===t}))}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=o(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=o(e);return t||V(!1),t},findById:o,exists:function(e){return Boolean(o(e))},getAllByType:function(t){return se(e.droppables).filter((function(e){return e.descriptor.type===t}))}},subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var Gn=a().createContext(null),Hn=function(){var e=document.body;return e||V(!1),e},jn={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},zn=function(e){return"rbd-announcement-"+e},Un=0,$n={separator:"::"};function Wn(e,t){return void 0===t&&(t=$n),m((function(){return""+e+t.separator+Un++}),[t.separator,e])}var qn=a().createContext(null);function Kn(e){var t=(0,i.useRef)(e);return(0,i.useEffect)((function(){t.current=e})),t}var Xn,Yn,Jn=((Xn={})[13]=!0,Xn[9]=!0,Xn),Qn=function(e){Jn[e.keyCode]&&e.preventDefault()},Zn=function(){var e="visibilitychange";return"undefined"==typeof document?e:ce([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}(),er={type:"IDLE"};function tr(){}var nr=((Yn={})[34]=!0,Yn[33]=!0,Yn[36]=!0,Yn[35]=!0,Yn);var rr={type:"IDLE"},or={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function ir(e,t){if(null==t)return!1;if(Boolean(or[t.tagName.toLowerCase()]))return!0;var n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&ir(e,t.parentElement)}function ar(e,t){var n=t.target;return!!kn(n)&&ir(e,n)}var lr=function(e){return b(e.getBoundingClientRect()).center},sr=function(){var e="matches";return"undefined"==typeof document?e:ce([e,"msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||e}();function ur(e,t){return null==e?null:e[sr](t)?e:ur(e.parentElement,t)}function cr(e,t){return e.closest?e.closest(t):ur(e,t)}function dr(e){e.preventDefault()}function gr(e){var t=e.expected,n=e.phase,r=e.isLockActive;return e.shouldWarn,!!r()&&t===n}function pr(e){var t=e.lockAPI,n=e.store,r=e.registry,o=e.draggableId;if(t.isClaimed())return!1;var i=r.draggable.findById(o);return!!i&&!!i.options.isEnabled&&!!sn(n.getState(),o)}var fr=[function(e){var t=(0,i.useRef)(er),n=(0,i.useRef)(B),r=m((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var r=e.findClosestDraggableId(t);if(r){var o=e.tryGetLock(r,l,{sourceEvent:t});if(o){t.preventDefault();var i={x:t.clientX,y:t.clientY};n.current(),c(o,i)}}}}}}),[e]),o=m((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}}),[e]),a=v((function(){n.current=T(window,[o,r],{passive:!1,capture:!0})}),[o,r]),l=v((function(){"IDLE"!==t.current.type&&(t.current=er,n.current(),a())}),[a]),s=v((function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),u=v((function(){var e=function(e){var t=e.cancel,n=e.completed,r=e.getPhase,o=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,i=e.clientY;if(0===t){var a={x:n,y:i},l=r();if("DRAGGING"===l.type)return e.preventDefault(),void l.actions.move(a);if("PENDING"!==l.type&&V(!1),s=l.point,u=a,Math.abs(u.x-s.x)>=5||Math.abs(u.y-s.y)>=5){var s,u;e.preventDefault();var c=l.actions.fluidLift(a);o({type:"DRAGGING",actions:c})}}}},{eventName:"mouseup",fn:function(e){var o=r();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void Qn(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&V(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:Zn,fn:t}]}({cancel:s,completed:l,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});n.current=T(window,e,{capture:!0,passive:!1})}),[s,l]),c=v((function(e,n){"IDLE"!==t.current.type&&V(!1),t.current={type:"PENDING",point:n,actions:e},u()}),[u]);Bn((function(){return a(),function(){n.current()}}),[a])},function(e){var t=(0,i.useRef)(tr),n=m((function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&32===n.keyCode){var o=e.findClosestDraggableId(n);if(o){var i=e.tryGetLock(o,s,{sourceEvent:n});if(i){n.preventDefault();var a=!0,l=i.snapLift();t.current(),t.current=T(window,function(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(nr[r.keyCode]?r.preventDefault():Qn(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Zn,fn:n}]}(l,s),{capture:!0,passive:!1})}}}function s(){a||V(!1),a=!1,t.current(),r()}}}}),[e]),r=v((function(){t.current=T(window,[n],{passive:!1,capture:!0})}),[n]);Bn((function(){return r(),function(){t.current()}}),[r])},function(e){var t=(0,i.useRef)(rr),n=(0,i.useRef)(B),r=v((function(){return t.current}),[]),o=v((function(e){t.current=e}),[]),a=m((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var o=e.tryGetLock(r,s,{sourceEvent:t});if(o){var i=t.touches[0],a={x:i.clientX,y:i.clientY};n.current(),g(o,a)}}}}}}),[e]),l=v((function(){n.current=T(window,[a],{capture:!0,passive:!1})}),[a]),s=v((function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),o(rr),n.current(),l())}),[l,o]),u=v((function(){var e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),c=v((function(){var e={capture:!0,passive:!1},t={cancel:u,completed:s,getPhase:r},o=T(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var o=e.touches[0],i={x:o.clientX,y:o.clientY};e.preventDefault(),n.actions.move(i)}else t()}},{eventName:"touchend",fn:function(e){var o=r();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&V(!1);var o=e.touches[0];if(o&&o.force>=.15){var i=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return i?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();i&&t()}}},{eventName:Zn,fn:t}]}(t),e),i=T(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:Zn,fn:t}]}(t),e);n.current=function(){o(),i()}}),[u,r,s]),d=v((function(){var e=r();"PENDING"!==e.type&&V(!1);var t=e.actions.fluidLift(e.point);o({type:"DRAGGING",actions:t,hasMoved:!1})}),[r,o]),g=v((function(e,t){"IDLE"!==r().type&&V(!1);var n=setTimeout(d,120);o({type:"PENDING",point:t,actions:e,longPressTimerId:n}),c()}),[c,r,o,d]);Bn((function(){return l(),function(){n.current();var e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),o(rr))}}),[r,l,o]),Bn((function(){return T(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}];function mr(e){var t=e.contextId,n=e.store,r=e.registry,o=e.customSensors,a=e.enableDefaultSensors,l=[].concat(a?fr:[],o||[]),s=(0,i.useState)((function(){return function(){var e=null;function t(){e||V(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&V(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],c=v((function(e,t){e.isDragging&&!t.isDragging&&s.tryAbandon()}),[s]);Bn((function(){var e=n.getState();return n.subscribe((function(){var t=n.getState();c(e,t),e=t}))}),[s,n,c]),Bn((function(){return s.tryAbandon}),[s.tryAbandon]);for(var d=v((function(e){return pr({lockAPI:s,registry:r,store:n,draggableId:e})}),[s,r,n]),g=v((function(e,o,i){return function(e){var t=e.lockAPI,n=e.contextId,r=e.store,o=e.registry,i=e.draggableId,a=e.forceSensorStop,l=e.sourceEvent;if(!pr({lockAPI:t,store:r,registry:o,draggableId:i}))return null;var s=o.draggable.getById(i),c=function(e,t){var n="["+Pn.contextId+'="'+e+'"]',r=ce(de(document.querySelectorAll(n)),(function(e){return e.getAttribute(Pn.id)===t}));return r&&kn(r)?r:null}(n,s.descriptor.id);if(!c)return null;if(l&&!s.options.canDragInteractiveElements&&ar(c,l))return null;var d=t.claim(a||B),g="PRE_DRAG";function p(){return s.options.shouldRespectForcePress}function f(){return t.isActive(d)}var m=function(e,t){gr({expected:e,phase:g,isLockActive:f,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function v(e){function n(){t.release(),g="COMPLETED"}function o(t,o){if(void 0===o&&(o={shouldBlockNextClick:!1}),e.cleanup(),o.shouldBlockNextClick){var i=T(window,[{eventName:"click",fn:dr,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(i)}n(),r.dispatch(Mt({reason:t}))}return"PRE_DRAG"!==g&&(n(),"PRE_DRAG"!==g&&V(!1)),r.dispatch(ht(e.liftActionArgs)),g="DRAGGING",(0,u.A)({isActive:function(){return gr({expected:"DRAGGING",phase:g,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:p,drop:function(e){return o("DROP",e)},cancel:function(e){return o("CANCEL",e)}},e.actions)}return{isActive:function(){return gr({expected:"PRE_DRAG",phase:g,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:p,fluidLift:function(e){var t=A((function(e){m((function(){return Et({client:e})}))})),n=v({liftActionArgs:{id:i,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}});return(0,u.A)({},n,{move:t})},snapLift:function(){var e={moveUp:function(){return m(It)},moveRight:function(){return m(Ot)},moveDown:function(){return m(Rt)},moveLeft:function(){return m(Dt)}};return v({liftActionArgs:{id:i,clientSelection:lr(c),movementMode:"SNAP"},cleanup:B,actions:e})},abort:function(){gr({expected:"PRE_DRAG",phase:g,isLockActive:f,shouldWarn:!0})&&t.release()}}}({lockAPI:s,registry:r,contextId:t,store:n,draggableId:e,forceSensorStop:o,sourceEvent:i&&i.sourceEvent?i.sourceEvent:null})}),[t,s,r,n]),p=v((function(e){return function(e,t){var n=function(e,t){var n,r=t.target;if(!((n=r)instanceof _n(n).Element))return null;var o=function(e){return"["+Dn.contextId+'="'+e+'"]'}(e),i=cr(r,o);return i&&kn(i)?i:null}(e,t);return n?n.getAttribute(Dn.draggableId):null}(t,e)}),[t]),f=v((function(e){var t=r.draggable.findById(e);return t?t.options:null}),[r.draggable]),b=v((function(){s.isClaimed()&&(s.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch(Pt()))}),[s,n]),h=v(s.isClaimed,[s]),y=m((function(){return{canGetLock:d,tryGetLock:g,findClosestDraggableId:p,findOptionsForDraggable:f,tryReleaseLock:b,isLockClaimed:h}}),[d,g,p,f,b,h]),w=0;w<l.length;w++)l[w](y)}var vr=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function br(e){return e.current||V(!1),e.current}function hr(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,o=e.nonce,l=e.dragHandleUsageInstructions,s=(0,i.useRef)(null),g=Kn(e),p=v((function(){return vr(g.current)}),[g]),f=function(e){var t=m((function(){return zn(e)}),[e]),n=(0,i.useRef)(null);return(0,i.useEffect)((function(){var e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),(0,u.A)(e.style,jn),Hn().appendChild(e),function(){setTimeout((function(){var t=Hn();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]),v((function(e){var t=n.current;t&&(t.textContent=e)}),[])}(t),b=function(e){var t=e.contextId,n=e.text,r=Wn("hidden-text",{separator:"-"}),o=m((function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:r}).contextId+"-"+e.uniqueId;var e}),[r,t]);return(0,i.useEffect)((function(){var e=document.createElement("div");return e.id=o,e.textContent=n,e.style.display="none",Hn().appendChild(e),function(){var t=Hn();t.contains(e)&&t.removeChild(e)}}),[o,n]),o}({contextId:t,text:l}),h=function(e,t){var n=m((function(){return Nn(e)}),[e]),r=(0,i.useRef)(null),o=(0,i.useRef)(null),a=v(P((function(e){var t=o.current;t||V(!1),t.textContent=e})),[]),l=v((function(e){var t=r.current;t||V(!1),t.textContent=e}),[]);Bn((function(){(r.current||o.current)&&V(!1);var i=Ln(t),s=Ln(t);return r.current=i,o.current=s,i.setAttribute(On+"-always",e),s.setAttribute(On+"-dynamic",e),Tn().appendChild(i),Tn().appendChild(s),l(n.always),a(n.resting),function(){var e=function(e){var t=e.current;t||V(!1),Tn().removeChild(t),e.current=null};e(r),e(o)}}),[t,l,a,n.always,n.resting,e]);var s=v((function(){return a(n.dragging)}),[a,n.dragging]),u=v((function(e){a("DROP"!==e?n.userCancel:n.dropAnimating)}),[a,n.dropAnimating,n.userCancel]),c=v((function(){o.current&&a(n.resting)}),[a,n.resting]);return m((function(){return{dragging:s,dropping:u,resting:c}}),[s,u,c])}(t,o),y=v((function(e){br(s).dispatch(e)}),[]),w=m((function(){return(0,c.bindActionCreators)({publishWhileDragging:yt,updateDroppableScroll:St,updateDroppableIsEnabled:Ct,updateDroppableIsCombineEnabled:xt,collectionStarting:wt},y)}),[y]),S=function(){var e=m(Vn,[]);return(0,i.useEffect)((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),C=m((function(){return ln(S,w)}),[S,w]),x=m((function(){return Rn((0,u.A)({scrollWindow:un,scrollDroppable:C.scrollDroppable},(0,c.bindActionCreators)({move:Et},y)))}),[C.scrollDroppable,y]),E=function(e){var t=(0,i.useRef)({}),n=(0,i.useRef)(null),r=(0,i.useRef)(null),o=(0,i.useRef)(!1),a=v((function(e,n){var r={id:e,focus:n};return t.current[e]=r,function(){var n=t.current;n[e]!==r&&delete n[e]}}),[]),l=v((function(t){var n=function(e,t){var n="["+Dn.contextId+'="'+e+'"]',r=de(document.querySelectorAll(n));if(!r.length)return null;var o=ce(r,(function(e){return e.getAttribute(Dn.draggableId)===t}));return o&&kn(o)?o:null}(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),s=v((function(e,t){n.current===e&&(n.current=t)}),[]),u=v((function(){r.current||o.current&&(r.current=requestAnimationFrame((function(){r.current=null;var e=n.current;e&&l(e)})))}),[l]),c=v((function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(Dn.draggableId)===e&&(n.current=e)}),[]);return Bn((function(){return o.current=!0,function(){o.current=!1;var e=r.current;e&&cancelAnimationFrame(e)}}),[]),m((function(){return{register:a,tryRecordFocus:c,tryRestoreFocusRecorded:u,tryShiftRecord:s}}),[a,c,u,s])}(t),I=m((function(){return Zt({announce:f,autoScroller:x,dimensionMarshal:C,focusMarshal:E,getResponders:p,styleMarshal:h})}),[f,x,C,E,p,h]);s.current=I;var R=v((function(){var e=br(s);"IDLE"!==e.getState().phase&&e.dispatch(Pt())}),[]),O=v((function(){var e=br(s).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);n(m((function(){return{isDragging:O,tryAbort:R}}),[O,R]));var D=v((function(e){return sn(br(s).getState(),e)}),[]),A=v((function(){return nt(br(s).getState())}),[]),M=m((function(){return{marshal:C,focus:E,contextId:t,canLift:D,isMovementAllowed:A,dragHandleUsageInstructionsId:b,registry:S}}),[t,C,b,E,D,A,S]);return mr({contextId:t,store:I,registry:S,customSensors:r,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,i.useEffect)((function(){return R}),[R]),a().createElement(qn.Provider,{value:M},a().createElement(d.Provider,{context:Gn,store:I},e.children))}var yr=0;function wr(e){var t=m((function(){return""+yr++}),[]),n=e.dragHandleUsageInstructions||"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n";return a().createElement(G,null,(function(r){return a().createElement(hr,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}var Sr=function(e){return function(t){return e===t}},Cr=Sr("scroll"),xr=Sr("auto"),Er=(Sr("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),Ir=function e(t){return null==t||t===document.body||t===document.documentElement?null:function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Er(n,Cr)||Er(n,xr)}(t)?t:e(t.parentElement)},Rr=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Or=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},Dr={passive:!1},Pr={passive:!0},Ar=function(e){return e.shouldPublishImmediately?Dr:Pr};function Mr(e){var t=(0,i.useContext)(e);return t||V(!1),t}var Fr=function(e){return e&&e.env.closestScrollable||null};function Nr(){}var Br={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},Tr=a().memo((function(e){var t=(0,i.useRef)(null),n=v((function(){t.current&&(clearTimeout(t.current),t.current=null)}),[]),r=e.animate,o=e.onTransitionEnd,l=e.onClose,s=e.contextId,u=(0,i.useState)("open"===e.animate),c=u[0],d=u[1];(0,i.useEffect)((function(){return c?"open"!==r?(n(),d(!1),Nr):t.current?Nr:(t.current=setTimeout((function(){t.current=null,d(!1)})),n):Nr}),[r,c,n]);var g=v((function(e){"height"===e.propertyName&&(o(),"close"===r&&l())}),[r,l,o]),p=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,o=function(e){var t=e.placeholder;return e.isAnimatingOpenOnMount||"close"===e.animate?Br:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?_t.placeholder:null}}({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return a().createElement(e.placeholder.tagName,{style:p,"data-rbd-placeholder-context-id":s,onTransitionEnd:g,ref:e.innerRef})})),Lr=a().createContext(null),_r=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return s(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(a().PureComponent),kr=5e3,Vr=4500,Gr=function(e,t){return t?_t.drop(t.duration):e?_t.snap:_t.fluid},Hr=function(e,t){return e?t?Nt:Bt:null};function jr(e){e.preventDefault()}var zr=function(e,t){return e===t},Ur=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function $r(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var Wr={mapped:{type:"SECONDARY",offset:K,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:$r(null)}},qr={dropAnimationFinished:function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}}},Kr=(0,d.connect)((function(){var e,t,n,r=(e=P((function(e,t){return{x:e,y:t}})),t=P((function(e,t,n,r,o){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(o),dropAnimation:o,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=P((function(e,n,r,o,i,a,l){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:i,combineWith:a,mode:n,offset:e,dimension:r,forceShouldAnimate:l,snapshot:t(n,o,i,a,null)}}})),function(r,o){if(r.isDragging){if(r.critical.draggable.id!==o.draggableId)return null;var i=r.current.client.offset,a=r.dimensions.draggables[o.draggableId],l=et(r.impact),s=(c=r.impact).at&&"COMBINE"===c.at.type?c.at.combine.draggableId:null,u=r.forceShouldAnimate;return n(e(i.x,i.y),r.movementMode,a,o.isClone,l,s,u)}var c;if("DROP_ANIMATING"===r.phase){var d=r.completed;if(d.result.draggableId!==o.draggableId)return null;var g=o.isClone,p=r.dimensions.draggables[o.draggableId],f=d.result,m=f.mode,v=Ur(f),b=function(e){return e.combine?e.combine.draggableId:null}(f),h={duration:r.dropDuration,curve:Ft,moveTo:r.newHomeClientOffset,opacity:b?Nt:null,scale:b?Tt:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:p,dropping:h,draggingOver:v,combineWith:b,mode:m,forceShouldAnimate:null,snapshot:t(m,g,v,b,h)}}}return null}),o=function(){var e=P((function(e,t){return{x:e,y:t}})),t=P($r),n=P((function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}})),r=function(e){return e?n(K,e,!0):null},o=function(t,o,i,a){var l=i.displaced.visible[t],s=Boolean(a.inVirtualList&&a.effected[t]),u=he(i),c=u&&u.draggableId===t?o:null;if(!l){if(!s)return r(c);if(i.displaced.invisible[t])return null;var d=Q(a.displacedBy.point),g=e(d.x,d.y);return n(g,c,!0)}if(s)return r(c);var p=i.displacedBy.point,f=e(p.x,p.y);return n(f,c,l.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:o(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:o(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(e,t){return r(e,t)||o(e,t)||Wr}}),qr,null,{context:Gn,pure:!0,areStatePropsEqual:zr})((function(e){var t=(0,i.useRef)(null),n=v((function(e){t.current=e}),[]),r=v((function(){return t.current}),[]),o=Mr(qn),a=o.contextId,l=o.dragHandleUsageInstructionsId,s=o.registry,u=Mr(Lr),c=u.type,d=u.droppableId,g=m((function(){return{id:e.draggableId,index:e.index,type:c,droppableId:d}}),[e.draggableId,e.index,c,d]),p=e.children,f=e.draggableId,b=e.isEnabled,h=e.shouldRespectForcePress,y=e.canDragInteractiveElements,w=e.isClone,S=e.mapped,C=e.dropAnimationFinished;w||function(e){var t=Wn("draggable"),n=e.descriptor,r=e.registry,o=e.getDraggableRef,a=e.canDragInteractiveElements,l=e.shouldRespectForcePress,s=e.isEnabled,u=m((function(){return{canDragInteractiveElements:a,shouldRespectForcePress:l,isEnabled:s}}),[a,s,l]),c=v((function(e){var t=o();return t||V(!1),function(e,t,n){void 0===n&&(n=K);var r=window.getComputedStyle(t),o=t.getBoundingClientRect(),i=I(o,r),a=E(i,n);return{descriptor:e,placeholder:{client:i,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:i.marginBox.width,y:i.marginBox.height},client:i,page:a}}(n,t,e)}),[n,o]),d=m((function(){return{uniqueId:t,descriptor:n,options:u,getDimension:c}}),[n,c,u,t]),g=(0,i.useRef)(d),p=(0,i.useRef)(!0);Bn((function(){return r.draggable.register(g.current),function(){return r.draggable.unregister(g.current)}}),[r.draggable]),Bn((function(){if(p.current)p.current=!1;else{var e=g.current;g.current=d,r.draggable.update(d,e)}}),[d,r.draggable])}(m((function(){return{descriptor:g,registry:s,getDraggableRef:r,canDragInteractiveElements:y,shouldRespectForcePress:h,isEnabled:b}}),[g,s,r,y,h,b]));var x=m((function(){return b?{tabIndex:0,role:"button","aria-describedby":l,"data-rbd-drag-handle-draggable-id":f,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:jr}:null}),[a,l,f,b]),R=v((function(e){"DRAGGING"===S.type&&S.dropping&&"transform"===e.propertyName&&C()}),[C,S]),O=m((function(){var e=function(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,n=e.offset,r=e.combineWith,o=e.dropping,i=Boolean(r),a=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(e),l=Boolean(o),s=l?Gt(n,i):Vt(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:Gr(a,o),transform:s,opacity:Hr(i,l),zIndex:l?Vr:kr,pointerEvents:"none"}}(e):{transform:Vt((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t}(S),t="DRAGGING"===S.type&&S.dropping?R:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":f,style:e,onTransitionEnd:t},dragHandleProps:x}}),[a,x,f,S,R,n]),D=m((function(){return{draggableId:g.id,type:g.type,source:{index:g.index,droppableId:g.droppableId}}}),[g.droppableId,g.id,g.index,g.type]);return p(O,S.snapshot,D)}));function Xr(e){return Mr(Lr).isUsingCloneFor!==e.draggableId||e.isClone?a().createElement(Kr,e):null}function Yr(e){var t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return a().createElement(Xr,(0,u.A)({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}var Jr,Qr,Zr,eo,to,no=function(e,t){return e===t.droppable.type},ro=function(e,t){return t.draggables[e.draggable.id]},oo={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||V(!1),document.body}},io=(0,d.connect)((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=(0,u.A)({},e,{shouldAnimatePlaceholder:!1}),n=P((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),r=P((function(r,o,i,a,l,s){var u=l.descriptor.id;if(l.descriptor.droppableId===r){var c=s?{render:s,dragging:n(l.descriptor)}:null,d={isDraggingOver:i,draggingOverWith:i?u:null,draggingFromThisWith:u,isUsingPlaceholder:!0};return{placeholder:l.placeholder,shouldAnimatePlaceholder:!1,snapshot:d,useClone:c}}if(!o)return t;if(!a)return e;var g={isDraggingOver:i,draggingOverWith:u,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:l.placeholder,shouldAnimatePlaceholder:!0,snapshot:g,useClone:null}}));return function(n,o){var i=o.droppableId,a=o.type,l=!o.isDropDisabled,s=o.renderClone;if(n.isDragging){var u=n.critical;if(!no(a,u))return t;var c=ro(u,n.dimensions),d=et(n.impact)===i;return r(i,l,d,d,c,s)}if("DROP_ANIMATING"===n.phase){var g=n.completed;if(!no(a,g.critical))return t;var p=ro(g.critical,n.dimensions);return r(i,l,Ur(g.result)===i,et(g.impact)===i,p,s)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var f=n.completed;if(!no(a,f.critical))return t;var m=et(f.impact)===i,v=Boolean(f.impact.at&&"COMBINE"===f.impact.at.type),b=f.critical.droppable.id===i;return m?v?e:t:b?e:t}return t}}),{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:Gn,pure:!0,areStatePropsEqual:zr})((function(e){var t=(0,i.useContext)(qn);t||V(!1);var n=t.contextId,r=t.isMovementAllowed,o=(0,i.useRef)(null),l=(0,i.useRef)(null),s=e.children,u=e.droppableId,c=e.type,d=e.mode,g=e.direction,p=e.ignoreContainerClipping,f=e.isDropDisabled,b=e.isCombineEnabled,y=e.snapshot,w=e.useClone,C=e.updateViewportMaxScroll,x=e.getContainerForClone,I=v((function(){return o.current}),[]),O=v((function(e){o.current=e}),[]),D=(v((function(){return l.current}),[]),v((function(e){l.current=e}),[])),M=v((function(){r()&&C({maxScroll:nn()})}),[r,C]);!function(e){var t=(0,i.useRef)(null),n=Mr(qn),r=Wn("droppable"),o=n.registry,a=n.marshal,l=Kn(e),s=m((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),u=(0,i.useRef)(s),c=m((function(){return P((function(e,n){t.current||V(!1);var r={x:e,y:n};a.updateDroppableScroll(s.id,r)}))}),[s.id,a]),d=v((function(){var e=t.current;return e&&e.env.closestScrollable?Rr(e.env.closestScrollable):K}),[]),g=v((function(){var e=d();c(e.x,e.y)}),[d,c]),p=m((function(){return A(g)}),[g]),f=v((function(){var e=t.current,n=Fr(e);e&&n||V(!1),e.scrollOptions.shouldPublishImmediately?g():p()}),[p,g]),b=v((function(e,r){t.current&&V(!1);var o=l.current,i=o.getDroppableRef();i||V(!1);var a=function(e){return{closestScrollable:Ir(e),isFixedOnPage:Or(e)}}(i),u={ref:i,descriptor:s,env:a,scrollOptions:r};t.current=u;var c=function(e){var t=e.ref,n=e.descriptor,r=e.env,o=e.windowScroll,i=e.direction,a=e.isDropDisabled,l=e.isCombineEnabled,s=e.shouldClipSubject,u=r.closestScrollable,c=function(e,t){var n=R(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,o=n.paddingBox.left-t.scrollLeft,i=r+t.scrollHeight,a=o+t.scrollWidth,l=h({top:r,right:a,bottom:i,left:o},n.border);return S({borderBox:l,margin:n.margin,border:n.border,padding:n.padding})}(t,u),d=E(c,o),g=function(){if(!u)return null;var e=R(u),t={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:e,page:E(e,o),scroll:Rr(u),scrollSize:t,shouldClipSubject:s}}(),p=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,o=e.isFixedOnPage,i=e.direction,a=e.client,l=e.page,s=e.closest,u=function(){if(!s)return null;var e=s.scrollSize,t=s.client,n=en({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:s.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:s.shouldClipSubject,scroll:{initial:s.scroll,current:s.scroll,max:n,diff:{value:K,displacement:K}}}}(),c="vertical"===i?Oe:De;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:o,axis:c,isEnabled:n,client:a,page:l,frame:u,subject:ae({page:l,withPlaceholder:null,axis:c,frame:u})}}({descriptor:n,isEnabled:!a,isCombineEnabled:l,isFixedOnPage:r.isFixedOnPage,direction:i,client:c,page:d,closest:g});return p}({ref:i,descriptor:s,env:a,windowScroll:e,direction:o.direction,isDropDisabled:o.isDropDisabled,isCombineEnabled:o.isCombineEnabled,shouldClipSubject:!o.ignoreContainerClipping}),d=a.closestScrollable;return d&&(d.setAttribute(Mn.contextId,n.contextId),d.addEventListener("scroll",f,Ar(u.scrollOptions))),c}),[n.contextId,s,f,l]),y=v((function(){var e=t.current,n=Fr(e);return e&&n||V(!1),Rr(n)}),[]),w=v((function(){var e=t.current;e||V(!1);var n=Fr(e);t.current=null,n&&(p.cancel(),n.removeAttribute(Mn.contextId),n.removeEventListener("scroll",f,Ar(e.scrollOptions)))}),[f,p]),C=v((function(e){var n=t.current;n||V(!1);var r=Fr(n);r||V(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),x=m((function(){return{getDimensionAndWatchScroll:b,getScrollWhileDragging:y,dragStopped:w,scroll:C}}),[w,b,y,C]),I=m((function(){return{uniqueId:r,descriptor:s,callbacks:x}}),[x,s,r]);Bn((function(){return u.current=I.descriptor,o.droppable.register(I),function(){t.current&&w(),o.droppable.unregister(I)}}),[x,s,w,I,a,o.droppable]),Bn((function(){t.current&&a.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)}),[e.isDropDisabled,a]),Bn((function(){t.current&&a.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,a])}({droppableId:u,type:c,mode:d,direction:g,isDropDisabled:f,isCombineEnabled:b,ignoreContainerClipping:p,getDroppableRef:I});var N=a().createElement(_r,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var t=e.onClose,r=e.data,o=e.animate;return a().createElement(Tr,{placeholder:r,onClose:t,innerRef:D,animate:o,contextId:n,onTransitionEnd:M})})),B=m((function(){return{innerRef:O,placeholder:N,droppableProps:{"data-rbd-droppable-id":u,"data-rbd-droppable-context-id":n}}}),[n,u,N,O]),T=w?w.dragging.draggableId:null,L=m((function(){return{droppableId:u,type:c,isUsingCloneFor:T}}),[u,T,c]);return a().createElement(Lr.Provider,{value:L},s(B,y),function(){if(!w)return null;var e=w.dragging,t=w.render,n=a().createElement(Xr,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(n,r){return t(n,r,e)}));return F().createPortal(n,x())}())}));io.defaultProps=oo,function(e){e.MINIMIZE="minimize",e.TABLE="table",e.BUTTON="button"}(Jr||(Jr={}));class ao extends e.BusEventBase{}eo="variable-changed",(Zr="type")in(Qr=ao)?Object.defineProperty(Qr,Zr,{value:eo,enumerable:!0,configurable:!0,writable:!0}):Qr[Zr]=eo,function(e){e.QUERY="query",e.ADHOC="adhoc",e.CONSTANT="constant",e.DATASOURCE="datasource",e.INTERVAL="interval",e.TEXTBOX="textbox",e.CUSTOM="custom",e.SYSTEM="system"}(to||(to={}));const lo=[{value:Jr.TABLE,label:"Table",description:"Full featured table view."},{value:Jr.MINIMIZE,label:"Minimize",description:"Minimized select view."},{value:Jr.BUTTON,label:"Button",description:"Button select view."}],so=[{value:!0,label:"Display",description:"Display variable Label or Id. Allows to enable filtering."},{value:!1,label:"Hide",description:"Do not display header."}],uo=[{value:!0,label:"Enabled",description:"Follow when scrolling."},{value:!1,label:"Disabled",description:"Scroll with dashboard."}],co=[{value:!0,label:"Enabled",description:"Display Table Filter."},{value:!1,label:"Disabled",description:"Hide Table Filter."}],go=[{value:!0,label:"Enabled",description:"Always Visible Search."},{value:!1,label:"Disabled",description:"Toggleable Search Visibility."}],po=[{value:!0,label:"Enabled",description:"Allows selecting and filtering favorites."},{value:!1,label:"Disabled",description:"Hide favorites."}],fo=[{value:!0,label:"Enabled",description:"Allows saving selected group"},{value:!1,label:"Disabled",description:"Disables saving selected group"}],mo=[{value:!0,label:"Enabled",description:"Allows sort by status."},{value:!1,label:"Disabled",description:"Hide sorting."}],vo=[{value:!0,label:"Enabled",description:"Display variable names."},{value:!1,label:"Disabled",description:"Hide variable names."}],bo=[{value:!0,label:"Enabled",description:"Auto scroll to the first selected value."},{value:!1,label:"Disabled",description:"Disable auto scroll."}],ho=[{value:!0,label:"Enabled",description:"Enable to allow multi-level selection."},{value:!1,label:"Disabled",description:"Disable multi-level selection."}],yo=[{value:!0,label:"Enabled",description:"Empty value enabled."},{value:!1,label:"Disabled",description:"Empty value disabled."}],wo=[{value:!0,label:"Enabled",description:"Persistence enabled."},{value:!1,label:"Disabled",description:"Persistence disabled."}],So=[{value:!0,label:"Enabled",description:"Show labels enabled."},{value:!1,label:"Disabled",description:"Show labels disabled."}],Co=[{value:!0,label:"Enabled",description:"Custom values enabled."},{value:!1,label:"Disabled",description:"Custom values disabled."}],xo="data-testid panel content",Eo="data-testid panel info",Io="data-testid panel",Ro=e=>`data-testid panel tab-${e}`,Oo="data-testid table button-expand",Do="data-testid table button-expand-all",Po="data-testid table button-filter",Ao="data-testid table button-sort",Mo=e=>`data-testid table row-${e}`,Fo=(e,t)=>`data-testid table cell-${t}-${e}`,No="data-testid table value-control",Bo="data-testid table all-control",To="data-testid table favorites-control",Lo="data-testid table favorites-filter",_o="data-testid table field-filter-value",ko="data-testid table button-clean-filter-value",Vo="data-testid table header",Go="data-testid table label",Ho="data-testid fields-editor button-add-new",jo="data-testid fields-editor button-remove",zo="data-testid fields-editor button-start-rename",Uo="data-testid fields-editor button-cancel-rename",$o="data-testid fields-editor button-save-rename",Wo="data-testid fields-editor field-name",qo=e=>`data-testid fields-editor item-${e}`,Ko="data-testid fields-editor new-level",Xo="data-testid fields-editor new-item-name",Yo="data-testid levels-editor button-add-new",Jo="data-testid levels-editor button-remove",Qo=e=>`data-testid levels-editor item-${e}`,Zo="data-testid levels-editor new-item",ei="data-testidd levels-editor new-item-name",ti="data-testid levels-editor",ni="data-testid minimize-view",ri="data-testid minimize-view no-variable-message",oi="options-variable",ii="data-testid text-variable",ai="data-testid button-view",li="data-testid button-view no-variable-message",si="data-testid button-view no-options-message",ui=e=>`data-testid button-view item-${e}`,ci="All",di="$__all",gi="$__empty",pi=(e,t,n)=>{const r=Array.from(e),[o]=r.splice(t,1);return r.splice(n,0,o),r};function fi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){fi(e,t,n[t])}))}return e}function vi(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const bi=(e,n,r)=>{t.locationService.partial({[`var-${e}`]:n},!0),r.publish(new ao)},hi=(e,n,r)=>{if(n)switch(n.type){case to.CUSTOM:case to.QUERY:{const{name:o,multi:i}=n;if(i){if(e.some((e=>e===di)))return void bi(o,ci,r);if(e.some((e=>e===gi)))return void bi(o,"",r);const i=t.locationService.getSearch().getAll(`var-${o}`).filter((e=>0!==e.toLowerCase().indexOf("all")));if(0===i.length&&!t.locationService.getSearchObject()[`var-${o}`]){const e=n.current.value,t=Array.isArray(e)?e:[e];i.push(...t.filter((e=>e!==di)))}const a=e.filter((e=>i.includes(e)));if(a.length===e.length)return void bi(o,i.filter((e=>!a.includes(e))),r);const l=[...new Set(e.concat(i)).values()];return void bi(o,l,r)}let a=e[0];return a===di?a=ci:a===gi&&(a=""),void bi(o,a,r)}case to.TEXTBOX:{const t=e[0];return void bi(n.name,t,r)}default:return}},yi=e=>!!e&&(e.type===to.CUSTOM||e.type===to.QUERY),wi=e=>e.reduce(((e,t)=>{const n=(e=>{if(e.type===to.TEXTBOX)return e;if(e.type===to.CUSTOM||e.type===to.QUERY){const t=vi(mi({},e),{type:to.CUSTOM,optionIndexByName:e.options.reduce(((e,t,n)=>(e.set(t.value,n),e)),new Map),helpers:{getOption:e=>t.options[t.optionIndexByName.get(e)]}});return t}})(t);return n?vi(mi({},e),{[n.name]:n}):e}),{}),Si=e=>{var t;return!!yi(e)&&(Array.isArray(e.current.value)?e.includeAll?!!(null===(t=e.helpers.getOption(di))||void 0===t?void 0:t.selected)||e.current.value.length===e.options.length-1:e.current.value.length===e.options.length:e.current.value===di)},Ci=({previousValues:e,value:t,emptyValueEnabled:n,variable:r,panelEventBus:o})=>{const i=Array.isArray(t)?t:[t];if(e.length>i.length){if(0===i.length&&n)return void hi([gi],r,o);if(0===i.length&&(null==r?void 0:r.multi)&&r.includeAll)return void hi([di],r,o);const t=e.filter((e=>!i.includes(e)));hi(t,r,o)}else i.length>1&&e.includes(di)&&i.includes(di)?hi(i.filter((e=>e!==di)),r,o):i.length>1&&!e.includes(di)&&i.includes(di)?hi([di],r,o):hi(i,r,o)};function xi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){xi(e,t,n[t])}))}return e}function Ii(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Ri=(e,t,n)=>e.reduce(((e,n)=>{const r=t(n);return Array.isArray(r)?e.push(...r):e.push(r),e}),[...n]),Oi=(e,t,n)=>{const r=t[0];return 1===t.length?e.map((e=>n(e,r))).filter((e=>e.selectable)):Array.from(((e,t)=>(null==e?void 0:e.reduce(((e,n)=>{const r=n[t],o=e.get(r);return e.set(r,o?o.concat(n):[n]),e}),new Map))||new Map)(e,r),(([e,o])=>{const i=Oi(o,t.slice(1),n),a=n({[r]:e},r,i);return Ii(Ei({},a),{childValues:Ri(i,(e=>e.childValues||e.label),a.childValues||[]),childSelectedCount:i.reduce(((e,t)=>{var n;return e+(null!==(n=t.childSelectedCount)&&void 0!==n?n:t.selected?1:0)}),a.childSelectedCount||0),childFavoritesCount:i.reduce(((e,t)=>e+(t.childFavoritesCount||(t.isFavorite?1:0))),a.childFavoritesCount||0),children:i})})).filter((e=>{var t;return(null===(t=e.childValues)||void 0===t?void 0:t.length)||e.selectable}))},Di=(e,{status:t,children:n,isSelectedAll:r,favoritesEnabled:o,groupSelection:i})=>{const a=!!n&&!n.some((e=>!e.selected));let l=!1;yi(e.variable)&&(!n||i&&n.length)&&(l=!!e.variable.helpers.getOption(e.value));const s=o&&!n&&e.value!==di;return{value:e.value,selected:!!l&&(r||e.selected||a),showStatus:t.exist,statusColor:t.exist?t.color:void 0,variable:e.variable,selectable:l,canBeFavorite:s,isFavorite:s?e.isFavorite:void 0,name:e.name,status:t.exist?t.value:void 0,label:e.label}},Pi=(e,t)=>e.filter((e=>{var n;return null===(n=e.childValues)||void 0===n?void 0:n.some((e=>t.includes(e)))})).filter((e=>!!e.children&&Pi(e.children,t))),Ai=(e,t=[],n=0)=>e.reduce(((e,t)=>{const r=e[n]||{variable:void 0,values:[],selectable:!1};r.variable=t.variable,r.values.push(t.value),r.selectable=t.selectable;const o=e[n]?e:e.concat(r);return t.children?Ai(t.children,o,n+1):o}),t),Mi=(e,t,n)=>{const r=n.toLowerCase();return e.original.childValues?e.original.childValues.some((e=>e.toLowerCase().includes(r))):e.original.label.toLowerCase().includes(r)},Fi=(e,t)=>{const n=void 0!==e.original.status?e.original.status:0,r=void 0!==t.original.status?t.original.status:0;return n===r?0:n>r?1:-1},Ni=(e,t,n)=>!n||(e.original.childValues?(e.original.childFavoritesCount||0)>0:!!e.original.isFavorite);function Bi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ti(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Bi(e,t,n[t])}))}return e}function Li(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const _i=(e,t,n)=>Ti({marginLeft:4*n},t),ki=({items:e,name:t,onChange:o,data:l})=>{const s=(b=(0,r.useTheme2)(),{header:n.css`
      padding: ${b.spacing(.5,.5)};
      border-radius: ${null===(h=b.shape.radius)||void 0===h?void 0:h.default};
      background: ${b.colors.background.secondary};
      min-height: ${b.spacing(4)};
      display: grid;
      grid-template-columns: minmax(100px, max-content) min-content;
      align-items: center;
      justify-content: space-between;
      white-space: nowrap;

      &:focus {
        outline: none;
      }
    `,column:n.css`
      display: flex;
      align-items: center;
    `,dragHandle:n.css`
      display: flex;
      margin: ${b.spacing(0,.5)};
    `,dragIcon:n.css`
      cursor: grab;
      color: ${b.colors.text.disabled};
      &:hover {
        color: ${b.colors.text};
      }
    `,collapseIcon:n.css`
      margin-left: ${b.spacing(.5)};
      color: ${b.colors.text.disabled};
    `,titleWrapper:n.css`
      display: flex;
      align-items: center;
      flex-grow: 1;
      cursor: pointer;
      overflow: hidden;
      margin-right: ${b.spacing(.5)};
    `,title:n.css`
      font-weight: ${b.typography.fontWeightBold};
      color: ${b.colors.text.secondary};
      margin-left: ${b.spacing(.5)};
      overflow: hidden;
      text-overflow: ellipsis;
    `,item:n.css`
      margin-bottom: ${b.spacing(1)};
    `}),[u,c]=(0,i.useState)(e),[d,g]=(0,i.useState)(null),p=(0,i.useCallback)((e=>{c(e),o({name:t,items:e})}),[t,o]),f=(0,i.useCallback)((e=>{e.destination&&p(pi(u,e.source.index,e.destination.index))}),[u,p]),m=(0,i.useMemo)((()=>{const e=u[u.length-1];if(e){const t=l.findIndex(((t,n)=>void 0===t.refId?n===e.source:t.refId===e.source)),n=l[t];if(n)return n.fields.map((({name:e})=>{var r;return{label:e,source:null!==(r=n.refId)&&void 0!==r?r:t,value:e,fieldName:e}})).filter((e=>!u.some((t=>t.name===e.value))))||[]}return l.reduce(((e,t,n)=>e.concat(t.fields.map((e=>{const r=t.refId||n;return{value:`${r}:${e.name}`,fieldName:e.name,label:`${r}:${e.name}`,source:r}})))),[])}),[l,u]),v=(0,i.useCallback)((()=>{d&&(p([...u,{name:d.name,source:d.source}]),g(null))}),[u,d,p]);var b,h;return a().createElement("div",{"data-testid":ti},a().createElement(wr,{onDragEnd:f},a().createElement(io,{droppableId:t},(e=>a().createElement("div",Li(Ti({},e.droppableProps),{ref:e.innerRef}),u.map(((e,t)=>a().createElement(Yr,{key:e.name,draggableId:e.name,index:t},((o,i)=>a().createElement("div",Li(Ti({ref:o.innerRef},o.draggableProps,o.dragHandleProps),{style:_i(i.isDragging,o.draggableProps.style,t),className:s.item,"data-testid":Qo(e.name)}),a().createElement("div",{className:s.header},a().createElement("div",{className:s.column},e.name&&a().createElement("div",{className:s.titleWrapper},a().createElement("div",{className:(0,n.cx)(s.title)},e.name))),a().createElement("div",{className:s.column},a().createElement(r.IconButton,{name:"trash-alt",onClick:()=>p(u.filter((t=>t.name!==e.name))),"aria-label":"Remove","data-testid":Jo}),a().createElement("div",Ti({className:s.dragHandle},o.dragHandleProps),a().createElement(r.Icon,{title:"Drag and drop to reorder",name:"draggabledots",size:"lg",className:s.dragIcon}))))))))),e.placeholder)))),a().createElement(r.InlineFieldRow,{"data-testid":Zo},a().createElement(r.InlineField,{label:"New Level",grow:!0},a().createElement(r.Select,{options:m,value:(null==d?void 0:d.value)||null,"aria-label":ei,onChange:e=>{g({value:e.value,source:e.source,name:e.fieldName})}})),a().createElement(r.Button,{icon:"plus",title:"Add Level",disabled:!d,onClick:v,"data-testid":Yo},"Add")))};function Vi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Vi(e,t,n[t])}))}return e}function Hi(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const ji=({context:{options:e,data:t},onChange:l})=>{const s=(D=(0,r.useTheme2)(),{newGroup:n.css`
      margin: ${D.spacing(2)} 0;
    `,group:n.css`
      margin-bottom: ${D.spacing(1)};
    `,groupHeader:n.css`
      min-height: ${D.spacing(4)};
      padding: ${D.spacing(.5)};
    `,groupHeaderForm:n.css`
      display: flex;
      align-items: center;
      gap: ${D.spacing(.5)};
    `,groupHeaderText:n.css`
      overflow: hidden;
      text-overflow: ellipsis;
      line-height: ${D.spacing(4)};
    `,fieldName:n.css`
      margin: 0;
    `,dragHandle:n.css`
      display: flex;
      margin: ${D.spacing(0,.5)};
    `,dragIcon:n.css`
      cursor: grab;
      color: ${D.colors.text.disabled};
      &:hover {
        color: ${D.colors.text};
      }
    `,actionButton:n.css`
      color: ${D.colors.text.secondary};
    `}),[u,c]=(0,i.useState)((null==e?void 0:e.groups)||[]),[d,g]=(0,i.useState)(""),[p,f]=(0,i.useState)({}),[m,v]=(0,i.useState)(""),[b,h]=(0,i.useState)(""),y=(0,i.useCallback)((e=>{c(e),l(e)}),[l]),w=(0,i.useCallback)((e=>{e.destination&&y(pi(u,e.source.index,e.destination.index))}),[u,y]),S=(0,i.useCallback)((e=>{f((t=>Hi(Gi({},t),{[e]:!t[e]})))}),[]),C=(0,i.useCallback)((()=>{g(""),y(u.concat([{name:d,items:[]}])),S(d)}),[u,d,y,S]),x=(0,i.useCallback)((e=>{y(u.map((t=>t.name===e.name?e:t)))}),[u,y]),E=(0,i.useMemo)((()=>u.some((e=>e.name===d))),[u,d]),I=(0,i.useCallback)((()=>{v(""),h(""),f((e=>Hi(Gi({},e),{[m]:!!e[m]&&m===b,[b]:e[m]})))}),[m,b]),R=(0,i.useMemo)((()=>!(!b.trim()||m!==b&&u.some((e=>e.name===b)))),[m,b,u]),O=(0,i.useCallback)((()=>{y(u.map((e=>e.name===m?Hi(Gi({},e),{name:b}):e))),I()}),[u,y,I,m,b]);var D;return a().createElement(a().Fragment,null,a().createElement(wr,{onDragEnd:w},a().createElement(io,{droppableId:"groups-editor"},(e=>a().createElement("div",Hi(Gi({},e.droppableProps),{ref:e.innerRef}),u.map((({name:e,items:i},l)=>a().createElement(Yr,{key:e,draggableId:e,index:l},((l,c)=>{return a().createElement("div",Hi(Gi({ref:l.innerRef},l.draggableProps),{style:(c.isDragging,d=l.draggableProps.style,Gi({},d)),className:s.group}),a().createElement(o.SD,{key:e,title:m===e?a().createElement("div",{className:(0,n.cx)(s.groupHeader,s.groupHeaderForm),onClick:e=>e.stopPropagation()},a().createElement(r.InlineField,{className:s.fieldName,invalid:!R},a().createElement(r.Input,{autoFocus:!0,value:b,onChange:e=>h(e.currentTarget.value),onKeyDown:e=>{"Enter"===e.key&&R&&O(),"Escape"===e.key&&I()},"data-testid":Wo})),a().createElement(r.Button,{variant:"secondary",fill:"text",className:s.actionButton,icon:"times",size:"sm",onClick:I,"data-testid":Uo}),a().createElement(r.Button,{variant:"secondary",fill:"text",className:s.actionButton,icon:"save",size:"sm",onClick:O,disabled:!R,tooltip:R?"":"Name is empty or group with the same name already exists.","data-testid":$o})):a().createElement("div",{className:(0,n.cx)(s.groupHeader,s.groupHeaderText)},e),headerTestId:qo(e),actions:a().createElement(a().Fragment,null,m!==e&&a().createElement(r.Button,{icon:"edit",variant:"secondary",fill:"text",size:"sm",className:s.actionButton,onClick:()=>{h(e),v(e)},"data-testid":zo}),a().createElement(r.Button,{icon:"trash-alt",variant:"secondary",fill:"text",size:"sm",className:s.actionButton,onClick:()=>{y(u.filter((t=>t.name!==e)))},"data-testid":jo}),a().createElement("div",Gi({className:s.dragHandle},l.dragHandleProps),a().createElement(r.Icon,{name:"draggabledots",className:s.dragIcon}))),isOpen:p[e],onToggle:()=>S(e)},a().createElement(ki,{name:e,items:i,data:t,onChange:x})));var d})))),e.placeholder)))),a().createElement(r.InlineFieldRow,{className:s.newGroup,"data-testid":Ko},a().createElement(r.InlineField,{label:"New Group",grow:!0,invalid:E,error:"Group with the same name already exists."},a().createElement(r.Input,{placeholder:"Unique name",value:d,onChange:e=>g(e.currentTarget.value.trim()),"data-testid":Xo})),a().createElement(r.Button,{icon:"plus",title:"Add Group",disabled:!d||E,onClick:C,"data-testid":Ho},"Add")))};var zi=g(241);const Ui=(e,n)=>{const[r,o]=(0,i.useState)({}),[a,l]=(0,i.useState)();(0,i.useEffect)((()=>{o(wi((0,t.getTemplateSrv)().getVariables()));const n=e.getStream(t.RefreshEvent).subscribe((()=>{o(wi((0,t.getTemplateSrv)().getVariables()))}));return()=>{n.unsubscribe()}}),[e]);const s=(0,i.useCallback)((e=>r[e]||void 0),[r]);return(0,i.useEffect)((()=>{l(s(n))}),[s,n]),{variable:a,getVariable:s}};function $i(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function Wi(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){$i(i,r,o,a,l,"next",e)}function l(e){$i(i,r,o,a,l,"throw",e)}a(void 0)}))}}const qi=(e,t)=>{const n=(0,i.useCallback)(Wi((function*(){const n=window.localStorage.getItem(e);if(n){const e=JSON.parse(n);return(null==e?void 0:e.version)===t?e.data:void 0}})),[e,t]),r=(0,i.useCallback)((o=Wi((function*(n){return window.localStorage.setItem(e,JSON.stringify({version:t,data:n})),n})),function(e){return o.apply(this,arguments)}),[e,t]);var o;return(0,i.useMemo)((()=>({get:n,update:r})),[n,r])},Ki=e=>{const t=`var-${e}`;return(0,i.useMemo)((()=>({save:e=>{sessionStorage.setItem(t,JSON.stringify(e))},get:()=>{const e=sessionStorage.getItem(t);return e?JSON.parse(e):[]},remove:()=>sessionStorage.removeItem(t)})),[t])};function Xi(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function Yi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ji=({key:e,initialValue:t,version:n=1,getStateForSave:r=(e=>e),enabled:o=!0})=>{const[a,l]=(0,i.useState)(t),[s,u]=(0,i.useState)(!1),c=(0,i.useRef)(r),{get:d,update:g}=qi(e,n);(0,i.useEffect)((()=>{const e=(t=function*(){const e=yield d();e&&l("object"==typeof e?t=>(0,zi.merge)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Yi(e,t,n[t])}))}return e}({},t),e):e),u(!0)},n=function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){Xi(i,r,o,a,l,"next",e)}function l(e){Xi(i,r,o,a,l,"throw",e)}a(void 0)}))},function(){return n.apply(this,arguments)});var t,n;o&&e()}),[o,d]);const p=(0,i.useCallback)((e=>{l((t=>{const n="function"==typeof e?e(t):e;return o&&g(c.current(n)),n}))}),[o,g]);return[a,p,s]},Qi=({data:t,name:n,status:r})=>{const o=(0,i.useMemo)((()=>{var r,o;return null===(o=t.series.map((t=>t.fields.find((t=>t.type===e.FieldType.string&&(!n||t.name===n))))).find((e=>null==e?void 0:e.values)))||void 0===o||null===(r=o.values)||void 0===r?void 0:r.toArray()}),[t.series,n]),a=(0,i.useMemo)((()=>t.series.map((t=>t.fields.find((t=>t.type===e.FieldType.number&&(!r||t.name===r))))).find((e=>null==e?void 0:e.values))),[t.series,r]);return(0,i.useCallback)((e=>{const t=null==o?void 0:o.findIndex((t=>t===e)),n=void 0!==t&&t>=0;if(n){var r;const e=null==a?void 0:a.values.get(t),o=null==a||null===(r=a.display)||void 0===r?void 0:r.call(a,e);return void 0===e||void 0===o?{exist:!1}:{exist:n,value:e,color:o.color||""}}return{exist:n}}),[o,a])},Zi=e=>({wrapper:n.css`
      position: relative;
    `,content:n.css`
      position: absolute;
      overflow: auto;
      overflow-x: hidden;
    `,header:n.css`
      position: sticky;
      top: 0;
      background-color: ${e.colors.background.primary};
      z-index: 120;
    `,rowContent:n.css`
      display: flex;
      justify-content: stretch;
      align-items: center;
    `,expandButton:n.css`
      margin-right: ${e.spacing(1)};
    `,label:n.css`
      display: flex;
      align-items: center;
      cursor: pointer;
      flex: auto;
      word-break: break-all;
    `,selectControl:n.css`
      vertical-align: middle;
      margin-right: ${e.spacing(1)};
    `,status:n.css`
      display: block;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      margin-right: ${e.spacing(1)};
      flex: none;
    `,toolbar:n.css`
      div > div {
        flex-direction: column;
        max-width: 100%;
      }
      padding: ${e.spacing(.5)} 0 ${e.spacing(.5)} ${e.spacing(1)};
      border-bottom: 1px solid ${e.colors.border.weak};
    `,toolbarButton:n.css`
      overflow: hidden;
      max-width: 100%;

      > div {
        overflow: hidden;
        text-overflow: ellipsis;
      }
    `}),ea=({variable:e,panelEventBus:t})=>{var n;const[o,l]=(0,i.useState)((null===(n=e.current.value)||void 0===n?void 0:n.toString())||"");(0,i.useEffect)((()=>{var t;l((null===(t=e.current.value)||void 0===t?void 0:t.toString())||"")}),[e]);const s=(0,i.useCallback)((e=>{l(e.target.value)}),[]),u=(0,i.useCallback)((()=>{hi([o],e,t)}),[t,o,e]),c=(0,i.useCallback)((e=>{"Enter"===e.key&&u(),"Escape"===e.key&&e.currentTarget.blur()}),[u]);return a().createElement(r.Input,{"data-testid":ii,onChange:s,onBlur:u,onKeyDown:c,value:o,placeholder:"Enter variable value"})};function ta(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function na(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ta(i,r,o,a,l,"next",e)}function l(e){ta(i,r,o,a,l,"throw",e)}a(void 0)}))}}function ra(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ra(e,t,n[t])}))}return e}function ia(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const aa=()=>{const e=(0,i.useCallback)(na((function*(){const e=window.localStorage.getItem("favorites");return JSON.parse(e||"{}")})),[]),t=(0,i.useCallback)((n=na((function*(e){return window.localStorage.setItem("favorites",JSON.stringify(e)),e})),function(e){return n.apply(this,arguments)}),[]);var n;return(0,i.useMemo)((()=>({get:e,update:t})),[e,t])},la=()=>{const[e,t]=(0,i.useState)({}),n=aa(),r=(0,i.useCallback)(na((function*(){const e=yield n.get();t(e)})),[n]),o=(0,i.useCallback)((a=na((function*(r,o){if(!r)return;const i=yield n.update(ia(oa({},e),{[r]:e[r]?e[r].concat([o]):[o]}));t(i)})),function(e,t){return a.apply(this,arguments)}),[e,n]);var a;const l=(0,i.useCallback)(function(){var r=na((function*(r,o){if(!r)return;const i=yield n.update(ia(oa({},e),{[r]:e[r]?e[r].filter((e=>e!==o)):[]}));t(i)}));return function(e,t){return r.apply(this,arguments)}}(),[e,n]),s=(0,i.useCallback)(((t,n)=>!(!t||!e[t])&&e[t].includes(n)),[e]);return(0,i.useEffect)((()=>{r()}),[r]),(0,i.useMemo)((()=>({add:o,remove:l,isAdded:s})),[o,s,l])},sa=e=>({root:n.css`
      display: flex;
      gap: ${e.spacing(.5)};
      flex-wrap: wrap;
    `,label:n.css`
      color: ${e.colors.text.link};
      background: ${e.colors.background.primary};
      border: 1px solid ${e.colors.border.weak};
      margin: ${e.spacing(.25,0)};
    `}),ua=({data:e,options:{variable:t,padding:o=0,status:l,name:s,emptyValue:u=!1,persistent:c=!1,showLabel:d=!1}={},eventBus:g,panelEventBus:p})=>{const f=(0,r.useStyles2)(sa),m=(0,r.useTheme2)(),{variable:v}=Ui(g,t||""),b=Ki(null!=t?t:""),h=(0,i.useMemo)((()=>yi(v)?null==v?void 0:v.options.filter((e=>e.selected)).map((e=>e.value)):[]),[v]),y=Qi({data:e,name:s,status:l});return v?yi(v)&&v.options.length?a().createElement("div",{className:(0,n.cx)(f.root,n.css`
          padding: ${o}px;
        `),"data-testid":ai},d&&a().createElement(r.InlineLabel,{className:f.label,width:"auto",transparent:!0},v.label||v.name),v.options.map((e=>{const t=e.value===di?ci:e.value,o=y(t),i=e.selected?o.exist?o.color:m.colors.border.weak:m.colors.background.primary;return a().createElement(r.Button,{key:t,variant:"secondary",fill:"outline",className:n.css`
              background-color: ${i};
              margin: ${m.spacing(.25)};
              color: ${m.colors.getContrastText(i)};
              border-color: ${o.exist?o.color:""};
            `,onClick:()=>{let t=e.value;v.multi&&(t=e.selected?null==h?void 0:h.filter((t=>t!==e.value)):[...h,e.value]),c&&b.remove(),Ci({previousValues:h,variable:v,emptyValueEnabled:u,value:t,panelEventBus:p})},"data-testid":ui(t)},e.text.toString())}))):a().createElement(r.Alert,{severity:"info",title:"Variable","data-testid":si},"Options are not available."):a().createElement(r.Alert,{severity:"info",title:"Variable","data-testid":li},"Variable is not selected.")},ca=({variable:e,emptyValue:t,persistent:n,customValue:o,panelEventBus:l})=>{const s=Ki(e.name),u=(0,i.useMemo)((()=>{const t=e.current.value;return Array.isArray(t)?t:[t]}),[e]),c=(0,i.useCallback)((r=>{n&&s.remove(),Ci({previousValues:u,value:Array.isArray(r)?r.map((e=>e.value)):r.value||"",variable:e,emptyValueEnabled:t,panelEventBus:l})}),[t,l,n,s,u,e]),d=(0,i.useMemo)((()=>{const t=e.options.map((e=>({label:e.text,value:e.value})));return u.forEach((e=>{t.some((t=>t.value===e))||t.push({label:e,value:e})})),t}),[u,e.options]);return a().createElement(r.Select,{"aria-label":oi,onChange:c,options:d,isMulti:e.multi,value:e.multi?u:u[0]||null,allowCustomValue:o})},da=e=>({field:n.css`
      label {
        color: ${e.colors.text.link};
        background: ${e.colors.background.primary};
        border: 1px solid ${e.colors.border.weak};
      }
    `}),ga=({options:{variable:e,padding:t=0,emptyValue:o=!1,persistent:i=!1,customValue:l=!1}={},eventBus:s,width:u,panelEventBus:c})=>{const{variable:d}=Ui(s,e||""),g=(0,r.useStyles2)(da);if(!d)return a().createElement(r.Alert,{severity:"info",title:"Variable","data-testid":ri},"Variable is not selected.");const p=u-80-2*t;return a().createElement("div",{className:n.css`
        padding: ${t}px;
      `,"data-testid":ni},a().createElement(r.InlineField,{className:g.field,grow:!0,label:d.label||d.name,labelWidth:10},a().createElement(a().Fragment,null,(d.type===to.QUERY||d.type===to.CUSTOM)&&a().createElement("div",{style:{maxWidth:p}},a().createElement(ca,{variable:d,emptyValue:o,persistent:i,customValue:l,panelEventBus:c})),d.type===to.TEXTBOX&&a().createElement(ea,{variable:d,panelEventBus:c}))))};function pa(e,t){return"function"==typeof e?e(t):e}function fa(e,t){return n=>{t.setState((t=>({...t,[e]:pa(n,t[e])})))}}function ma(e){return e instanceof Function}function va(e,t,n){let r,o=[];return i=>{let a;n.key&&n.debug&&(a=Date.now());const l=e(i);if(l.length===o.length&&!l.some(((e,t)=>o[t]!==e)))return r;let s;if(o=l,n.key&&n.debug&&(s=Date.now()),r=t(...l),null==n||null==n.onChange||n.onChange(r),n.key&&n.debug&&null!=n&&n.debug()){const e=Math.round(100*(Date.now()-a))/100,t=Math.round(100*(Date.now()-s))/100,r=t/16,o=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};console.info(`%c ${o(t,5)} /${o(e,5)} ms`,`\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(0,Math.min(120-120*r,120))}deg 100% 31%);`,null==n?void 0:n.key)}return r}}function ba(e,t,n,r){return{debug:()=>{var n;return null!=(n=null==e?void 0:e.debugAll)?n:e[t]},key:!1,onChange:r}}const ha="debugHeaders";function ya(e,t,n){var r;let o={id:null!=(r=n.id)?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const e=[],t=n=>{n.subHeaders&&n.subHeaders.length&&n.subHeaders.map(t),e.push(n)};return t(o),e},getContext:()=>({table:e,header:o,column:t})};return e._features.forEach((t=>{null==t.createHeader||t.createHeader(o,e)})),o}const wa={createTable:e=>{e.getHeaderGroups=va((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right]),((t,n,r,o)=>{var i,a;const l=null!=(i=null==r?void 0:r.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?i:[],s=null!=(a=null==o?void 0:o.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?a:[];return Sa(t,[...l,...n.filter((e=>!(null!=r&&r.includes(e.id)||null!=o&&o.includes(e.id)))),...s],e)}),ba(e.options,ha)),e.getCenterHeaderGroups=va((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right]),((t,n,r,o)=>Sa(t,n=n.filter((e=>!(null!=r&&r.includes(e.id)||null!=o&&o.includes(e.id)))),e,"center")),ba(e.options,ha)),e.getLeftHeaderGroups=va((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left]),((t,n,r)=>{var o;return Sa(t,null!=(o=null==r?void 0:r.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?o:[],e,"left")}),ba(e.options,ha)),e.getRightHeaderGroups=va((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right]),((t,n,r)=>{var o;return Sa(t,null!=(o=null==r?void 0:r.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?o:[],e,"right")}),ba(e.options,ha)),e.getFooterGroups=va((()=>[e.getHeaderGroups()]),(e=>[...e].reverse()),ba(e.options,ha)),e.getLeftFooterGroups=va((()=>[e.getLeftHeaderGroups()]),(e=>[...e].reverse()),ba(e.options,ha)),e.getCenterFooterGroups=va((()=>[e.getCenterHeaderGroups()]),(e=>[...e].reverse()),ba(e.options,ha)),e.getRightFooterGroups=va((()=>[e.getRightHeaderGroups()]),(e=>[...e].reverse()),ba(e.options,ha)),e.getFlatHeaders=va((()=>[e.getHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),ba(e.options,ha)),e.getLeftFlatHeaders=va((()=>[e.getLeftHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),ba(e.options,ha)),e.getCenterFlatHeaders=va((()=>[e.getCenterHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),ba(e.options,ha)),e.getRightFlatHeaders=va((()=>[e.getRightHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),ba(e.options,ha)),e.getCenterLeafHeaders=va((()=>[e.getCenterFlatHeaders()]),(e=>e.filter((e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}))),ba(e.options,ha)),e.getLeftLeafHeaders=va((()=>[e.getLeftFlatHeaders()]),(e=>e.filter((e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}))),ba(e.options,ha)),e.getRightLeafHeaders=va((()=>[e.getRightFlatHeaders()]),(e=>e.filter((e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}))),ba(e.options,ha)),e.getLeafHeaders=va((()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()]),((e,t,n)=>{var r,o,i,a,l,s;return[...null!=(r=null==(o=e[0])?void 0:o.headers)?r:[],...null!=(i=null==(a=t[0])?void 0:a.headers)?i:[],...null!=(l=null==(s=n[0])?void 0:s.headers)?l:[]].map((e=>e.getLeafHeaders())).flat()}),ba(e.options,ha))}};function Sa(e,t,n,r){var o,i;let a=0;const l=function(e,t){void 0===t&&(t=1),a=Math.max(a,t),e.filter((e=>e.getIsVisible())).forEach((e=>{var n;null!=(n=e.columns)&&n.length&&l(e.columns,t+1)}),0)};l(e);let s=[];const u=(e,t)=>{const o={depth:t,id:[r,`${t}`].filter(Boolean).join("_"),headers:[]},i=[];e.forEach((e=>{const a=[...i].reverse()[0];let l,s=!1;if(e.column.depth===o.depth&&e.column.parent?l=e.column.parent:(l=e.column,s=!0),a&&(null==a?void 0:a.column)===l)a.subHeaders.push(e);else{const o=ya(n,l,{id:[r,t,l.id,null==e?void 0:e.id].filter(Boolean).join("_"),isPlaceholder:s,placeholderId:s?`${i.filter((e=>e.column===l)).length}`:void 0,depth:t,index:i.length});o.subHeaders.push(e),i.push(o)}o.headers.push(e),e.headerGroup=o})),s.push(o),t>0&&u(i,t-1)},c=t.map(((e,t)=>ya(n,e,{depth:a,index:t})));u(c,a-1),s.reverse();const d=e=>e.filter((e=>e.column.getIsVisible())).map((e=>{let t=0,n=0,r=[0];return e.subHeaders&&e.subHeaders.length?(r=[],d(e.subHeaders).forEach((e=>{let{colSpan:n,rowSpan:o}=e;t+=n,r.push(o)}))):t=1,n+=Math.min(...r),e.colSpan=t,e.rowSpan=n,{colSpan:t,rowSpan:n}}));return d(null!=(o=null==(i=s[0])?void 0:i.headers)?o:[]),s}const Ca={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},xa={getDefaultColumnDef:()=>Ca,getInitialState:e=>({columnSizing:{},columnSizingInfo:{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]},...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:fa("columnSizing",e),onColumnSizingInfoChange:fa("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,o;const i=t.getState().columnSizing[e.id];return Math.min(Math.max(null!=(n=e.columnDef.minSize)?n:Ca.minSize,null!=(r=null!=i?i:e.columnDef.size)?r:Ca.size),null!=(o=e.columnDef.maxSize)?o:Ca.maxSize)},e.getStart=va((e=>[e,nl(t,e),t.getState().columnSizing]),((t,n)=>n.slice(0,e.getIndex(t)).reduce(((e,t)=>e+t.getSize()),0)),ba(t.options,"debugColumns")),e.getAfter=va((e=>[e,nl(t,e),t.getState().columnSizing]),((t,n)=>n.slice(e.getIndex(t)+1).reduce(((e,t)=>e+t.getSize()),0)),ba(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing((t=>{let{[e.id]:n,...r}=t;return r}))},e.getCanResize=()=>{var n,r;return(null==(n=e.columnDef.enableResizing)||n)&&(null==(r=t.options.enableColumnResizing)||r)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let t=0;const n=e=>{var r;e.subHeaders.length?e.subHeaders.forEach(n):t+=null!=(r=e.column.getSize())?r:0};return n(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),o=null==r?void 0:r.getCanResize();return i=>{if(!r||!o)return;if(null==i.persist||i.persist(),Ia(i)&&i.touches&&i.touches.length>1)return;const a=e.getSize(),l=e?e.getLeafHeaders().map((e=>[e.column.id,e.column.getSize()])):[[r.id,r.getSize()]],s=Ia(i)?Math.round(i.touches[0].clientX):i.clientX,u={},c=(e,n)=>{"number"==typeof n&&(t.setColumnSizingInfo((e=>{var r,o;const i="rtl"===t.options.columnResizeDirection?-1:1,a=(n-(null!=(r=null==e?void 0:e.startOffset)?r:0))*i,l=Math.max(a/(null!=(o=null==e?void 0:e.startSize)?o:0),-.999999);return e.columnSizingStart.forEach((e=>{let[t,n]=e;u[t]=Math.round(100*Math.max(n+n*l,0))/100})),{...e,deltaOffset:a,deltaPercentage:l}})),"onChange"!==t.options.columnResizeMode&&"end"!==e||t.setColumnSizing((e=>({...e,...u}))))},d=e=>c("move",e),g=e=>{c("end",e),t.setColumnSizingInfo((e=>({...e,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]})))},p=n||"undefined"!=typeof document?document:null,f={moveHandler:e=>d(e.clientX),upHandler:e=>{null==p||p.removeEventListener("mousemove",f.moveHandler),null==p||p.removeEventListener("mouseup",f.upHandler),g(e.clientX)}},m={moveHandler:e=>(e.cancelable&&(e.preventDefault(),e.stopPropagation()),d(e.touches[0].clientX),!1),upHandler:e=>{var t;null==p||p.removeEventListener("touchmove",m.moveHandler),null==p||p.removeEventListener("touchend",m.upHandler),e.cancelable&&(e.preventDefault(),e.stopPropagation()),g(null==(t=e.touches[0])?void 0:t.clientX)}},v=!!function(){if("boolean"==typeof Ea)return Ea;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch(t){e=!1}return Ea=e,Ea}()&&{passive:!1};Ia(i)?(null==p||p.addEventListener("touchmove",m.moveHandler,v),null==p||p.addEventListener("touchend",m.upHandler,v)):(null==p||p.addEventListener("mousemove",f.moveHandler,v),null==p||p.addEventListener("mouseup",f.upHandler,v)),t.setColumnSizingInfo((e=>({...e,startOffset:s,startSize:a,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:r.id})))}}},createTable:e=>{e.setColumnSizing=t=>null==e.options.onColumnSizingChange?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>null==e.options.onColumnSizingInfoChange?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:null!=(n=e.initialState.columnSizing)?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}:null!=(n=e.initialState.columnSizingInfo)?n:{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]})},e.getTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0},e.getLeftTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getLeftHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0},e.getCenterTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getCenterHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0},e.getRightTotalSize=()=>{var t,n;return null!=(t=null==(n=e.getRightHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0}}};let Ea=null;function Ia(e){return"touchstart"===e.type}const Ra={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:fa("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,o;if(t){if(null!=(r=null!=(o=e.options.autoResetAll)?o:e.options.autoResetExpanded)?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue((()=>{e.resetExpanded(),n=!1}))}}else e._queue((()=>{t=!0}))},e.setExpanded=t=>null==e.options.onExpandedChange?void 0:e.options.onExpandedChange(t),e.toggleAllRowsExpanded=t=>{(null!=t?t:!e.getIsAllRowsExpanded())?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=t=>{var n,r;e.setExpanded(t?{}:null!=(n=null==(r=e.initialState)?void 0:r.expanded)?n:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some((e=>e.getCanExpand())),e.getToggleAllRowsExpandedHandler=()=>t=>{null==t.persist||t.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const t=e.getState().expanded;return!0===t||Object.values(t).some(Boolean)},e.getIsAllRowsExpanded=()=>{const t=e.getState().expanded;return"boolean"==typeof t?!0===t:!!Object.keys(t).length&&!e.getRowModel().flatRows.some((e=>!e.getIsExpanded()))},e.getExpandedDepth=()=>{let t=0;return(!0===e.getState().expanded?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach((e=>{const n=e.split(".");t=Math.max(t,n.length)})),t},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded((r=>{var o;const i=!0===r||!(null==r||!r[e.id]);let a={};if(!0===r?Object.keys(t.getRowModel().rowsById).forEach((e=>{a[e]=!0})):a=r,n=null!=(o=n)?o:!i,!i&&n)return{...a,[e.id]:!0};if(i&&!n){const{[e.id]:t,...n}=a;return n}return r}))},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!(null!=(n=null==t.options.getIsRowExpanded?void 0:t.options.getIsRowExpanded(e))?n:!0===r||(null==r?void 0:r[e.id]))},e.getCanExpand=()=>{var n,r,o;return null!=(n=null==t.options.getRowCanExpand?void 0:t.options.getRowCanExpand(e))?n:(null==(r=t.options.enableExpanding)||r)&&!(null==(o=e.subRows)||!o.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},Oa=(e,t,n)=>{var r;const o=n.toLowerCase();return Boolean(null==(r=e.getValue(t))||null==(r=r.toString())||null==(r=r.toLowerCase())?void 0:r.includes(o))};Oa.autoRemove=e=>_a(e);const Da=(e,t,n)=>{var r;return Boolean(null==(r=e.getValue(t))||null==(r=r.toString())?void 0:r.includes(n))};Da.autoRemove=e=>_a(e);const Pa=(e,t,n)=>{var r;return(null==(r=e.getValue(t))||null==(r=r.toString())?void 0:r.toLowerCase())===(null==n?void 0:n.toLowerCase())};Pa.autoRemove=e=>_a(e);const Aa=(e,t,n)=>{var r;return null==(r=e.getValue(t))?void 0:r.includes(n)};Aa.autoRemove=e=>_a(e)||!(null!=e&&e.length);const Ma=(e,t,n)=>!n.some((n=>{var r;return!(null!=(r=e.getValue(t))&&r.includes(n))}));Ma.autoRemove=e=>_a(e)||!(null!=e&&e.length);const Fa=(e,t,n)=>n.some((n=>{var r;return null==(r=e.getValue(t))?void 0:r.includes(n)}));Fa.autoRemove=e=>_a(e)||!(null!=e&&e.length);const Na=(e,t,n)=>e.getValue(t)===n;Na.autoRemove=e=>_a(e);const Ba=(e,t,n)=>e.getValue(t)==n;Ba.autoRemove=e=>_a(e);const Ta=(e,t,n)=>{let[r,o]=n;const i=e.getValue(t);return i>=r&&i<=o};Ta.resolveFilterValue=e=>{let[t,n]=e,r="number"!=typeof t?parseFloat(t):t,o="number"!=typeof n?parseFloat(n):n,i=null===t||Number.isNaN(r)?-1/0:r,a=null===n||Number.isNaN(o)?1/0:o;if(i>a){const e=i;i=a,a=e}return[i,a]},Ta.autoRemove=e=>_a(e)||_a(e[0])&&_a(e[1]);const La={includesString:Oa,includesStringSensitive:Da,equalsString:Pa,arrIncludes:Aa,arrIncludesAll:Ma,arrIncludesSome:Fa,equals:Na,weakEquals:Ba,inNumberRange:Ta};function _a(e){return null==e||""===e}const ka={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],globalFilter:void 0,...e}),getDefaultOptions:e=>({onColumnFiltersChange:fa("columnFilters",e),onGlobalFilterChange:fa("globalFilter",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100,globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=null==(n=e.getCoreRowModel().flatRows[0])||null==(n=n._getAllCellsByColumnId()[t.id])?void 0:n.getValue();return"string"==typeof r||"number"==typeof r}}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=null==n?void 0:n.getValue(e.id);return"string"==typeof r?La.includesString:"number"==typeof r?La.inNumberRange:"boolean"==typeof r||null!==r&&"object"==typeof r?La.equals:Array.isArray(r)?La.arrIncludes:La.weakEquals},e.getFilterFn=()=>{var n,r;return ma(e.columnDef.filterFn)?e.columnDef.filterFn:"auto"===e.columnDef.filterFn?e.getAutoFilterFn():null!=(n=null==(r=t.options.filterFns)?void 0:r[e.columnDef.filterFn])?n:La[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,o;return(null==(n=e.columnDef.enableColumnFilter)||n)&&(null==(r=t.options.enableColumnFilters)||r)&&(null==(o=t.options.enableFilters)||o)&&!!e.accessorFn},e.getCanGlobalFilter=()=>{var n,r,o,i;return(null==(n=e.columnDef.enableGlobalFilter)||n)&&(null==(r=t.options.enableGlobalFilter)||r)&&(null==(o=t.options.enableFilters)||o)&&(null==(i=null==t.options.getColumnCanGlobalFilter?void 0:t.options.getColumnCanGlobalFilter(e))||i)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return null==(n=t.getState().columnFilters)||null==(n=n.find((t=>t.id===e.id)))?void 0:n.value},e.getFilterIndex=()=>{var n,r;return null!=(n=null==(r=t.getState().columnFilters)?void 0:r.findIndex((t=>t.id===e.id)))?n:-1},e.setFilterValue=n=>{t.setColumnFilters((t=>{const r=e.getFilterFn(),o=null==t?void 0:t.find((t=>t.id===e.id)),i=pa(n,o?o.value:void 0);var a;if(Va(r,i,e))return null!=(a=null==t?void 0:t.filter((t=>t.id!==e.id)))?a:[];const l={id:e.id,value:i};var s;return o?null!=(s=null==t?void 0:t.map((t=>t.id===e.id?l:t)))?s:[]:null!=t&&t.length?[...t,l]:[l]}))},e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.getGlobalAutoFilterFn=()=>La.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return ma(r)?r:"auto"===r?e.getGlobalAutoFilterFn():null!=(t=null==(n=e.options.filterFns)?void 0:n[r])?t:La[r]},e.setColumnFilters=t=>{const n=e.getAllLeafColumns();null==e.options.onColumnFiltersChange||e.options.onColumnFiltersChange((e=>{var r;return null==(r=pa(t,e))?void 0:r.filter((e=>{const t=n.find((t=>t.id===e.id));return!t||!Va(t.getFilterFn(),e.value,t)}))}))},e.setGlobalFilter=t=>{null==e.options.onGlobalFilterChange||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.columnFilters)?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel()),e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}};function Va(e,t,n){return!(!e||!e.autoRemove)&&e.autoRemove(t,n)||void 0===t||"string"==typeof t&&!t}const Ga={sum:(e,t,n)=>n.reduce(((t,n)=>{const r=n.getValue(e);return t+("number"==typeof r?r:0)}),0),min:(e,t,n)=>{let r;return n.forEach((t=>{const n=t.getValue(e);null!=n&&(r>n||void 0===r&&n>=n)&&(r=n)})),r},max:(e,t,n)=>{let r;return n.forEach((t=>{const n=t.getValue(e);null!=n&&(r<n||void 0===r&&n>=n)&&(r=n)})),r},extent:(e,t,n)=>{let r,o;return n.forEach((t=>{const n=t.getValue(e);null!=n&&(void 0===r?n>=n&&(r=o=n):(r>n&&(r=n),o<n&&(o=n)))})),[r,o]},mean:(e,t)=>{let n=0,r=0;if(t.forEach((t=>{let o=t.getValue(e);null!=o&&(o=+o)>=o&&(++n,r+=o)})),n)return r/n},median:(e,t)=>{if(!t.length)return;const n=t.map((t=>t.getValue(e)));if(r=n,!Array.isArray(r)||!r.every((e=>"number"==typeof e)))return;var r;if(1===n.length)return n[0];const o=Math.floor(n.length/2),i=n.sort(((e,t)=>e-t));return n.length%2!=0?i[o]:(i[o-1]+i[o])/2},unique:(e,t)=>Array.from(new Set(t.map((t=>t.getValue(e)))).values()),uniqueCount:(e,t)=>new Set(t.map((t=>t.getValue(e)))).size,count:(e,t)=>t.length},Ha={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return null!=(t=null==(n=e.getValue())||null==n.toString?void 0:n.toString())?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:fa("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping((t=>null!=t&&t.includes(e.id)?t.filter((t=>t!==e.id)):[...null!=t?t:[],e.id]))},e.getCanGroup=()=>{var n,r,o,i;return null!=(n=null==(r=null!=(o=null==(i=e.columnDef.enableGrouping)||i)?o:t.options.enableGrouping)||r)?n:!!e.accessorFn},e.getIsGrouped=()=>{var n;return null==(n=t.getState().grouping)?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return null==(n=t.getState().grouping)?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=null==n?void 0:n.getValue(e.id);return"number"==typeof r?Ga.sum:"[object Date]"===Object.prototype.toString.call(r)?Ga.extent:void 0},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return ma(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:"auto"===e.columnDef.aggregationFn?e.getAutoAggregationFn():null!=(n=null==(r=t.options.aggregationFns)?void 0:r[e.columnDef.aggregationFn])?n:Ga[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>null==e.options.onGroupingChange?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.grouping)?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return null!=r&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var t;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!(null==(t=n.subRows)||!t.length)}}},ja={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:fa("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=va((e=>[nl(t,e)]),(t=>t.findIndex((t=>t.id===e.id))),ba(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return(null==(r=nl(t,n)[0])?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const o=nl(t,n);return(null==(r=o[o.length-1])?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>null==e.options.onColumnOrderChange?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:null!=(n=e.initialState.columnOrder)?n:[])},e._getOrderColumnsFn=va((()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode]),((e,t,n)=>r=>{let o=[];if(null!=e&&e.length){const t=[...e],n=[...r];for(;n.length&&t.length;){const e=t.shift(),r=n.findIndex((t=>t.id===e));r>-1&&o.push(n.splice(r,1)[0])}o=[...o,...n]}else o=r;return function(e,t,n){if(null==t||!t.length||!n)return e;const r=e.filter((e=>!t.includes(e.id)));return"remove"===n?r:[...t.map((t=>e.find((e=>e.id===t)))).filter(Boolean),...r]}(o,t,n)}),ba(e.options,"debugTable"))}},za={getInitialState:e=>({columnPinning:{left:[],right:[]},rowPinning:{top:[],bottom:[]},...e}),getDefaultOptions:e=>({onColumnPinningChange:fa("columnPinning",e),onRowPinningChange:fa("rowPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map((e=>e.id)).filter(Boolean);t.setColumnPinning((e=>{var t,o,i,a,l,s;return"right"===n?{left:(null!=(i=null==e?void 0:e.left)?i:[]).filter((e=>!(null!=r&&r.includes(e)))),right:[...(null!=(a=null==e?void 0:e.right)?a:[]).filter((e=>!(null!=r&&r.includes(e)))),...r]}:"left"===n?{left:[...(null!=(l=null==e?void 0:e.left)?l:[]).filter((e=>!(null!=r&&r.includes(e)))),...r],right:(null!=(s=null==e?void 0:e.right)?s:[]).filter((e=>!(null!=r&&r.includes(e))))}:{left:(null!=(t=null==e?void 0:e.left)?t:[]).filter((e=>!(null!=r&&r.includes(e)))),right:(null!=(o=null==e?void 0:e.right)?o:[]).filter((e=>!(null!=r&&r.includes(e))))}}))},e.getCanPin=()=>e.getLeafColumns().some((e=>{var n,r,o;return(null==(n=e.columnDef.enablePinning)||n)&&(null==(r=null!=(o=t.options.enableColumnPinning)?o:t.options.enablePinning)||r)})),e.getIsPinned=()=>{const n=e.getLeafColumns().map((e=>e.id)),{left:r,right:o}=t.getState().columnPinning,i=n.some((e=>null==r?void 0:r.includes(e))),a=n.some((e=>null==o?void 0:o.includes(e)));return i?"left":!!a&&"right"},e.getPinnedIndex=()=>{var n,r;const o=e.getIsPinned();return o?null!=(n=null==(r=t.getState().columnPinning)||null==(r=r[o])?void 0:r.indexOf(e.id))?n:-1:0}},createRow:(e,t)=>{e.pin=(n,r,o)=>{const i=r?e.getLeafRows().map((e=>{let{id:t}=e;return t})):[],a=o?e.getParentRows().map((e=>{let{id:t}=e;return t})):[],l=new Set([...a,e.id,...i]);t.setRowPinning((e=>{var t,r,o,i,a,s;return"bottom"===n?{top:(null!=(o=null==e?void 0:e.top)?o:[]).filter((e=>!(null!=l&&l.has(e)))),bottom:[...(null!=(i=null==e?void 0:e.bottom)?i:[]).filter((e=>!(null!=l&&l.has(e)))),...Array.from(l)]}:"top"===n?{top:[...(null!=(a=null==e?void 0:e.top)?a:[]).filter((e=>!(null!=l&&l.has(e)))),...Array.from(l)],bottom:(null!=(s=null==e?void 0:e.bottom)?s:[]).filter((e=>!(null!=l&&l.has(e))))}:{top:(null!=(t=null==e?void 0:e.top)?t:[]).filter((e=>!(null!=l&&l.has(e)))),bottom:(null!=(r=null==e?void 0:e.bottom)?r:[]).filter((e=>!(null!=l&&l.has(e))))}}))},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:o}=t.options;return"function"==typeof r?r(e):null==(n=null!=r?r:o)||n},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:o}=t.getState().rowPinning,i=n.some((e=>null==r?void 0:r.includes(e))),a=n.some((e=>null==o?void 0:o.includes(e)));return i?"top":!!a&&"bottom"},e.getPinnedIndex=()=>{var n,r;const o=e.getIsPinned();if(!o)return-1;const i=null==(n=t._getPinnedRows(o))?void 0:n.map((e=>{let{id:t}=e;return t}));return null!=(r=null==i?void 0:i.indexOf(e.id))?r:-1},e.getCenterVisibleCells=va((()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right]),((e,t,n)=>{const r=[...null!=t?t:[],...null!=n?n:[]];return e.filter((e=>!r.includes(e.column.id)))}),ba(t.options,"debugRows")),e.getLeftVisibleCells=va((()=>[e._getAllVisibleCells(),t.getState().columnPinning.left]),((e,t)=>(null!=t?t:[]).map((t=>e.find((e=>e.column.id===t)))).filter(Boolean).map((e=>({...e,position:"left"})))),ba(t.options,"debugRows")),e.getRightVisibleCells=va((()=>[e._getAllVisibleCells(),t.getState().columnPinning.right]),((e,t)=>(null!=t?t:[]).map((t=>e.find((e=>e.column.id===t)))).filter(Boolean).map((e=>({...e,position:"right"})))),ba(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>null==e.options.onColumnPinningChange?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?{left:[],right:[]}:null!=(n=null==(r=e.initialState)?void 0:r.columnPinning)?n:{left:[],right:[]})},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;var o,i;return t?Boolean(null==(n=r[t])?void 0:n.length):Boolean((null==(o=r.left)?void 0:o.length)||(null==(i=r.right)?void 0:i.length))},e.getLeftLeafColumns=va((()=>[e.getAllLeafColumns(),e.getState().columnPinning.left]),((e,t)=>(null!=t?t:[]).map((t=>e.find((e=>e.id===t)))).filter(Boolean)),ba(e.options,"debugColumns")),e.getRightLeafColumns=va((()=>[e.getAllLeafColumns(),e.getState().columnPinning.right]),((e,t)=>(null!=t?t:[]).map((t=>e.find((e=>e.id===t)))).filter(Boolean)),ba(e.options,"debugColumns")),e.getCenterLeafColumns=va((()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right]),((e,t,n)=>{const r=[...null!=t?t:[],...null!=n?n:[]];return e.filter((e=>!r.includes(e.id)))}),ba(e.options,"debugColumns")),e.setRowPinning=t=>null==e.options.onRowPinningChange?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?{top:[],bottom:[]}:null!=(n=null==(r=e.initialState)?void 0:r.rowPinning)?n:{top:[],bottom:[]})},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;var o,i;return t?Boolean(null==(n=r[t])?void 0:n.length):Boolean((null==(o=r.top)?void 0:o.length)||(null==(i=r.bottom)?void 0:i.length))},e._getPinnedRows=va((t=>[e.getRowModel().rows,e.getState().rowPinning[t],t]),((t,n,r)=>{var o;return(null==(o=e.options.keepPinnedRows)||o?(null!=n?n:[]).map((t=>{const n=e.getRow(t,!0);return n.getIsAllParentsExpanded()?n:null})):(null!=n?n:[]).map((e=>t.find((t=>t.id===e))))).filter(Boolean).map((e=>({...e,position:r})))}),ba(e.options,"debugRows")),e.getTopRows=()=>e._getPinnedRows("top"),e.getBottomRows=()=>e._getPinnedRows("bottom"),e.getCenterRows=va((()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom]),((e,t,n)=>{const r=new Set([...null!=t?t:[],...null!=n?n:[]]);return e.filter((e=>!r.has(e.id)))}),ba(e.options,"debugRows"))}},Ua={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:fa("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>null==e.options.onRowSelectionChange?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:null!=(n=e.initialState.rowSelection)?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection((n=>{t=void 0!==t?t:!e.getIsAllRowsSelected();const r={...n},o=e.getPreGroupedRowModel().flatRows;return t?o.forEach((e=>{e.getCanSelect()&&(r[e.id]=!0)})):o.forEach((e=>{delete r[e.id]})),r}))},e.toggleAllPageRowsSelected=t=>e.setRowSelection((n=>{const r=void 0!==t?t:!e.getIsAllPageRowsSelected(),o={...n};return e.getRowModel().rows.forEach((t=>{$a(o,t.id,r,!0,e)})),o})),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=va((()=>[e.getState().rowSelection,e.getCoreRowModel()]),((t,n)=>Object.keys(t).length?Wa(e,n):{rows:[],flatRows:[],rowsById:{}}),ba(e.options,"debugTable")),e.getFilteredSelectedRowModel=va((()=>[e.getState().rowSelection,e.getFilteredRowModel()]),((t,n)=>Object.keys(t).length?Wa(e,n):{rows:[],flatRows:[],rowsById:{}}),ba(e.options,"debugTable")),e.getGroupedSelectedRowModel=va((()=>[e.getState().rowSelection,e.getSortedRowModel()]),((t,n)=>Object.keys(t).length?Wa(e,n):{rows:[],flatRows:[],rowsById:{}}),ba(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=Boolean(t.length&&Object.keys(n).length);return r&&t.some((e=>e.getCanSelect()&&!n[e.id]))&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter((e=>e.getCanSelect())),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some((e=>!n[e.id]))&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys(null!=(t=e.getState().rowSelection)?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return!e.getIsAllPageRowsSelected()&&t.filter((e=>e.getCanSelect())).some((e=>e.getIsSelected()||e.getIsSomeSelected()))},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const o=e.getIsSelected();t.setRowSelection((i=>{var a;if(n=void 0!==n?n:!o,e.getCanSelect()&&o===n)return i;const l={...i};return $a(l,e.id,n,null==(a=null==r?void 0:r.selectChildren)||a,t),l}))},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return qa(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return"some"===Ka(e,n)},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return"all"===Ka(e,n)},e.getCanSelect=()=>{var n;return"function"==typeof t.options.enableRowSelection?t.options.enableRowSelection(e):null==(n=t.options.enableRowSelection)||n},e.getCanSelectSubRows=()=>{var n;return"function"==typeof t.options.enableSubRowSelection?t.options.enableSubRowSelection(e):null==(n=t.options.enableSubRowSelection)||n},e.getCanMultiSelect=()=>{var n;return"function"==typeof t.options.enableMultiRowSelection?t.options.enableMultiRowSelection(e):null==(n=t.options.enableMultiRowSelection)||n},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return n=>{var r;t&&e.toggleSelected(null==(r=n.target)?void 0:r.checked)}}}},$a=(e,t,n,r,o)=>{var i;const a=o.getRow(t,!0);n?(a.getCanMultiSelect()||Object.keys(e).forEach((t=>delete e[t])),a.getCanSelect()&&(e[t]=!0)):delete e[t],r&&null!=(i=a.subRows)&&i.length&&a.getCanSelectSubRows()&&a.subRows.forEach((t=>$a(e,t.id,n,r,o)))};function Wa(e,t){const n=e.getState().rowSelection,r=[],o={},i=function(e,t){return e.map((e=>{var t;const a=qa(e,n);if(a&&(r.push(e),o[e.id]=e),null!=(t=e.subRows)&&t.length&&(e={...e,subRows:i(e.subRows)}),a)return e})).filter(Boolean)};return{rows:i(t.rows),flatRows:r,rowsById:o}}function qa(e,t){var n;return null!=(n=t[e.id])&&n}function Ka(e,t,n){var r;if(null==(r=e.subRows)||!r.length)return!1;let o=!0,i=!1;return e.subRows.forEach((e=>{if((!i||o)&&(e.getCanSelect()&&(qa(e,t)?i=!0:o=!1),e.subRows&&e.subRows.length)){const n=Ka(e,t);"all"===n?i=!0:"some"===n?(i=!0,o=!1):o=!1}})),o?"all":!!i&&"some"}const Xa=/([0-9]+)/gm;function Ya(e,t){return e===t?0:e>t?1:-1}function Ja(e){return"number"==typeof e?isNaN(e)||e===1/0||e===-1/0?"":String(e):"string"==typeof e?e:""}function Qa(e,t){const n=e.split(Xa).filter(Boolean),r=t.split(Xa).filter(Boolean);for(;n.length&&r.length;){const e=n.shift(),t=r.shift(),o=parseInt(e,10),i=parseInt(t,10),a=[o,i].sort();if(isNaN(a[0])){if(e>t)return 1;if(t>e)return-1}else{if(isNaN(a[1]))return isNaN(o)?-1:1;if(o>i)return 1;if(i>o)return-1}}return n.length-r.length}const Za={alphanumeric:(e,t,n)=>Qa(Ja(e.getValue(n)).toLowerCase(),Ja(t.getValue(n)).toLowerCase()),alphanumericCaseSensitive:(e,t,n)=>Qa(Ja(e.getValue(n)),Ja(t.getValue(n))),text:(e,t,n)=>Ya(Ja(e.getValue(n)).toLowerCase(),Ja(t.getValue(n)).toLowerCase()),textCaseSensitive:(e,t,n)=>Ya(Ja(e.getValue(n)),Ja(t.getValue(n))),datetime:(e,t,n)=>{const r=e.getValue(n),o=t.getValue(n);return r>o?1:r<o?-1:0},basic:(e,t,n)=>Ya(e.getValue(n),t.getValue(n))},el={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:fa("sorting",e),isMultiSortEvent:e=>e.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const t of n){const n=null==t?void 0:t.getValue(e.id);if("[object Date]"===Object.prototype.toString.call(n))return Za.datetime;if("string"==typeof n&&(r=!0,n.split(Xa).length>1))return Za.alphanumeric}return r?Za.text:Za.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return"string"==typeof(null==n?void 0:n.getValue(e.id))?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return ma(e.columnDef.sortingFn)?e.columnDef.sortingFn:"auto"===e.columnDef.sortingFn?e.getAutoSortingFn():null!=(n=null==(r=t.options.sortingFns)?void 0:r[e.columnDef.sortingFn])?n:Za[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const o=e.getNextSortingOrder(),i=null!=n;t.setSorting((a=>{const l=null==a?void 0:a.find((t=>t.id===e.id)),s=null==a?void 0:a.findIndex((t=>t.id===e.id));let u,c=[],d=i?n:"desc"===o;var g;return u=null!=a&&a.length&&e.getCanMultiSort()&&r?l?"toggle":"add":null!=a&&a.length&&s!==a.length-1?"replace":l?"toggle":"replace","toggle"===u&&(i||o||(u="remove")),"add"===u?(c=[...a,{id:e.id,desc:d}],c.splice(0,c.length-(null!=(g=t.options.maxMultiSortColCount)?g:Number.MAX_SAFE_INTEGER))):c="toggle"===u?a.map((t=>t.id===e.id?{...t,desc:d}:t)):"remove"===u?a.filter((t=>t.id!==e.id)):[{id:e.id,desc:d}],c}))},e.getFirstSortDir=()=>{var n,r;return(null!=(n=null!=(r=e.columnDef.sortDescFirst)?r:t.options.sortDescFirst)?n:"desc"===e.getAutoSortDir())?"desc":"asc"},e.getNextSortingOrder=n=>{var r,o;const i=e.getFirstSortDir(),a=e.getIsSorted();return a?!!(a===i||null!=(r=t.options.enableSortingRemoval)&&!r||n&&null!=(o=t.options.enableMultiRemove)&&!o)&&("desc"===a?"asc":"desc"):i},e.getCanSort=()=>{var n,r;return(null==(n=e.columnDef.enableSorting)||n)&&(null==(r=t.options.enableSorting)||r)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return null!=(n=null!=(r=e.columnDef.enableMultiSort)?r:t.options.enableMultiSort)?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=null==(n=t.getState().sorting)?void 0:n.find((t=>t.id===e.id));return!!r&&(r.desc?"desc":"asc")},e.getSortIndex=()=>{var n,r;return null!=(n=null==(r=t.getState().sorting)?void 0:r.findIndex((t=>t.id===e.id)))?n:-1},e.clearSorting=()=>{t.setSorting((t=>null!=t&&t.length?t.filter((t=>t.id!==e.id)):[]))},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(null==r.persist||r.persist(),null==e.toggleSorting||e.toggleSorting(void 0,!!e.getCanMultiSort()&&(null==t.options.isMultiSortEvent?void 0:t.options.isMultiSortEvent(r))))}}},createTable:e=>{e.setSorting=t=>null==e.options.onSortingChange?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.sorting)?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},tl={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:fa("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility((t=>({...t,[e.id]:null!=n?n:!e.getIsVisible()})))},e.getIsVisible=()=>{var n,r;const o=e.columns;return null==(n=o.length?o.some((e=>e.getIsVisible())):null==(r=t.getState().columnVisibility)?void 0:r[e.id])||n},e.getCanHide=()=>{var n,r;return(null==(n=e.columnDef.enableHiding)||n)&&(null==(r=t.options.enableHiding)||r)},e.getToggleVisibilityHandler=()=>t=>{null==e.toggleVisibility||e.toggleVisibility(t.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=va((()=>[e.getAllCells(),t.getState().columnVisibility]),(e=>e.filter((e=>e.column.getIsVisible()))),ba(t.options,"debugRows")),e.getVisibleCells=va((()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()]),((e,t,n)=>[...e,...t,...n]),ba(t.options,"debugRows"))},createTable:e=>{const t=(t,n)=>va((()=>[n(),n().filter((e=>e.getIsVisible())).map((e=>e.id)).join("_")]),(e=>e.filter((e=>null==e.getIsVisible?void 0:e.getIsVisible()))),ba(e.options,"debugColumns"));e.getVisibleFlatColumns=t(0,(()=>e.getAllFlatColumns())),e.getVisibleLeafColumns=t(0,(()=>e.getAllLeafColumns())),e.getLeftVisibleLeafColumns=t(0,(()=>e.getLeftLeafColumns())),e.getRightVisibleLeafColumns=t(0,(()=>e.getRightLeafColumns())),e.getCenterVisibleLeafColumns=t(0,(()=>e.getCenterLeafColumns())),e.setColumnVisibility=t=>null==e.options.onColumnVisibilityChange?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var n;e.setColumnVisibility(t?{}:null!=(n=e.initialState.columnVisibility)?n:{})},e.toggleAllColumnsVisible=t=>{var n;t=null!=(n=t)?n:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce(((e,n)=>({...e,[n.id]:t||!(null!=n.getCanHide&&n.getCanHide())})),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some((e=>!(null!=e.getIsVisible&&e.getIsVisible()))),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some((e=>null==e.getIsVisible?void 0:e.getIsVisible())),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var n;e.toggleAllColumnsVisible(null==(n=t.target)?void 0:n.checked)}}};function nl(e,t){return t?"center"===t?e.getCenterVisibleLeafColumns():"left"===t?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const rl=[wa,tl,ja,za,ka,el,Ha,Ra,{getInitialState:e=>({...e,pagination:{pageIndex:0,pageSize:10,...null==e?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:fa("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,o;if(t){if(null!=(r=null!=(o=e.options.autoResetAll)?o:e.options.autoResetPageIndex)?r:!e.options.manualPagination){if(n)return;n=!0,e._queue((()=>{e.resetPageIndex(),n=!1}))}}else e._queue((()=>{t=!0}))},e.setPagination=t=>null==e.options.onPaginationChange?void 0:e.options.onPaginationChange((e=>pa(t,e))),e.resetPagination=t=>{var n;e.setPagination(t?{pageIndex:0,pageSize:10}:null!=(n=e.initialState.pagination)?n:{pageIndex:0,pageSize:10})},e.setPageIndex=t=>{e.setPagination((n=>{let r=pa(t,n.pageIndex);const o=void 0===e.options.pageCount||-1===e.options.pageCount?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return r=Math.max(0,Math.min(r,o)),{...n,pageIndex:r}}))},e.resetPageIndex=t=>{var n,r;e.setPageIndex(t?0:null!=(n=null==(r=e.initialState)||null==(r=r.pagination)?void 0:r.pageIndex)?n:0)},e.resetPageSize=t=>{var n,r;e.setPageSize(t?10:null!=(n=null==(r=e.initialState)||null==(r=r.pagination)?void 0:r.pageSize)?n:10)},e.setPageSize=t=>{e.setPagination((e=>{const n=Math.max(1,pa(t,e.pageSize)),r=e.pageSize*e.pageIndex,o=Math.floor(r/n);return{...e,pageIndex:o,pageSize:n}}))},e.setPageCount=t=>e.setPagination((n=>{var r;let o=pa(t,null!=(r=e.options.pageCount)?r:-1);return"number"==typeof o&&(o=Math.max(-1,o)),{...n,pageCount:o}})),e.getPageOptions=va((()=>[e.getPageCount()]),(e=>{let t=[];return e&&e>0&&(t=[...new Array(e)].fill(null).map(((e,t)=>t))),t}),ba(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:t}=e.getState().pagination,n=e.getPageCount();return-1===n||0!==n&&t<n-1},e.previousPage=()=>e.setPageIndex((e=>e-1)),e.nextPage=()=>e.setPageIndex((e=>e+1)),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var t;return null!=(t=e.options.pageCount)?t:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var t;return null!=(t=e.options.rowCount)?t:e.getPrePaginationRowModel().rows.length}}},Ua,xa];function ol(e){var t;(e.debugAll||e.debugTable)&&console.info("Creating Table Instance...");let n={_features:rl};const r=n._features.reduce(((e,t)=>Object.assign(e,null==t.getDefaultOptions?void 0:t.getDefaultOptions(n))),{});let o={...null!=(t=e.initialState)?t:{}};n._features.forEach((e=>{var t;o=null!=(t=null==e.getInitialState?void 0:e.getInitialState(o))?t:o}));const i=[];let a=!1;const l={_features:rl,options:{...r,...e},initialState:o,_queue:e=>{i.push(e),a||(a=!0,Promise.resolve().then((()=>{for(;i.length;)i.shift()();a=!1})).catch((e=>setTimeout((()=>{throw e})))))},reset:()=>{n.setState(n.initialState)},setOptions:e=>{const t=pa(e,n.options);n.options=(e=>n.options.mergeOptions?n.options.mergeOptions(r,e):{...r,...e})(t)},getState:()=>n.options.state,setState:e=>{null==n.options.onStateChange||n.options.onStateChange(e)},_getRowId:(e,t,r)=>{var o;return null!=(o=null==n.options.getRowId?void 0:n.options.getRowId(e,t,r))?o:`${r?[r.id,t].join("."):t}`},getCoreRowModel:()=>(n._getCoreRowModel||(n._getCoreRowModel=n.options.getCoreRowModel(n)),n._getCoreRowModel()),getRowModel:()=>n.getPaginationRowModel(),getRow:(e,t)=>{let r=(t?n.getPrePaginationRowModel():n.getRowModel()).rowsById[e];if(!r&&(r=n.getCoreRowModel().rowsById[e],!r))throw new Error;return r},_getDefaultColumnDef:va((()=>[n.options.defaultColumn]),(e=>{var t;return e=null!=(t=e)?t:{},{header:e=>{const t=e.header.column.columnDef;return t.accessorKey?t.accessorKey:t.accessorFn?t.id:null},cell:e=>{var t,n;return null!=(t=null==(n=e.renderValue())||null==n.toString?void 0:n.toString())?t:null},...n._features.reduce(((e,t)=>Object.assign(e,null==t.getDefaultColumnDef?void 0:t.getDefaultColumnDef())),{}),...e}}),ba(e,"debugColumns")),_getColumnDefs:()=>n.options.columns,getAllColumns:va((()=>[n._getColumnDefs()]),(e=>{const t=function(e,r,o){return void 0===o&&(o=0),e.map((e=>{const i=function(e,t,n,r){var o,i;const a={...e._getDefaultColumnDef(),...t},l=a.accessorKey;let s,u=null!=(o=null!=(i=a.id)?i:l?l.replace(".","_"):void 0)?o:"string"==typeof a.header?a.header:void 0;if(a.accessorFn?s=a.accessorFn:l&&(s=l.includes(".")?e=>{let t=e;for(const e of l.split(".")){var n;t=null==(n=t)?void 0:n[e]}return t}:e=>e[a.accessorKey]),!u)throw new Error;let c={id:`${String(u)}`,accessorFn:s,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:va((()=>[!0]),(()=>{var e;return[c,...null==(e=c.columns)?void 0:e.flatMap((e=>e.getFlatColumns()))]}),ba(e.options,"debugColumns")),getLeafColumns:va((()=>[e._getOrderColumnsFn()]),(e=>{var t;if(null!=(t=c.columns)&&t.length){let t=c.columns.flatMap((e=>e.getLeafColumns()));return e(t)}return[c]}),ba(e.options,"debugColumns"))};for(const t of e._features)null==t.createColumn||t.createColumn(c,e);return c}(n,e,o,r),a=e;return i.columns=a.columns?t(a.columns,i,o+1):[],i}))};return t(e)}),ba(e,"debugColumns")),getAllFlatColumns:va((()=>[n.getAllColumns()]),(e=>e.flatMap((e=>e.getFlatColumns()))),ba(e,"debugColumns")),_getAllFlatColumnsById:va((()=>[n.getAllFlatColumns()]),(e=>e.reduce(((e,t)=>(e[t.id]=t,e)),{})),ba(e,"debugColumns")),getAllLeafColumns:va((()=>[n.getAllColumns(),n._getOrderColumnsFn()]),((e,t)=>t(e.flatMap((e=>e.getLeafColumns())))),ba(e,"debugColumns")),getColumn:e=>n._getAllFlatColumnsById()[e]};Object.assign(n,l);for(let e=0;e<n._features.length;e++){const t=n._features[e];null==t||null==t.createTable||t.createTable(n)}return n}const il=(e,t,n,r,o,i,a)=>{let l={id:t,index:r,original:n,depth:o,parentId:a,_valuesCache:{},_uniqueValuesCache:{},getValue:t=>{if(l._valuesCache.hasOwnProperty(t))return l._valuesCache[t];const n=e.getColumn(t);return null!=n&&n.accessorFn?(l._valuesCache[t]=n.accessorFn(l.original,r),l._valuesCache[t]):void 0},getUniqueValues:t=>{if(l._uniqueValuesCache.hasOwnProperty(t))return l._uniqueValuesCache[t];const n=e.getColumn(t);return null!=n&&n.accessorFn?n.columnDef.getUniqueValues?(l._uniqueValuesCache[t]=n.columnDef.getUniqueValues(l.original,r),l._uniqueValuesCache[t]):(l._uniqueValuesCache[t]=[l.getValue(t)],l._uniqueValuesCache[t]):void 0},renderValue:t=>{var n;return null!=(n=l.getValue(t))?n:e.options.renderFallbackValue},subRows:null!=i?i:[],getLeafRows:()=>function(e,t){const n=[],r=e=>{e.forEach((e=>{n.push(e);const o=t(e);null!=o&&o.length&&r(o)}))};return r(e),n}(l.subRows,(e=>e.subRows)),getParentRow:()=>l.parentId?e.getRow(l.parentId,!0):void 0,getParentRows:()=>{let e=[],t=l;for(;;){const n=t.getParentRow();if(!n)break;e.push(n),t=n}return e.reverse()},getAllCells:va((()=>[e.getAllLeafColumns()]),(t=>t.map((t=>function(e,t,n,r){const o={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:()=>{var t;return null!=(t=o.getValue())?t:e.options.renderFallbackValue},getContext:va((()=>[e,n,t,o]),((e,t,n,r)=>({table:e,column:t,row:n,cell:r,getValue:r.getValue,renderValue:r.renderValue})),ba(e.options,"debugCells"))};return e._features.forEach((r=>{null==r.createCell||r.createCell(o,n,t,e)}),{}),o}(e,l,t,t.id)))),ba(e.options,"debugRows")),_getAllCellsByColumnId:va((()=>[l.getAllCells()]),(e=>e.reduce(((e,t)=>(e[t.column.id]=t,e)),{})),ba(e.options,"debugRows"))};for(let t=0;t<e._features.length;t++){const n=e._features[t];null==n||null==n.createRow||n.createRow(l,e)}return l};function al(e,t){return e?function(e){return"function"==typeof e&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}(n=e)||"function"==typeof n||function(e){return"object"==typeof e&&"symbol"==typeof e.$$typeof&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}(n)?i.createElement(e,t):e:null;var n}function ll(){return ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ll.apply(this,arguments)}function sl(){return sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sl.apply(this,arguments)}function ul(e,t,n){var r,o,i=null!=(r=n.initialDeps)?r:[];return function(){var r;n.key&&null!=n.debug&&n.debug()&&(r=Date.now());var a,l=e();if(l.length===i.length&&!l.some((function(e,t){return i[t]!==e})))return o;if(i=l,n.key&&null!=n.debug&&n.debug()&&(a=Date.now()),o=t.apply(void 0,l),n.key&&null!=n.debug&&n.debug()){var s=Math.round(100*(Date.now()-r))/100,u=Math.round(100*(Date.now()-a))/100,c=u/16,d=function(e,t){for(e=String(e);e.length<t;)e=" "+e;return e};console.info("%c "+d(u,5)+" /"+d(s,5)+" ms","\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl("+Math.max(0,Math.min(120-120*c,120))+"deg 100% 31%);",null==n?void 0:n.key)}return null==n||null==n.onChange||n.onChange(o),o}}function cl(e,t){if(void 0===e)throw new Error("Unexpected undefined"+(t?": "+t:""));return e}var dl=function(e){return e},gl=function(e){for(var t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[],o=t;o<=n;o++)r.push(o);return r},pl=function(e,t){var n=e.scrollElement;if(n){var r=function(e){var n=e.width,r=e.height;t({width:Math.round(n),height:Math.round(r)})};r(n.getBoundingClientRect());var o=new ResizeObserver((function(e){var t=e[0];if(null!=t&&t.borderBoxSize){var o=t.borderBoxSize[0];if(o)return void r({width:o.inlineSize,height:o.blockSize})}r(n.getBoundingClientRect())}));return o.observe(n,{box:"border-box"}),function(){o.unobserve(n)}}},fl=function(e,t){var n=e.scrollElement;if(n){var r=function(){t(n[e.options.horizontal?"scrollLeft":"scrollTop"])};return r(),n.addEventListener("scroll",r,{passive:!0}),function(){n.removeEventListener("scroll",r)}}},ml=function(e,t,n){if(null!=t&&t.borderBoxSize){var r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},vl=function(e,t,n){var r,o,i=t.adjustments,a=void 0===i?0:i,l=t.behavior,s=e+a;null==(r=n.scrollElement)||null==r.scrollTo||r.scrollTo(((o={})[n.options.horizontal?"left":"top"]=s,o.behavior=l,o))},bl=function(e){var t,n,r=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=(t=null,n=function(){return t||("undefined"!=typeof ResizeObserver?t=new ResizeObserver((function(e){e.forEach((function(e){r._measureElement(e.target,e)}))})):null)},{disconnect:function(){var e;return null==(e=n())?void 0:e.disconnect()},observe:function(e){var t;return null==(t=n())?void 0:t.observe(e,{box:"border-box"})},unobserve:function(e){var t;return null==(t=n())?void 0:t.unobserve(e)}}),this.range={startIndex:0,endIndex:0},this.setOptions=function(e){Object.entries(e).forEach((function(t){var n=t[0];void 0===t[1]&&delete e[n]})),r.options=sl({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:dl,rangeExtractor:gl,onChange:function(){},measureElement:ml,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1},e)},this.notify=function(){null==r.options.onChange||r.options.onChange(r)},this.cleanup=function(){r.unsubs.filter(Boolean).forEach((function(e){return e()})),r.unsubs=[],r.scrollElement=null},this._didMount=function(){return r.measureElementCache.forEach(r.observer.observe),function(){r.observer.disconnect(),r.cleanup()}},this._willUpdate=function(){var e=r.options.getScrollElement();r.scrollElement!==e&&(r.cleanup(),r.scrollElement=e,r._scrollToOffset(r.scrollOffset,{adjustments:void 0,behavior:void 0}),r.unsubs.push(r.options.observeElementRect(r,(function(e){var t=r.scrollRect;r.scrollRect=e,(r.options.horizontal?e.width!==t.width:e.height!==t.height)&&r.maybeNotify()}))),r.unsubs.push(r.options.observeElementOffset(r,(function(e){r.scrollAdjustments=0,r.scrollOffset!==e&&(null!==r.isScrollingTimeoutId&&(clearTimeout(r.isScrollingTimeoutId),r.isScrollingTimeoutId=null),r.isScrolling=!0,r.scrollDirection=r.scrollOffset<e?"forward":"backward",r.scrollOffset=e,r.maybeNotify(),r.isScrollingTimeoutId=setTimeout((function(){r.isScrollingTimeoutId=null,r.isScrolling=!1,r.scrollDirection=null,r.maybeNotify()}),r.options.scrollingDelay))}))))},this.getSize=function(){return r.scrollRect[r.options.horizontal?"width":"height"]},this.memoOptions=ul((function(){return[r.options.count,r.options.paddingStart,r.options.scrollMargin,r.options.getItemKey]}),(function(e,t,n,o){return r.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:n,getItemKey:o}}),{key:!1}),this.getFurthestMeasurement=function(e,t){for(var n=new Map,o=new Map,i=t-1;i>=0;i--){var a=e[i];if(!n.has(a.lane)){var l=o.get(a.lane);if(null==l||a.end>l.end?o.set(a.lane,a):a.end<l.end&&n.set(a.lane,!0),n.size===r.options.lanes)break}}return o.size===r.options.lanes?Array.from(o.values()).sort((function(e,t){return e.end-t.end}))[0]:void 0},this.getMeasurements=ul((function(){return[r.memoOptions(),r.itemSizeCache]}),(function(e,t){var n=e.count,o=e.paddingStart,i=e.scrollMargin,a=e.getItemKey,l=r.pendingMeasuredCacheIndexes.length>0?Math.min.apply(Math,r.pendingMeasuredCacheIndexes):0;r.pendingMeasuredCacheIndexes=[];for(var s=r.measurementsCache.slice(0,l),u=l;u<n;u++){var c=a(u),d=1===r.options.lanes?s[u-1]:r.getFurthestMeasurement(s,u),g=d?d.end:o+i,p=t.get(c),f="number"==typeof p?p:r.options.estimateSize(u),m=g+f,v=d?d.lane:u%r.options.lanes;s[u]={index:u,start:g,size:f,end:m,key:c,lane:v}}return r.measurementsCache=s,s}),{key:!1,debug:function(){return r.options.debug}}),this.calculateRange=ul((function(){return[r.getMeasurements(),r.getSize(),r.scrollOffset]}),(function(e,t,n){return r.range=function(e){for(var t=e.measurements,n=e.outerSize,r=e.scrollOffset,o=t.length-1,i=hl(0,o,(function(e){return t[e].start}),r),a=i;a<o&&t[a].end<r+n;)a++;return{startIndex:i,endIndex:a}}({measurements:e,outerSize:t,scrollOffset:n})}),{key:!1,debug:function(){return r.options.debug}}),this.maybeNotify=ul((function(){var e=r.calculateRange();return[e.startIndex,e.endIndex,r.isScrolling]}),(function(){r.notify()}),{key:!1,debug:function(){return r.options.debug},initialDeps:[this.range.startIndex,this.range.endIndex,this.isScrolling]}),this.getIndexes=ul((function(){return[r.options.rangeExtractor,r.calculateRange(),r.options.overscan,r.options.count]}),(function(e,t,n,r){return e(sl({},t,{overscan:n,count:r}))}),{key:!1,debug:function(){return r.options.debug}}),this.indexFromElement=function(e){var t=r.options.indexAttribute,n=e.getAttribute(t);return n?parseInt(n,10):(console.warn("Missing attribute name '"+t+"={index}' on measured element."),-1)},this._measureElement=function(e,t){var n=r.measurementsCache[r.indexFromElement(e)];if(n&&e.isConnected){var o=r.measureElementCache.get(n.key);o!==e&&(o&&r.observer.unobserve(o),r.observer.observe(e),r.measureElementCache.set(n.key,e));var i=r.options.measureElement(e,t,r);r.resizeItem(n,i)}else r.measureElementCache.forEach((function(t,n){t===e&&(r.observer.unobserve(e),r.measureElementCache.delete(n))}))},this.resizeItem=function(e,t){var n,o=t-(null!=(n=r.itemSizeCache.get(e.key))?n:e.size);0!==o&&(e.start<r.scrollOffset&&r._scrollToOffset(r.scrollOffset,{adjustments:r.scrollAdjustments+=o,behavior:void 0}),r.pendingMeasuredCacheIndexes.push(e.index),r.itemSizeCache=new Map(r.itemSizeCache.set(e.key,t)),r.notify())},this.measureElement=function(e){e&&r._measureElement(e,void 0)},this.getVirtualItems=ul((function(){return[r.getIndexes(),r.getMeasurements()]}),(function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=t[e[r]];n.push(i)}return n}),{key:!1,debug:function(){return r.options.debug}}),this.getVirtualItemForOffset=function(e){var t=r.getMeasurements();return cl(t[hl(0,t.length-1,(function(e){return cl(t[e]).start}),e)])},this.getOffsetForAlignment=function(e,t){var n=r.getSize();"auto"===t&&(t=e<=r.scrollOffset?"start":e>=r.scrollOffset+n?"end":"start"),"start"===t||("end"===t?e-=n:"center"===t&&(e-=n/2));var o=r.options.horizontal?"scrollWidth":"scrollHeight",i=(r.scrollElement?"document"in r.scrollElement?r.scrollElement.document.documentElement[o]:r.scrollElement[o]:0)-r.getSize();return Math.max(Math.min(i,e),0)},this.getOffsetForIndex=function(e,t){void 0===t&&(t="auto"),e=Math.max(0,Math.min(e,r.options.count-1));var n=cl(r.getMeasurements()[e]);if("auto"===t)if(n.end>=r.scrollOffset+r.getSize()-r.options.scrollPaddingEnd)t="end";else{if(!(n.start<=r.scrollOffset+r.options.scrollPaddingStart))return[r.scrollOffset,t];t="start"}var o="end"===t?n.end+r.options.scrollPaddingEnd:n.start-r.options.scrollPaddingStart;return[r.getOffsetForAlignment(o,t),t]},this.isDynamicMode=function(){return r.measureElementCache.size>0},this.cancelScrollToIndex=function(){null!==r.scrollToIndexTimeoutId&&(clearTimeout(r.scrollToIndexTimeoutId),r.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(e,t){var n=void 0===t?{}:t,o=n.align,i=void 0===o?"start":o,a=n.behavior;r.cancelScrollToIndex(),"smooth"===a&&r.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),r._scrollToOffset(r.getOffsetForAlignment(e,i),{adjustments:void 0,behavior:a})},this.scrollToIndex=function(e,t){var n=void 0===t?{}:t,o=n.align,i=void 0===o?"auto":o,a=n.behavior;e=Math.max(0,Math.min(e,r.options.count-1)),r.cancelScrollToIndex(),"smooth"===a&&r.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");var l=r.getOffsetForIndex(e,i),s=l[0],u=l[1];r._scrollToOffset(s,{adjustments:void 0,behavior:a}),"smooth"!==a&&r.isDynamicMode()&&(r.scrollToIndexTimeoutId=setTimeout((function(){var t,n;(r.scrollToIndexTimeoutId=null,r.measureElementCache.has(r.options.getItemKey(e)))?(t=r.getOffsetForIndex(e,u)[0],n=r.scrollOffset,Math.abs(t-n)<1||r.scrollToIndex(e,{align:u,behavior:a})):r.scrollToIndex(e,{align:u,behavior:a})})))},this.scrollBy=function(e,t){var n=(void 0===t?{}:t).behavior;r.cancelScrollToIndex(),"smooth"===n&&r.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),r._scrollToOffset(r.scrollOffset+e,{adjustments:void 0,behavior:n})},this.getTotalSize=function(){var e;return((null==(e=r.getMeasurements()[r.options.count-1])?void 0:e.end)||r.options.paddingStart)-r.options.scrollMargin+r.options.paddingEnd},this._scrollToOffset=function(e,t){var n=t.adjustments,o=t.behavior;r.options.scrollToFn(e,{behavior:o,adjustments:n},r)},this.measure=function(){r.itemSizeCache=new Map,r.notify()},this.setOptions(e),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach((function(e){r.itemSizeCache.set(e.key,e.size)})),this.maybeNotify()},hl=function(e,t,n,r){for(;e<=t;){var o=(e+t)/2|0,i=n(o);if(i<r)e=o+1;else{if(!(i>r))return o;t=o-1}}return e>0?e-1:0},yl="undefined"!=typeof document?i.useLayoutEffect:i.useEffect;const wl=e=>{var t;const r=e.colors.emphasize(e.colors.background.primary,.03);return{table:n.css`
      border-radius: ${null===(t=e.shape.radius)||void 0===t?void 0:t.default};
      width: 100%;

      td {
        padding: ${e.spacing(1)};
      }

      td,
      th {
        min-width: ${e.spacing(3)};
      }
    `,disableGrow:n.css`
      width: 0;
    `,header:n.css`
      position: sticky;
      background-color: ${e.colors.background.primary};
      box-shadow: 0 1px ${e.colors.border.weak};
      z-index: 100;
    `,headerCell:n.css`
      padding: ${e.spacing(1)};
    `,row:n.css`
      border-bottom: 1px solid ${e.colors.border.weak};

      &:hover {
        background-color: ${r};
      }

      &:last-child {
        border-bottom: 0;
      }
    `,expandedRow:n.css`
      border-bottom: none;
    `,expandedContentRow:n.css`
      td {
        border-bottom: 1px solid ${e.colors.border.weak};
        position: relative;
        padding: ${e.spacing(2,2,2,5)};

        &:before {
          content: '';
          position: absolute;
          width: 1px;
          top: 0;
          left: 16px;
          bottom: ${e.spacing(2)};
          background: ${e.colors.border.medium};
        }
      }
    `,sortableHeader:n.css`
      /* increases selector's specificity so that it always takes precedence over default styles  */
      && {
      }
    `,headerButton:n.css`
      margin-left: ${e.spacing(.5)};
    `,filterContainer:n.css`
      background-color: ${e.colors.background.primary};
      padding: ${e.spacing(1)};
    `,filterInput:n.css`
      margin-top: ${e.spacing(.5)};
    `}},Sl=({column:e,alwaysVisible:t})=>{const n=(0,r.useStyles2)(wl),[o,l]=(0,i.useState)(t),s=e.getFilterValue(),u=(0,i.useCallback)((()=>{l((e=>!e))}),[]),c=(0,i.useCallback)((t=>{e.setFilterValue(t.currentTarget.value)}),[e]);if("isFavorite"===e.columnDef.id)return a().createElement(r.Button,{variant:"secondary",fill:"text",size:"sm",onClick:()=>{e.setFilterValue(!s)},"data-testid":Lo},s?a().createElement(r.Icon,{name:"favorite"}):a().createElement(r.Icon,{name:"star"}));const d=a().createElement(r.Input,{placeholder:"Search values",value:"string"==typeof s?s:"",onChange:c,className:n.filterInput,"data-testid":_o,addonAfter:s?a().createElement(r.Button,{variant:"secondary",icon:"times",onClick:()=>e.setFilterValue(""),"data-testid":ko}):null});return t?d:a().createElement(a().Fragment,null,a().createElement(r.Button,{icon:"filter",fill:"text",onClick:u,size:"sm",className:n.headerButton,"data-testid":Po}),o&&d)},Cl=({data:e,className:t,columns:o,getSubRows:l,showHeader:s=!0,firstSelectedRowRef:u,tableRef:c,topOffset:d=0,tableHeaderRef:g,scrollableContainerRef:p,alwaysVisibleFilter:f})=>{var m,v;const b=(0,r.useStyles2)(wl),[h,y]=(0,i.useState)(!0),[w,S]=(0,i.useState)([]),C=function(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=i.useState((()=>({current:ol(t)}))),[r,o]=i.useState((()=>n.current.initialState));return n.current.setOptions((t=>({...t,...e,state:{...r,...e.state},onStateChange:t=>{o(t),null==e.onStateChange||e.onStateChange(t)}}))),n.current}({columns:o,data:e,autoResetExpanded:!1,enableSorting:!0,enableMultiSort:!1,getSubRows:l,getCoreRowModel:e=>va((()=>[e.options.data]),(t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(t,o,i){void 0===o&&(o=0);const a=[];for(let s=0;s<t.length;s++){const u=il(e,e._getRowId(t[s],s,i),t[s],s,o,void 0,null==i?void 0:i.id);var l;n.flatRows.push(u),n.rowsById[u.id]=u,a.push(u),e.options.getSubRows&&(u.originalSubRows=e.options.getSubRows(t[s],s),null!=(l=u.originalSubRows)&&l.length&&(u.subRows=r(u.originalSubRows,o+1,u)))}return a};return n.rows=r(t),n}),ba(e.options,"debugTable",0,(()=>e._autoResetPageIndex()))),getSortedRowModel:e=>va((()=>[e.getState().sorting,e.getPreSortedRowModel()]),((t,n)=>{if(!n.rows.length||null==t||!t.length)return n;const r=e.getState().sorting,o=[],i=r.filter((t=>{var n;return null==(n=e.getColumn(t.id))?void 0:n.getCanSort()})),a={};i.forEach((t=>{const n=e.getColumn(t.id);n&&(a[t.id]={sortUndefined:n.columnDef.sortUndefined,invertSorting:n.columnDef.invertSorting,sortingFn:n.getSortingFn()})}));const l=e=>{const t=e.map((e=>({...e})));return t.sort(((e,t)=>{for(let r=0;r<i.length;r+=1){var n;const o=i[r],l=a[o.id],s=null!=(n=null==o?void 0:o.desc)&&n;let u=0;if(l.sortUndefined){const n=void 0===e.getValue(o.id),r=void 0===t.getValue(o.id);(n||r)&&(u=n&&r?0:n?l.sortUndefined:-l.sortUndefined)}if(0===u&&(u=l.sortingFn(e,t,o.id)),0!==u)return s&&(u*=-1),l.invertSorting&&(u*=-1),u}return e.index-t.index})),t.forEach((e=>{var t;o.push(e),null!=(t=e.subRows)&&t.length&&(e.subRows=l(e.subRows))})),t};return{rows:l(n.rows),flatRows:o,rowsById:n.rowsById}}),ba(e.options,"debugTable",0,(()=>e._autoResetPageIndex()))),getExpandedRowModel:e=>va((()=>[e.getState().expanded,e.getPreExpandedRowModel(),e.options.paginateExpandedRows]),((e,t,n)=>!t.rows.length||!0!==e&&!Object.keys(null!=e?e:{}).length?t:n?function(e){const t=[],n=e=>{var r;t.push(e),null!=(r=e.subRows)&&r.length&&e.getIsExpanded()&&e.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}(t):t),ba(e.options,"debugTable")),getFilteredRowModel:e=>va((()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter]),((t,n,r)=>{if(!t.rows.length||(null==n||!n.length)&&!r){for(let e=0;e<t.flatRows.length;e++)t.flatRows[e].columnFilters={},t.flatRows[e].columnFiltersMeta={};return t}const o=[],i=[];(null!=n?n:[]).forEach((t=>{var n;const r=e.getColumn(t.id);if(!r)return;const i=r.getFilterFn();i&&o.push({id:t.id,filterFn:i,resolvedValue:null!=(n=null==i.resolveFilterValue?void 0:i.resolveFilterValue(t.value))?n:t.value})}));const a=n.map((e=>e.id)),l=e.getGlobalFilterFn(),s=e.getAllLeafColumns().filter((e=>e.getCanGlobalFilter()));let u,c;r&&l&&s.length&&(a.push("__global__"),s.forEach((e=>{var t;i.push({id:e.id,filterFn:l,resolvedValue:null!=(t=null==l.resolveFilterValue?void 0:l.resolveFilterValue(r))?t:r})})));for(let e=0;e<t.flatRows.length;e++){const n=t.flatRows[e];if(n.columnFilters={},o.length)for(let e=0;e<o.length;e++){u=o[e];const t=u.id;n.columnFilters[t]=u.filterFn(n,t,u.resolvedValue,(e=>{n.columnFiltersMeta[t]=e}))}if(i.length){for(let e=0;e<i.length;e++){c=i[e];const t=c.id;if(c.filterFn(n,t,c.resolvedValue,(e=>{n.columnFiltersMeta[t]=e}))){n.columnFilters.__global__=!0;break}}!0!==n.columnFilters.__global__&&(n.columnFilters.__global__=!1)}}return function(e,t,n){return n.options.filterFromLeafRows?function(e,t,n){var r;const o=[],i={},a=null!=(r=n.options.maxLeafRowFilterDepth)?r:100,l=function(e,r){void 0===r&&(r=0);const s=[];for(let c=0;c<e.length;c++){var u;let d=e[c];const g=il(n,d.id,d.original,d.index,d.depth,void 0,d.parentId);if(g.columnFilters=d.columnFilters,null!=(u=d.subRows)&&u.length&&r<a){if(g.subRows=l(d.subRows,r+1),d=g,t(d)&&!g.subRows.length){s.push(d),i[d.id]=d,o.push(d);continue}if(t(d)||g.subRows.length){s.push(d),i[d.id]=d,o.push(d);continue}}else d=g,t(d)&&(s.push(d),i[d.id]=d,o.push(d))}return s};return{rows:l(e),flatRows:o,rowsById:i}}(e,t,n):function(e,t,n){var r;const o=[],i={},a=null!=(r=n.options.maxLeafRowFilterDepth)?r:100,l=function(e,r){void 0===r&&(r=0);const s=[];for(let c=0;c<e.length;c++){let d=e[c];if(t(d)){var u;if(null!=(u=d.subRows)&&u.length&&r<a){const e=il(n,d.id,d.original,d.index,d.depth,void 0,d.parentId);e.subRows=l(d.subRows,r+1),d=e}s.push(d),o.push(d),i[d.id]=d}}return s};return{rows:l(e),flatRows:o,rowsById:i}}(e,t,n)}(t.rows,(e=>{for(let t=0;t<a.length;t++)if(!1===e.columnFilters[a[t]])return!1;return!0}),e)}),ba(e.options,"debugTable",0,(()=>e._autoResetPageIndex()))),onColumnFiltersChange:S,enableExpanding:!0,onExpandedChange:y,initialState:{expanded:!0},state:{expanded:h,columnFilters:w}}),{rows:x}=C.getRowModel(),E=(I={getScrollElement:(0,i.useCallback)((()=>p.current),[p]),count:x.length,estimateSize:(0,i.useCallback)((()=>38),[]),measureElement:(0,i.useCallback)((e=>e.offsetHeight),[]),overscan:10},function(e){var t=i.useReducer((function(){return{}}),{})[1],n=ll({},e,{onChange:function(n){t(),null==e.onChange||e.onChange(n)}}),r=i.useState((function(){return new bl(n)}))[0];return r.setOptions(n),i.useEffect((function(){return r._didMount()}),[]),yl((function(){return r._willUpdate()})),r}(ll({observeElementRect:pl,observeElementOffset:fl,scrollToFn:vl},I)));var I;const R=E.getVirtualItems(),O=E.getTotalSize(),D=R.length>0&&(null==R||null===(m=R[0])||void 0===m?void 0:m.start)||0,P=R.length>0?O-((null==R||null===(v=R[R.length-1])||void 0===v?void 0:v.end)||0):0;let A=!1;return a().createElement("table",{className:(0,n.cx)(b.table,t),ref:c},s&&a().createElement("thead",{"data-testid":Vo,className:b.header,style:{top:d},ref:g},C.getHeaderGroups().map((e=>a().createElement("tr",{key:e.id},e.headers.map((e=>a().createElement("th",{key:e.id,className:(0,n.cx)(b.headerCell,{[b.disableGrow]:!e.column.getCanResize(),[b.sortableHeader]:e.column.getCanSort()}),colSpan:e.colSpan,style:{width:"isFavorite"===e.column.columnDef.id?48:"auto"}},al(e.column.columnDef.header,e.getContext()),e.column.getCanSort()&&a().createElement(r.Button,{icon:e.column.getIsSorted()?"asc"===e.column.getIsSorted()?"sort-amount-up":"sort-amount-down":"list-ul",fill:"text",onClick:e.column.getToggleSortingHandler(),size:"sm",className:b.headerButton,variant:e.column.getIsSorted()?"primary":"secondary","data-testid":Ao,title:"Sort by status"}),e.column.getCanFilter()&&a().createElement(Sl,{column:e.column,alwaysVisible:f})))))))),a().createElement("tbody",null,D>0&&a().createElement("tr",null,a().createElement("td",{style:{height:`${D}px`}})),R.map((e=>{const t=x[e.index];let r;return"selected"in t.original&&t.original.selected&&!A&&(A=!0,r=u),a().createElement("tr",{key:t.id,className:(0,n.cx)(b.row,t.getIsExpanded()&&b.expandedRow),ref:r,"data-testid":Mo(t.id)},t.getVisibleCells().map((t=>a().createElement("td",{"data-index":e.index,ref:E.measureElement,key:t.id},al(t.column.columnDef.cell,t.getContext())))))})),P>0&&a().createElement("tr",null,a().createElement("td",{style:{height:`${P}px`}}))))},xl=({data:e,id:t,options:o,width:l,height:s,eventBus:u,panelEventBus:c})=>{var d,g;const[p,f]=Ji({key:`volkovlabs.variable.panel.${o.saveSelectedGroupKey||t}`,initialValue:(null===(g=o.groups)||void 0===g||null===(d=g[0])||void 0===d?void 0:d.name)||"",enabled:o.saveSelectedGroup}),m=(0,i.useMemo)((()=>{var e,t;if((null===(e=o.groups)||void 0===e?void 0:e.length)&&p)return null===(t=o.groups.find((e=>e.name===p)))||void 0===t?void 0:t.items}),[o.groups,p]);(0,i.useEffect)((()=>{var e,t,n;(null===(e=o.groups)||void 0===e?void 0:e.some((e=>e.name===p)))||f((null===(n=o.groups)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.name)||"")}),[p,t,o.groups,f]);const{tableData:v,columns:b,getSubRows:h}=(({data:e,options:t,eventBus:n,panelEventBus:o,levels:l})=>{var s;const u=(0,r.useTheme2)(),c=Zi(u),d=(null==l?void 0:l.length)?null===(s=l[l.length-1])||void 0===s?void 0:s.name:t.variable,{variable:g,getVariable:p}=Ui(n,d),f=la(),m=Qi({data:e,status:t.status,name:t.name}),v=(0,i.useMemo)((()=>{if(!g)return[];const n=Si(g),r=l||[];if(r.length&&yi(g)){const o={},i=((e,t,n)=>{const r=t[t.length-1],o=e.series.find(((e,t)=>void 0===e.refId?t===r.source:e.refId===r.source));if(!o)return null;const i=(e=>{const t=[];for(let n=0;n<e.length;n+=1){const r=e.fields.reduce(((e,t)=>Ii(Ei({},e),{[t.name]:t.values.get(n)})),{});t.push(r)}return t})(o);return Oi(i,t.map((({name:e})=>e)),n||((e,t)=>({value:e[t],label:e[t],selected:!1,showStatus:!1,selectable:!0})))})(e,r,((e,r,i)=>{const a=`${e[r]}`;let l=o[r];if(!l){const e=p(r);l=e,o[r]=e}const s=yi(l)?l.helpers.getOption(a):g.helpers.getOption(a);return Di({value:a,selected:(null==s?void 0:s.selected)||!1,variable:l,isFavorite:f.isAdded(r,a),name:r,label:(null==s?void 0:s.text)||a},{children:i,status:m(a),isSelectedAll:n,favoritesEnabled:t.favorites,groupSelection:t.groupSelection})}));if(i)return 1===r.length&&(null==g?void 0:g.multi)&&(null==g?void 0:g.includeAll)?[Di({value:di,selected:n,variable:p(r[0].name),isFavorite:!1,name:r[0].name,label:ci},{status:m(ci),isSelectedAll:n,favoritesEnabled:t.favorites,groupSelection:t.groupSelection})].concat(i):i}return yi(g)?g.options.map((e=>Di({value:e.value,selected:e.selected,variable:g,isFavorite:f.isAdded(g.name,e.value),label:e.text},{status:m(e.value===di?ci:e.value),isSelectedAll:n,favoritesEnabled:t.favorites,groupSelection:t.groupSelection}))):g.type===to.TEXTBOX?[Di({value:(null===(o=g.current.value)||void 0===o?void 0:o.toString())||"",label:(null===(i=g.current.text)||void 0===i?void 0:i.toString())||"",selected:!1,variable:g,isFavorite:!1,name:null==g?void 0:g.name},{status:m(""),isSelectedAll:n,favoritesEnabled:t.favorites,groupSelection:t.groupSelection})]:[];var o,i}),[g,l,e,p,f,m,t.favorites,t.groupSelection]),b=(0,i.useCallback)((e=>{const t=e.childValues||[e.value],n=Pi(v,t);Ai(n).filter((e=>e.variable!==g&&e.selectable)).map((e=>({variable:e.variable,values:e.values.filter((t=>{var n;return yi(e.variable)?null===(n=e.variable)||void 0===n?void 0:n.options.some((e=>e.text===t&&!e.selected)):t}))}))).filter((e=>e.values.length>0)).forEach((({variable:e,values:t})=>{hi(t,e,o)})),hi(t,g,o)}),[o,g,v]),h=(0,i.useCallback)((e=>{var t;e.selected&&yi(e.variable)&&!(null===(t=e.variable)||void 0===t?void 0:t.multi)&&e.variable===g&&b(e)}),[b,g]),y=(0,i.useMemo)((()=>{const e=`${(null==g?void 0:g.name)||d}`,o=[{id:"value",accessorKey:"value",header:({table:n})=>{const o=!!g&&Si(g);return a().createElement(a().Fragment,null,t.groupSelection&&a().createElement("input",{type:"checkbox",onChange:()=>{const e={childValues:Ri(v,(e=>e.childValues||e.value),[]),selected:o,value:"",showStatus:!1,label:""};b(e)},checked:o,className:c.selectControl,id:`${e}-select-all`,"data-testid":Bo,title:"Select all"}),n.getCanSomeRowsExpand()&&a().createElement(r.Button,{className:c.expandButton,onClick:n.getToggleAllRowsExpandedHandler(),variant:"secondary",fill:"text",size:"sm",icon:n.getIsAllRowsExpanded()?"angle-double-down":"angle-double-right","data-testid":Do}),(null==g?void 0:g.label)||d)},enableColumnFilter:t.filter,filterFn:Mi,enableSorting:t.statusSort,sortingFn:Fi,cell:({row:o,getValue:i})=>{const l=o.original.label||i();return a().createElement("div",{className:c.rowContent,style:{paddingLeft:u.spacing(1.5*o.depth)},"data-testid":Fo(l,o.depth)},o.original.selectable&&a().createElement("input",{type:yi(g)?(null==g?void 0:g.multi)?"checkbox":"radio":"text",onChange:()=>b(o.original),onClick:()=>h(o.original),checked:o.original.selected,className:c.selectControl,id:`${e}-${o.original.value}`,"data-testid":No,ref:e=>{if(e&&"checkbox"===e.type){const{childSelectedCount:t=0,childValues:n}=o.original;e.indeterminate=((null==n?void 0:n.length)||0)>t}}}),o.getCanExpand()&&a().createElement(r.Button,{className:c.expandButton,onClick:o.getToggleExpandedHandler(),variant:"secondary",fill:"text",size:"sm",icon:o.getIsExpanded()?"angle-down":"angle-right","data-testid":Oo}),yi(g)&&a().createElement("label",{onClick:()=>{o.original.selectable?b(o.original):o.getCanExpand()&&o.getToggleExpandedHandler()()},"data-testid":Go,className:c.label},o.original.showStatus&&a().createElement("span",{className:c.status,style:{backgroundColor:o.original.statusColor}}),a().createElement("span",{style:{fontWeight:o.original.selected?u.typography.fontWeightBold:u.typography.fontWeightRegular}},t.showName&&o.original.name?`${o.original.name}: `:"",l)),(null==g?void 0:g.type)===to.TEXTBOX&&a().createElement(ea,{variable:g,panelEventBus:n}))}}];return t.favorites&&o.push({id:"isFavorite",accessorKey:"isFavorite",enableColumnFilter:!0,enableResizing:!1,enableSorting:!1,header:"",filterFn:Ni,cell:({row:e,getValue:t})=>{const n=t();return e.original.canBeFavorite?a().createElement(r.Button,{variant:"secondary",fill:"text",size:"sm",onClick:()=>{var t,r;n?f.remove(null===(t=e.original.variable)||void 0===t?void 0:t.name,e.original.value):f.add(null===(r=e.original.variable)||void 0===r?void 0:r.name,e.original.value)},"data-testid":To},n?a().createElement(r.Icon,{name:"favorite"}):a().createElement(r.Icon,{name:"star"})):null}}),o}),[g,d,t.filter,t.statusSort,t.favorites,t.groupSelection,t.showName,c.selectControl,c.expandButton,c.rowContent,c.label,c.status,v,b,u,n,h,f]),w=(0,i.useCallback)((e=>e.children),[]);return{tableData:v,columns:y,getSubRows:w}})({data:e,options:o,eventBus:u,levels:m,panelEventBus:c}),{containerRef:y,tableRef:w,headerRef:S,tableTopOffset:C,tableHeaderRef:x,tableContentTopOffset:E}=(({tableData:e,height:t,options:n})=>{const r=(0,i.useRef)(null),o=(0,i.useRef)(null),a=(0,i.useRef)(null),l=(0,i.useRef)(null),[s,u]=(0,i.useState)(0),[c,d]=(0,i.useState)(0);return(0,i.useEffect)((()=>{if(r.current){let e=0;o.current&&(e+=o.current.clientHeight),u(e)}}),[e,t,n.groups]),(0,i.useEffect)((()=>{if(r.current){let e=s;l.current&&(e+=l.current.clientHeight),d(e)}}),[e,s,n.header,n.filter]),{containerRef:r,headerRef:o,tableRef:a,tableHeaderRef:l,tableTopOffset:s,tableContentTopOffset:c}})({height:s,options:o,tableData:v}),{containerRef:I,style:R}=(({width:e,height:t,sticky:n,scrollableContainerRef:r})=>{const o=(0,i.useRef)(null),a=(0,i.useRef)(null),l=(0,i.useRef)(null),[s,u]=(0,i.useState)({width:e,height:t}),c=(0,i.useRef)((0,zi.throttle)((e=>{u(e)}),100));return(0,i.useLayoutEffect)((()=>{a.current||(a.current=document.querySelector(".main-view .scrollbar-view")),l.current||(l.current=document.querySelector('[aria-label="Dashboard submenu"]'));const i=()=>{if(o.current&&a.current){if(n){const t=(()=>{if(l.current){const e=getComputedStyle(l.current);if("fixed"===e.position&&"hidden"!==e.visibility)return{enabled:!0,height:l.current.clientHeight}}return{enabled:!1,height:0}})(),{y:n,height:i}=o.current.getBoundingClientRect(),s=a.current.getBoundingClientRect(),u=s.top+t.height,d=n-u,g=Math.abs(Math.min(d,0)),p=s.height-n+u,f=Math.min(Math.max(i-g,0),d<0?s.height:p);return r.current&&(r.current.style.transform=`translateY(${g}px)`,r.current.style.height=`${f}px`),void c.current({height:f,transform:`translateY(${g}px)`,width:e})}u({width:e,height:t})}};return i(),a.current&&n?(a.current.addEventListener("scroll",i),()=>{var e;null===(e=a.current)||void 0===e||e.removeEventListener("scroll",i)}):()=>{}}),[o,e,t,n,r]),{containerRef:o,style:s}})({width:l,height:s,sticky:o.sticky,scrollableContainerRef:y}),O=(0,i.useRef)(null),D=(({containerRef:e})=>(0,i.useCallback)(((t,n=0)=>{if(e.current){const{top:r}=e.current.getBoundingClientRect(),{top:o}=t.getBoundingClientRect(),i=o+e.current.scrollTop-r,a=i-n;e.current.scrollTo({top:a>=0?a:i})}}),[e]))({containerRef:y}),P=(0,i.useRef)(!1);(0,i.useEffect)((()=>{I.current&&O.current&&o.autoScroll&&D(O.current,E)}),[D,I,p,O,o.autoScroll,E]),(0,i.useEffect)((()=>{I.current&&O.current&&o.autoScroll&&v&&!P.current&&D(O.current,E)}),[D,I,O,o.autoScroll,v,E]);const A=(0,r.useTheme2)(),M=Zi(A),F=(0,i.useMemo)((()=>{if(!o.groups)return[];const e=o.groups.find((e=>e.name===p));return e?[e,...o.groups.filter((e=>e.name!==p))]:o.groups}),[p,o.groups]);return a().createElement(r.ClickOutsideWrapper,{onClick:()=>{P.current&&(P.current=!1)},useCapture:!0},a().createElement("div",{"data-testid":Io,className:(0,n.cx)(M.wrapper,n.css`
            width: ${l}px;
            height: ${s}px;
          `),ref:I,onMouseDown:()=>{P.current=!0}},!v.length&&a().createElement(r.Alert,{"data-testid":Eo,severity:"info",title:"Variable"},"Variable is not selected or do not match returned fields."),a().createElement("div",{style:R,className:M.content,ref:y,"data-testid":xo},F.length>1&&a().createElement("div",{ref:S,className:M.header},a().createElement(r.ToolbarButtonRow,{alignment:"left",key:p,className:M.toolbar},F.map(((e,t)=>a().createElement(r.ToolbarButton,{key:e.name,variant:p===e.name?"active":"default",onClick:()=>{f(e.name)},"data-testid":Ro(e.name),className:M.toolbarButton,style:{maxWidth:0===t?l-60:void 0}},e.name))))),a().createElement(Cl,{key:p,columns:b,data:v,getSubRows:h,showHeader:o.header,firstSelectedRowRef:O,tableRef:w,tableHeaderRef:x,topOffset:C,scrollableContainerRef:y,alwaysVisibleFilter:o.alwaysVisibleFilter}))))};function El(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Il(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){El(e,t,n[t])}))}return e}function Rl(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}const Ol=new e.PanelPlugin((n=>{var{options:r,eventBus:o}=n,l=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(n,["options","eventBus"]);const s=(0,i.useRef)(new e.EventBusSrv);return(({eventBus:e,variableName:n})=>{const{variable:r}=Ui(e,n),o=null==r?void 0:r.current;(0,i.useEffect)((()=>{if(null==o?void 0:o.value){const e=t.locationService.getLocation();t.locationService.replace(`/d/${o.value}${e.search}`)}}),[null==o?void 0:o.value])})({eventBus:o,variableName:r.dashboardVariable}),(({eventBus:e,panelEventBus:n,variableName:r,enabled:o})=>{const{variable:a}=Ui(e,r),l=Ki(r);(0,i.useEffect)((()=>{if(o&&a&&yi(a)&&a.multi){const e=t.locationService.getSearch().getAll(`var-${a.name}`).filter((e=>0!==e.toLowerCase().indexOf("all"))),r=(Array.isArray(a.current.value)?a.current.value:[a.current.value]).filter((e=>e!==di)),o=e.filter((e=>!a.options.some((t=>t.value===e))));if(o.length){const e=l.get();l.save((e=>{const t=new Set;return e.forEach((e=>{t.add(e)})),Array.from(t.values())})(e.concat(o))),bi(a.name,r.length?r:[ci],n)}const i=l.get(),s=i.length?i.filter((e=>a.options.some((t=>t.value===e)))):[];s.length&&(l.save(i.filter((e=>!s.includes(e)))),bi(a.name,r.concat(s),n))}}),[o,e,n,l,a])})({eventBus:o,variableName:r.variable,enabled:r.persistent,panelEventBus:s.current}),(({eventBus:e,panelEventBus:n,variableName:r})=>{const{variable:o}=Ui(e,r||""),a=(0,i.useRef)(!1);(0,i.useEffect)((()=>{const e=n.subscribe(ao,(()=>{r&&(a.current=!0)}));return()=>{e.unsubscribe()}}),[n,r]),(0,i.useEffect)((()=>{var e,n;a.current&&(a.current=!1,t.locationService.partial({[`var-${null==o?void 0:o.name}`]:null==o||null===(n=o.options)||void 0===n||null===(e=n[0])||void 0===e?void 0:e.value},!0))}),[o])})({eventBus:o,panelEventBus:s.current,variableName:r.resetVariable}),r.displayMode===Jr.MINIMIZE?a().createElement(ga,Il({options:r,eventBus:o,panelEventBus:s.current},l)):r.displayMode===Jr.BUTTON?a().createElement(ua,Il({options:r,eventBus:o,panelEventBus:s.current},l)):a().createElement(xl,Il({options:r,eventBus:o,panelEventBus:s.current},l))})).setNoPadding().useFieldConfig({disableStandardOptions:[e.FieldConfigProperty.Unit,e.FieldConfigProperty.Color,e.FieldConfigProperty.Min,e.FieldConfigProperty.Max,e.FieldConfigProperty.Decimals,e.FieldConfigProperty.DisplayName,e.FieldConfigProperty.NoValue,e.FieldConfigProperty.Links,e.FieldConfigProperty.Mappings,"unitScale","fieldMinMax"]}).setPanelOptions((n=>{const r=(0,t.getTemplateSrv)().getVariables().map((e=>({label:e.name,value:e.name}))),o=e=>e.displayMode===Jr.MINIMIZE,i=e=>e.displayMode===Jr.BUTTON,a=e=>e.displayMode===Jr.TABLE;var l,s;return n.addRadio({path:"displayMode",name:"Display mode",settings:{options:lo},defaultValue:Jr.TABLE}),n.addSliderInput({path:"padding",name:"Padding",defaultValue:10,settings:{min:0,max:20},showIf:e=>o(e)||i(e)}).addRadio({path:"emptyValue",name:"Allow empty value",description:"Supports empty value for multi-choice variable.",defaultValue:!1,settings:{options:yo},showIf:e=>o(e)||i(e)}).addRadio({path:"persistent",name:"Persistent values",description:"Allow to keep selected values if unavailable.",defaultValue:!1,settings:{options:wo},showIf:e=>o(e)||i(e)}).addRadio({path:"showLabel",name:"Show Label",description:"Display variable name",defaultValue:!1,settings:{options:So},showIf:e=>i(e)}).addRadio({path:"customValue",name:"Allow custom values",description:"Supports custom values for the variable.",defaultValue:!1,settings:{options:Co},showIf:e=>o(e)}),n.addRadio({path:"sticky",name:"Sticky position",description:"Variables will follow when scrolling.",settings:{options:uo},defaultValue:!1,showIf:a}).addRadio({path:"autoScroll",name:"Auto scroll to the selected value",settings:{options:bo},defaultValue:!1,showIf:a}),n.addRadio({path:"header",name:"Header",settings:{options:so},category:["Header"],defaultValue:!0,showIf:a}).addRadio({path:"filter",name:"Allow values filtering",settings:{options:co},defaultValue:!1,category:["Header"],showIf:e=>a(e)&&e.header}).addRadio({path:"alwaysVisibleFilter",name:"Always visible filter input",settings:{options:go},defaultValue:!1,category:["Header"],showIf:e=>a(e)&&e.header&&e.filter}).addRadio({path:"favorites",name:"Allow selecting favorites",description:"Saved in the browser storage for each user.",settings:{options:po},defaultValue:!1,category:["Header"],showIf:e=>a(e)&&e.header}).addRadio({path:"statusSort",name:"Sort by status",settings:{options:mo},defaultValue:!1,category:["Header"],showIf:e=>a(e)&&e.header}),n.addSelect({path:"variable",name:"Select variable to display",settings:{options:r},category:["Layout"],showIf:e=>{var t;return o(e)||!(null===(t=e.groups)||void 0===t?void 0:t.length)}}).addCustomEditor({id:"groups",path:"groups",name:"Tree View based on data source query",editor:ji,category:["Layout"],showIf:a}).addRadio({path:"showName",name:"Display variable names",settings:{options:vo},defaultValue:!1,category:["Layout"],showIf:e=>{var t;return a(e)&&!!(null===(t=e.groups)||void 0===t?void 0:t.length)}}),n.addRadio({path:"groupSelection",name:"Allow multi-level selection",settings:{options:ho},defaultValue:!1,category:["Groups"],showIf:e=>{var t;return a(e)&&!!(null===(t=e.groups)||void 0===t?void 0:t.length)}}).addRadio({path:"saveSelectedGroup",name:"Preserve selected group",description:"Saved in the browser storage for each user.",settings:{options:fo},defaultValue:!1,category:["Groups"],showIf:e=>{var t;return a(e)&&(null===(t=e.groups)||void 0===t?void 0:t.length)>1}}).addTextInput({path:"saveSelectedGroupKey",name:"Selected group Id",description:"Key to preserve selected group in the browser storage.",defaultValue:"",settings:{placeholder:"Will be unique per panel if empty"},showIf:e=>a(e)&&e.saveSelectedGroup,category:["Groups"]}),n.addFieldNamePicker({path:"name",name:"Field with variable values. First string field will be used if not specified.",settings:{filter:t=>t.type===e.FieldType.string,noFieldsMessage:"No strings fields found"},category:["Status"],showIf:e=>a(e)||i(e)}).addFieldNamePicker({path:"status",name:"Field with status values. First number field will be used if not specified.",settings:{filter:t=>t.type===e.FieldType.number,noFieldsMessage:"No number fields found"},category:["Status"],showIf:e=>a(e)||i(e)}),n.addSelect({path:"dashboardVariable",name:"Select variable with dashboard UID",description:"Allows to redirect to different dashboards",settings:{options:r},category:["Advanced"]}).addSelect({path:"resetVariable",name:"Select dependent variable to reset",settings:{options:[],getOptions:(l=function*(e){return r.filter((t=>t.label!==e.options.variable))},s=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=l.apply(e,t);function i(e){Rl(o,n,r,i,a,"next",e)}function a(e){Rl(o,n,r,i,a,"throw",e)}i(void 0)}))},function(e){return s.apply(this,arguments)}),isClearable:!0},category:["Advanced"],showIf:e=>(e=>!!e.variable)(e)}),n}))})(),p})()));
//# sourceMappingURL=module.js.map